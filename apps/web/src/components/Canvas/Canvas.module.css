.container {
  flex: 1;
  background-color: var(--bg-tertiary);
  background-image:
    linear-gradient(45deg, var(--bg-secondary) 25%, transparent 25%),
    linear-gradient(-45deg, var(--bg-secondary) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, var(--bg-secondary) 75%),
    linear-gradient(-45deg, transparent 75%, var(--bg-secondary) 75%);
  background-size: 20px 20px;
  background-position: 0 0, 0 10px, 10px -10px, -10px 0;
  overflow: hidden;
  position: relative;

  /* Prevent default touch behaviors (pinch zoom, scroll) */
  touch-action: none;

  /* Prevent text selection during drag */
  user-select: none;
  -webkit-user-select: none;

  /* Smooth cursor transitions */
  transition: cursor var(--transition-fast);
}

/* Canvas loading state */
.container.loading {
  opacity: 0.7;
  pointer-events: none;
}

/* Cursor states */
.container[data-cursor="grab"] {
  cursor: grab;
}

.container[data-cursor="grabbing"] {
  cursor: grabbing;
}

.container[data-cursor="crosshair"] {
  cursor: crosshair;
}

.container[data-cursor="move"] {
  cursor: move;
}

/* Focus indicator for canvas */
.container:focus {
  outline: none;
}

.container:focus-visible {
  box-shadow: inset 0 0 0 2px var(--accent-color);
  animation: glowPulse 1.5s ease-in-out infinite;
}

/* Canvas entrance animation */
.container {
  animation: scaleIn 0.35s ease;
}

/* Smooth background pattern transition */
.container::after {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at center, transparent 0%, var(--bg-tertiary) 100%);
  opacity: 0;
  transition: opacity var(--transition-slow);
  pointer-events: none;
}

/* Hover vignette effect */
.container:hover::after {
  opacity: 0.3;
}

/* Active drawing state feedback */
.container[data-cursor="crosshair"] {
  background-color: var(--bg-tertiary);
}

.container[data-cursor="crosshair"]::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    135deg,
    transparent 0%,
    var(--accent-subtle) 50%,
    transparent 100%
  );
  opacity: 0.1;
  pointer-events: none;
  animation: shimmer 3s linear infinite;
  background-size: 200% 200%;
}
