var jy=Object.defineProperty;var By=(i,t,o)=>t in i?jy(i,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[t]=o;var Th=(i,t,o)=>By(i,typeof t!="symbol"?t+"":t,o);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))a(d);new MutationObserver(d=>{for(const u of d)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function o(d){const u={};return d.integrity&&(u.integrity=d.integrity),d.referrerPolicy&&(u.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?u.credentials="include":d.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(d){if(d.ep)return;d.ep=!0;const u=o(d);fetch(d.href,u)}})();var dg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ad(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var i0={exports:{}},lc={},s0={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg;function Gy(){if(hg)return Ze;hg=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),P=Symbol.iterator;function x(F){return F===null||typeof F!="object"?null:(F=P&&F[P]||F["@@iterator"],typeof F=="function"?F:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function M(F,Q,Z){this.props=F,this.context=Q,this.refs=N,this.updater=Z||w}M.prototype.isReactComponent={},M.prototype.setState=function(F,Q){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Q,"setState")},M.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function b(){}b.prototype=M.prototype;function T(F,Q,Z){this.props=F,this.context=Q,this.refs=N,this.updater=Z||w}var v=T.prototype=new b;v.constructor=T,C(v,M.prototype),v.isPureReactComponent=!0;var L=Array.isArray,D=Object.prototype.hasOwnProperty,j={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function I(F,Q,Z){var he,me={},le=null,Y=null;if(Q!=null)for(he in Q.ref!==void 0&&(Y=Q.ref),Q.key!==void 0&&(le=""+Q.key),Q)D.call(Q,he)&&!H.hasOwnProperty(he)&&(me[he]=Q[he]);var se=arguments.length-2;if(se===1)me.children=Z;else if(1<se){for(var ye=Array(se),xe=0;xe<se;xe++)ye[xe]=arguments[xe+2];me.children=ye}if(F&&F.defaultProps)for(he in se=F.defaultProps,se)me[he]===void 0&&(me[he]=se[he]);return{$$typeof:i,type:F,key:le,ref:Y,props:me,_owner:j.current}}function z(F,Q){return{$$typeof:i,type:F.type,key:Q,ref:F.ref,props:F.props,_owner:F._owner}}function B(F){return typeof F=="object"&&F!==null&&F.$$typeof===i}function q(F){var Q={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(Z){return Q[Z]})}var K=/\/+/g;function ee(F,Q){return typeof F=="object"&&F!==null&&F.key!=null?q(""+F.key):Q.toString(36)}function ne(F,Q,Z,he,me){var le=typeof F;(le==="undefined"||le==="boolean")&&(F=null);var Y=!1;if(F===null)Y=!0;else switch(le){case"string":case"number":Y=!0;break;case"object":switch(F.$$typeof){case i:case t:Y=!0}}if(Y)return Y=F,me=me(Y),F=he===""?"."+ee(Y,0):he,L(me)?(Z="",F!=null&&(Z=F.replace(K,"$&/")+"/"),ne(me,Q,Z,"",function(xe){return xe})):me!=null&&(B(me)&&(me=z(me,Z+(!me.key||Y&&Y.key===me.key?"":(""+me.key).replace(K,"$&/")+"/")+F)),Q.push(me)),1;if(Y=0,he=he===""?".":he+":",L(F))for(var se=0;se<F.length;se++){le=F[se];var ye=he+ee(le,se);Y+=ne(le,Q,Z,ye,me)}else if(ye=x(F),typeof ye=="function")for(F=ye.call(F),se=0;!(le=F.next()).done;)le=le.value,ye=he+ee(le,se++),Y+=ne(le,Q,Z,ye,me);else if(le==="object")throw Q=String(F),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Y}function $(F,Q,Z){if(F==null)return F;var he=[],me=0;return ne(F,he,"","",function(le){return Q.call(Z,le,me++)}),he}function pe(F){if(F._status===-1){var Q=F._result;Q=Q(),Q.then(function(Z){(F._status===0||F._status===-1)&&(F._status=1,F._result=Z)},function(Z){(F._status===0||F._status===-1)&&(F._status=2,F._result=Z)}),F._status===-1&&(F._status=0,F._result=Q)}if(F._status===1)return F._result.default;throw F._result}var A={current:null},U={transition:null},W={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:U,ReactCurrentOwner:j};function G(){throw Error("act(...) is not supported in production builds of React.")}return Ze.Children={map:$,forEach:function(F,Q,Z){$(F,function(){Q.apply(this,arguments)},Z)},count:function(F){var Q=0;return $(F,function(){Q++}),Q},toArray:function(F){return $(F,function(Q){return Q})||[]},only:function(F){if(!B(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Ze.Component=M,Ze.Fragment=o,Ze.Profiler=d,Ze.PureComponent=T,Ze.StrictMode=a,Ze.Suspense=m,Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,Ze.act=G,Ze.cloneElement=function(F,Q,Z){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var he=C({},F.props),me=F.key,le=F.ref,Y=F._owner;if(Q!=null){if(Q.ref!==void 0&&(le=Q.ref,Y=j.current),Q.key!==void 0&&(me=""+Q.key),F.type&&F.type.defaultProps)var se=F.type.defaultProps;for(ye in Q)D.call(Q,ye)&&!H.hasOwnProperty(ye)&&(he[ye]=Q[ye]===void 0&&se!==void 0?se[ye]:Q[ye])}var ye=arguments.length-2;if(ye===1)he.children=Z;else if(1<ye){se=Array(ye);for(var xe=0;xe<ye;xe++)se[xe]=arguments[xe+2];he.children=se}return{$$typeof:i,type:F.type,key:me,ref:le,props:he,_owner:Y}},Ze.createContext=function(F){return F={$$typeof:f,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:u,_context:F},F.Consumer=F},Ze.createElement=I,Ze.createFactory=function(F){var Q=I.bind(null,F);return Q.type=F,Q},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(F){return{$$typeof:p,render:F}},Ze.isValidElement=B,Ze.lazy=function(F){return{$$typeof:k,_payload:{_status:-1,_result:F},_init:pe}},Ze.memo=function(F,Q){return{$$typeof:_,type:F,compare:Q===void 0?null:Q}},Ze.startTransition=function(F){var Q=U.transition;U.transition={};try{F()}finally{U.transition=Q}},Ze.unstable_act=G,Ze.useCallback=function(F,Q){return A.current.useCallback(F,Q)},Ze.useContext=function(F){return A.current.useContext(F)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(F){return A.current.useDeferredValue(F)},Ze.useEffect=function(F,Q){return A.current.useEffect(F,Q)},Ze.useId=function(){return A.current.useId()},Ze.useImperativeHandle=function(F,Q,Z){return A.current.useImperativeHandle(F,Q,Z)},Ze.useInsertionEffect=function(F,Q){return A.current.useInsertionEffect(F,Q)},Ze.useLayoutEffect=function(F,Q){return A.current.useLayoutEffect(F,Q)},Ze.useMemo=function(F,Q){return A.current.useMemo(F,Q)},Ze.useReducer=function(F,Q,Z){return A.current.useReducer(F,Q,Z)},Ze.useRef=function(F){return A.current.useRef(F)},Ze.useState=function(F){return A.current.useState(F)},Ze.useSyncExternalStore=function(F,Q,Z){return A.current.useSyncExternalStore(F,Q,Z)},Ze.useTransition=function(){return A.current.useTransition()},Ze.version="18.3.1",Ze}var fg;function eu(){return fg||(fg=1,s0.exports=Gy()),s0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg;function Vy(){if(pg)return lc;pg=1;var i=eu(),t=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,d=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function f(p,m,_){var k,P={},x=null,w=null;_!==void 0&&(x=""+_),m.key!==void 0&&(x=""+m.key),m.ref!==void 0&&(w=m.ref);for(k in m)a.call(m,k)&&!u.hasOwnProperty(k)&&(P[k]=m[k]);if(p&&p.defaultProps)for(k in m=p.defaultProps,m)P[k]===void 0&&(P[k]=m[k]);return{$$typeof:t,type:p,key:x,ref:w,props:P,_owner:d.current}}return lc.Fragment=o,lc.jsx=f,lc.jsxs=f,lc}var gg;function Hy(){return gg||(gg=1,i0.exports=Vy()),i0.exports}var J=Hy(),we=eu();const Yn=ad(we);var Rh={},o0={exports:{}},Lr={},l0={exports:{}},a0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg;function Wy(){return mg||(mg=1,(function(i){function t(U,W){var G=U.length;U.push(W);e:for(;0<G;){var F=G-1>>>1,Q=U[F];if(0<d(Q,W))U[F]=W,U[G]=Q,G=F;else break e}}function o(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var W=U[0],G=U.pop();if(G!==W){U[0]=G;e:for(var F=0,Q=U.length,Z=Q>>>1;F<Z;){var he=2*(F+1)-1,me=U[he],le=he+1,Y=U[le];if(0>d(me,G))le<Q&&0>d(Y,me)?(U[F]=Y,U[le]=G,F=le):(U[F]=me,U[he]=G,F=he);else if(le<Q&&0>d(Y,G))U[F]=Y,U[le]=G,F=le;else break e}}return W}function d(U,W){var G=U.sortIndex-W.sortIndex;return G!==0?G:U.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var m=[],_=[],k=1,P=null,x=3,w=!1,C=!1,N=!1,M=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(U){for(var W=o(_);W!==null;){if(W.callback===null)a(_);else if(W.startTime<=U)a(_),W.sortIndex=W.expirationTime,t(m,W);else break;W=o(_)}}function L(U){if(N=!1,v(U),!C)if(o(m)!==null)C=!0,pe(D);else{var W=o(_);W!==null&&A(L,W.startTime-U)}}function D(U,W){C=!1,N&&(N=!1,b(I),I=-1),w=!0;var G=x;try{for(v(W),P=o(m);P!==null&&(!(P.expirationTime>W)||U&&!q());){var F=P.callback;if(typeof F=="function"){P.callback=null,x=P.priorityLevel;var Q=F(P.expirationTime<=W);W=i.unstable_now(),typeof Q=="function"?P.callback=Q:P===o(m)&&a(m),v(W)}else a(m);P=o(m)}if(P!==null)var Z=!0;else{var he=o(_);he!==null&&A(L,he.startTime-W),Z=!1}return Z}finally{P=null,x=G,w=!1}}var j=!1,H=null,I=-1,z=5,B=-1;function q(){return!(i.unstable_now()-B<z)}function K(){if(H!==null){var U=i.unstable_now();B=U;var W=!0;try{W=H(!0,U)}finally{W?ee():(j=!1,H=null)}}else j=!1}var ee;if(typeof T=="function")ee=function(){T(K)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,$=ne.port2;ne.port1.onmessage=K,ee=function(){$.postMessage(null)}}else ee=function(){M(K,0)};function pe(U){H=U,j||(j=!0,ee())}function A(U,W){I=M(function(){U(i.unstable_now())},W)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(U){U.callback=null},i.unstable_continueExecution=function(){C||w||(C=!0,pe(D))},i.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<U?Math.floor(1e3/U):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_getFirstCallbackNode=function(){return o(m)},i.unstable_next=function(U){switch(x){case 1:case 2:case 3:var W=3;break;default:W=x}var G=x;x=W;try{return U()}finally{x=G}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(U,W){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var G=x;x=U;try{return W()}finally{x=G}},i.unstable_scheduleCallback=function(U,W,G){var F=i.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?F+G:F):G=F,U){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=G+Q,U={id:k++,callback:W,priorityLevel:U,startTime:G,expirationTime:Q,sortIndex:-1},G>F?(U.sortIndex=G,t(_,U),o(m)===null&&U===o(_)&&(N?(b(I),I=-1):N=!0,A(L,G-F))):(U.sortIndex=Q,t(m,U),C||w||(C=!0,pe(D))),U},i.unstable_shouldYield=q,i.unstable_wrapCallback=function(U){var W=x;return function(){var G=x;x=W;try{return U.apply(this,arguments)}finally{x=G}}}})(a0)),a0}var yg;function Z0(){return yg||(yg=1,l0.exports=Wy()),l0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function Yy(){if(vg)return Lr;vg=1;var i=eu(),t=Z0();function o(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,l=1;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,d={};function u(e,n){f(e,n),f(e+"Capture",n)}function f(e,n){for(d[e]=n,e=0;e<n.length;e++)a.add(n[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k={},P={};function x(e){return m.call(P,e)?!0:m.call(k,e)?!1:_.test(e)?P[e]=!0:(k[e]=!0,!1)}function w(e,n,l,h){if(l!==null&&l.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C(e,n,l,h){if(n===null||typeof n>"u"||w(e,n,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function N(e,n,l,h,y,E,O){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=h,this.attributeNamespace=y,this.mustUseProperty=l,this.propertyName=e,this.type=n,this.sanitizeURL=E,this.removeEmptyString=O}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){M[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];M[n]=new N(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){M[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){M[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){M[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){M[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){M[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){M[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){M[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function T(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(b,T);M[n]=new N(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(b,T);M[n]=new N(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(b,T);M[n]=new N(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){M[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),M.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){M[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function v(e,n,l,h){var y=M.hasOwnProperty(n)?M[n]:null;(y!==null?y.type!==0:h||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(C(n,l,y,h)&&(l=null),h||y===null?x(n)&&(l===null?e.removeAttribute(n):e.setAttribute(n,""+l)):y.mustUseProperty?e[y.propertyName]=l===null?y.type===3?!1:"":l:(n=y.attributeName,h=y.attributeNamespace,l===null?e.removeAttribute(n):(y=y.type,l=y===3||y===4&&l===!0?"":""+l,h?e.setAttributeNS(h,n,l):e.setAttribute(n,l))))}var L=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),j=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),q=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),U=Symbol.iterator;function W(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var G=Object.assign,F;function Q(e){if(F===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);F=n&&n[1]||""}return`
`+F+e}var Z=!1;function he(e,n){if(!e||Z)return"";Z=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(de){var h=de}Reflect.construct(e,[],n)}else{try{n.call()}catch(de){h=de}e.call(n.prototype)}else{try{throw Error()}catch(de){h=de}e()}}catch(de){if(de&&h&&typeof de.stack=="string"){for(var y=de.stack.split(`
`),E=h.stack.split(`
`),O=y.length-1,X=E.length-1;1<=O&&0<=X&&y[O]!==E[X];)X--;for(;1<=O&&0<=X;O--,X--)if(y[O]!==E[X]){if(O!==1||X!==1)do if(O--,X--,0>X||y[O]!==E[X]){var te=`
`+y[O].replace(" at new "," at ");return e.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",e.displayName)),te}while(1<=O&&0<=X);break}}}finally{Z=!1,Error.prepareStackTrace=l}return(e=e?e.displayName||e.name:"")?Q(e):""}function me(e){switch(e.tag){case 5:return Q(e.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return e=he(e.type,!1),e;case 11:return e=he(e.type.render,!1),e;case 1:return e=he(e.type,!0),e;default:return""}}function le(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case j:return"Portal";case z:return"Profiler";case I:return"StrictMode";case ee:return"Suspense";case ne:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case q:return(e.displayName||"Context")+".Consumer";case B:return(e._context.displayName||"Context")+".Provider";case K:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return n=e.displayName||null,n!==null?n:le(e.type)||"Memo";case pe:n=e._payload,e=e._init;try{return le(e(n))}catch{}}return null}function Y(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(n);case 8:return n===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function se(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ye(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xe(e){var n=ye(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),h=""+e[n];if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var y=l.get,E=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return y.call(this)},set:function(O){h=""+O,E.call(this,O)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(O){h=""+O},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Pe(e){e._valueTracker||(e._valueTracker=xe(e))}function be(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),h="";return e&&(h=ye(e)?e.checked?"true":"false":e.value),e=h,e!==l?(n.setValue(e),!0):!1}function Oe(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rt(e,n){var l=n.checked;return G({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??e._wrapperState.initialChecked})}function Ge(e,n){var l=n.defaultValue==null?"":n.defaultValue,h=n.checked!=null?n.checked:n.defaultChecked;l=se(n.value!=null?n.value:l),e._wrapperState={initialChecked:h,initialValue:l,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function jt(e,n){n=n.checked,n!=null&&v(e,"checked",n,!1)}function ot(e,n){jt(e,n);var l=se(n.value),h=n.type;if(l!=null)h==="number"?(l===0&&e.value===""||e.value!=l)&&(e.value=""+l):e.value!==""+l&&(e.value=""+l);else if(h==="submit"||h==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Hr(e,n.type,l):n.hasOwnProperty("defaultValue")&&Hr(e,n.type,se(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Et(e,n,l){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var h=n.type;if(!(h!=="submit"&&h!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,l||n===e.value||(e.value=n),e.defaultValue=n}l=e.name,l!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,l!==""&&(e.name=l)}function Hr(e,n,l){(n!=="number"||Oe(e.ownerDocument)!==e)&&(l==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+l&&(e.defaultValue=""+l))}var Dt=Array.isArray;function Sr(e,n,l,h){if(e=e.options,n){n={};for(var y=0;y<l.length;y++)n["$"+l[y]]=!0;for(l=0;l<e.length;l++)y=n.hasOwnProperty("$"+e[l].value),e[l].selected!==y&&(e[l].selected=y),y&&h&&(e[l].defaultSelected=!0)}else{for(l=""+se(l),n=null,y=0;y<e.length;y++){if(e[y].value===l){e[y].selected=!0,h&&(e[y].defaultSelected=!0);return}n!==null||e[y].disabled||(n=e[y])}n!==null&&(n.selected=!0)}}function ht(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(o(91));return G({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xn(e,n){var l=n.value;if(l==null){if(l=n.children,n=n.defaultValue,l!=null){if(n!=null)throw Error(o(92));if(Dt(l)){if(1<l.length)throw Error(o(93));l=l[0]}n=l}n==null&&(n=""),l=n}e._wrapperState={initialValue:se(l)}}function dn(e,n){var l=se(n.value),h=se(n.defaultValue);l!=null&&(l=""+l,l!==e.value&&(e.value=l),n.defaultValue==null&&e.defaultValue!==l&&(e.defaultValue=l)),h!=null&&(e.defaultValue=""+h)}function Wr(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function hn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wr(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?hn(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var kn,or=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,l,h,y){MSApp.execUnsafeLocalFunction(function(){return e(n,l,h,y)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(kn=kn||document.createElement("div"),kn.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=kn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Bt(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var Gt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ns=["Webkit","ms","Moz","O"];Object.keys(Gt).forEach(function(e){ns.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Gt[n]=Gt[e]})});function Vo(e,n,l){return n==null||typeof n=="boolean"||n===""?"":l||typeof n!="number"||n===0||Gt.hasOwnProperty(e)&&Gt[e]?(""+n).trim():n+"px"}function rs(e,n){e=e.style;for(var l in n)if(n.hasOwnProperty(l)){var h=l.indexOf("--")===0,y=Vo(l,n[l],h);l==="float"&&(l="cssFloat"),h?e.setProperty(l,y):e[l]=y}}var lu=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ho(e,n){if(n){if(lu[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(o(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(o(61))}if(n.style!=null&&typeof n.style!="object")throw Error(o(62))}}function Fl(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var au=null;function uu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cu=null,Bs=null,Gs=null;function yd(e){if(e=ul(e)){if(typeof cu!="function")throw Error(o(280));var n=e.stateNode;n&&(n=ln(n),cu(e.stateNode,e.type,n))}}function du(e){Bs?Gs?Gs.push(e):Gs=[e]:Bs=e}function hu(){if(Bs){var e=Bs,n=Gs;if(Gs=Bs=null,yd(e),n)for(e=0;e<n.length;e++)yd(n[e])}}function vd(e,n){return e(n)}function Ol(){}var zl=!1;function fu(e,n,l){if(zl)return e(n,l);zl=!0;try{return vd(e,n,l)}finally{zl=!1,(Bs!==null||Gs!==null)&&(Ol(),hu())}}function Wo(e,n){var l=e.stateNode;if(l===null)return null;var h=ln(l);if(h===null)return null;l=h[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(e=e.type,h=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!h;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,n,typeof l));return l}var pu=!1;if(p)try{var Yo={};Object.defineProperty(Yo,"passive",{get:function(){pu=!0}}),window.addEventListener("test",Yo,Yo),window.removeEventListener("test",Yo,Yo)}catch{pu=!1}function _d(e,n,l,h,y,E,O,X,te){var de=Array.prototype.slice.call(arguments,3);try{n.apply(l,de)}catch(_e){this.onError(_e)}}var is=!1,Ul=null,bl=!1,Vs=null,Sf={onError:function(e){is=!0,Ul=e}};function wf(e,n,l,h,y,E,O,X,te){is=!1,Ul=null,_d.apply(Sf,arguments)}function kf(e,n,l,h,y,E,O,X,te){if(wf.apply(this,arguments),is){if(is){var de=Ul;is=!1,Ul=null}else throw Error(o(198));bl||(bl=!0,Vs=de)}}function ss(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function Sd(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function wd(e){if(ss(e)!==e)throw Error(o(188))}function xf(e){var n=e.alternate;if(!n){if(n=ss(e),n===null)throw Error(o(188));return n!==e?null:e}for(var l=e,h=n;;){var y=l.return;if(y===null)break;var E=y.alternate;if(E===null){if(h=y.return,h!==null){l=h;continue}break}if(y.child===E.child){for(E=y.child;E;){if(E===l)return wd(y),e;if(E===h)return wd(y),n;E=E.sibling}throw Error(o(188))}if(l.return!==h.return)l=y,h=E;else{for(var O=!1,X=y.child;X;){if(X===l){O=!0,l=y,h=E;break}if(X===h){O=!0,h=y,l=E;break}X=X.sibling}if(!O){for(X=E.child;X;){if(X===l){O=!0,l=E,h=y;break}if(X===h){O=!0,h=E,l=y;break}X=X.sibling}if(!O)throw Error(o(189))}}if(l.alternate!==h)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:n}function kd(e){return e=xf(e),e!==null?xd(e):null}function xd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=xd(e);if(n!==null)return n;e=e.sibling}return null}var Cd=t.unstable_scheduleCallback,Ed=t.unstable_cancelCallback,Cf=t.unstable_shouldYield,Ef=t.unstable_requestPaint,Ot=t.unstable_now,gu=t.unstable_getCurrentPriorityLevel,os=t.unstable_ImmediatePriority,jl=t.unstable_UserBlockingPriority,Hs=t.unstable_NormalPriority,Pf=t.unstable_LowPriority,Bl=t.unstable_IdlePriority,ui=null,fn=null;function St(e){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(ui,e,void 0,(e.current.flags&128)===128)}catch{}}var Qe=Math.clz32?Math.clz32:Kn,Ti=Math.log,xn=Math.LN2;function Kn(e){return e>>>=0,e===0?32:31-(Ti(e)/xn|0)|0}var Yr=64,ci=4194304;function rn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ls(e,n){var l=e.pendingLanes;if(l===0)return 0;var h=0,y=e.suspendedLanes,E=e.pingedLanes,O=l&268435455;if(O!==0){var X=O&~y;X!==0?h=rn(X):(E&=O,E!==0&&(h=rn(E)))}else O=l&~y,O!==0?h=rn(O):E!==0&&(h=rn(E));if(h===0)return 0;if(n!==0&&n!==h&&(n&y)===0&&(y=h&-h,E=n&-n,y>=E||y===16&&(E&4194240)!==0))return n;if((h&4)!==0&&(h|=l&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=h;0<n;)l=31-Qe(n),y=1<<l,h|=e[l],n&=~y;return h}function Pd(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nd(e,n){for(var l=e.suspendedLanes,h=e.pingedLanes,y=e.expirationTimes,E=e.pendingLanes;0<E;){var O=31-Qe(E),X=1<<O,te=y[O];te===-1?((X&l)===0||(X&h)!==0)&&(y[O]=Pd(X,n)):te<=n&&(e.expiredLanes|=X),E&=~X}}function Ws(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mu(){var e=Yr;return Yr<<=1,(Yr&4194240)===0&&(Yr=64),e}function lr(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function qo(e,n,l){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Qe(n),e[n]=l}function Nf(e,n){var l=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var h=e.eventTimes;for(e=e.expirationTimes;0<l;){var y=31-Qe(l),E=1<<y;n[y]=0,h[y]=-1,e[y]=-1,l&=~E}}function yu(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var h=31-Qe(l),y=1<<h;y&n|e[h]&n&&(e[h]|=n),l&=~y}}var st=0;function Xo(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ys,qs,Td,Rd,Gl,Vl=!1,Xs=[],kr=null,Ri=null,qr=null,Je=new Map,Ks=new Map,Xr=[],Ld="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Md(e,n){switch(e){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":Je.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ks.delete(n.pointerId)}}function Ko(e,n,l,h,y,E){return e===null||e.nativeEvent!==E?(e={blockedOn:n,domEventName:l,eventSystemFlags:h,nativeEvent:E,targetContainers:[y]},n!==null&&(n=ul(n),n!==null&&qs(n)),e):(e.eventSystemFlags|=h,n=e.targetContainers,y!==null&&n.indexOf(y)===-1&&n.push(y),e)}function sn(e,n,l,h,y){switch(n){case"focusin":return kr=Ko(kr,e,n,l,h,y),!0;case"dragenter":return Ri=Ko(Ri,e,n,l,h,y),!0;case"mouseover":return qr=Ko(qr,e,n,l,h,y),!0;case"pointerover":var E=y.pointerId;return Je.set(E,Ko(Je.get(E)||null,e,n,l,h,y)),!0;case"gotpointercapture":return E=y.pointerId,Ks.set(E,Ko(Ks.get(E)||null,e,n,l,h,y)),!0}return!1}function Hl(e){var n=bi(e.target);if(n!==null){var l=ss(n);if(l!==null){if(n=l.tag,n===13){if(n=Sd(l),n!==null){e.blockedOn=n,Gl(e.priority,function(){Td(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=Xl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(l===null){l=e.nativeEvent;var h=new l.constructor(l.type,l);au=h,l.target.dispatchEvent(h),au=null}else return n=ul(l),n!==null&&qs(n),e.blockedOn=l,!1;n.shift()}return!0}function Yl(e,n,l){Wl(e)&&l.delete(n)}function Tf(){Vl=!1,kr!==null&&Wl(kr)&&(kr=null),Ri!==null&&Wl(Ri)&&(Ri=null),qr!==null&&Wl(qr)&&(qr=null),Je.forEach(Yl),Ks.forEach(Yl)}function Li(e,n){e.blockedOn===n&&(e.blockedOn=null,Vl||(Vl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Tf)))}function Qn(e){function n(y){return Li(y,e)}if(0<Xs.length){Li(Xs[0],e);for(var l=1;l<Xs.length;l++){var h=Xs[l];h.blockedOn===e&&(h.blockedOn=null)}}for(kr!==null&&Li(kr,e),Ri!==null&&Li(Ri,e),qr!==null&&Li(qr,e),Je.forEach(n),Ks.forEach(n),l=0;l<Xr.length;l++)h=Xr[l],h.blockedOn===e&&(h.blockedOn=null);for(;0<Xr.length&&(l=Xr[0],l.blockedOn===null);)Hl(l),l.blockedOn===null&&Xr.shift()}var Qs=L.ReactCurrentBatchConfig,ql=!0;function Ar(e,n,l,h){var y=st,E=Qs.transition;Qs.transition=null;try{st=1,Js(e,n,l,h)}finally{st=y,Qs.transition=E}}function di(e,n,l,h){var y=st,E=Qs.transition;Qs.transition=null;try{st=4,Js(e,n,l,h)}finally{st=y,Qs.transition=E}}function Js(e,n,l,h){if(ql){var y=Xl(e,n,l,h);if(y===null)ca(e,n,h,Zs,l),Md(e,h);else if(sn(y,e,n,l,h))h.stopPropagation();else if(Md(e,h),n&4&&-1<Ld.indexOf(e)){for(;y!==null;){var E=ul(y);if(E!==null&&Ys(E),E=Xl(e,n,l,h),E===null&&ca(e,n,h,Zs,l),E===y)break;y=E}y!==null&&h.stopPropagation()}else ca(e,n,h,null,l)}}var Zs=null;function Xl(e,n,l,h){if(Zs=null,e=uu(h),e=bi(e),e!==null)if(n=ss(e),n===null)e=null;else if(l=n.tag,l===13){if(e=Sd(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Zs=e,null}function Dd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gu()){case os:return 1;case jl:return 4;case Hs:case Pf:return 16;case Bl:return 536870912;default:return 16}default:return 16}}var pn=null,Mi=null,hi=null;function Qo(){if(hi)return hi;var e,n=Mi,l=n.length,h,y="value"in pn?pn.value:pn.textContent,E=y.length;for(e=0;e<l&&n[e]===y[e];e++);var O=l-e;for(h=1;h<=O&&n[l-h]===y[E-h];h++);return hi=y.slice(e,1<h?1-h:void 0)}function as(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function On(){return!0}function ar(){return!1}function Xt(e){function n(l,h,y,E,O){this._reactName=l,this._targetInst=y,this.type=h,this.nativeEvent=E,this.target=O,this.currentTarget=null;for(var X in e)e.hasOwnProperty(X)&&(l=e[X],this[X]=l?l(E):E[X]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?On:ar,this.isPropagationStopped=ar,this}return G(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=On)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=On)},persist:function(){},isPersistent:On}),n}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fr=Xt(Jn),Or=G({},Jn,{view:0,detail:0}),Id=Xt(Or),Jo,Zo,gn,zn=G({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gn&&(gn&&e.type==="mousemove"?(Jo=e.screenX-gn.screenX,Zo=e.screenY-gn.screenY):Zo=Jo=0,gn=e),Jo)},movementY:function(e){return"movementY"in e?e.movementY:Zo}}),wt=Xt(zn),$o=G({},zn,{dataTransfer:0}),zr=Xt($o),Ad=G({},Or,{relatedTarget:0}),Kl=Xt(Ad),vu=G({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),_u=Xt(vu),Fd=G({},Jn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ql=Xt(Fd),Od=G({},Jn,{data:0}),us=Xt(Od),Su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lf(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Jl[e])?!!n[e]:!1}function cs(){return Lf}var Zl=G({},Or,{key:function(e){if(e.key){var n=Su[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=as(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Rf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cs,charCode:function(e){return e.type==="keypress"?as(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?as(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zd=Xt(Zl),Ud=G({},zn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ds=Xt(Ud),bd=G({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cs}),$l=Xt(bd),ea=G({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),$s=Xt(ea),wu=G({},zn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ku=Xt(wu),jd=[9,13,27,32],el=p&&"CompositionEvent"in window,hs=null;p&&"documentMode"in document&&(hs=document.documentMode);var eo=p&&"TextEvent"in window&&!hs,ur=p&&(!el||hs&&8<hs&&11>=hs),Di=" ",ta=!1;function xu(e,n){switch(e){case"keyup":return jd.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ur(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cr=!1;function Cu(e,n){switch(e){case"compositionend":return Ur(n);case"keypress":return n.which!==32?null:(ta=!0,Di);case"textInput":return e=n.data,e===Di&&ta?null:e;default:return null}}function Bd(e,n){if(cr)return e==="compositionend"||!el&&xu(e,n)?(e=Qo(),hi=Mi=pn=null,cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ur&&n.locale!=="ko"?null:n.data;default:return null}}var fi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pi(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!fi[e.type]:n==="textarea"}function tl(e,n,l,h){du(h),n=da(n,"onChange"),0<n.length&&(l=new Fr("onChange","change",null,l,h),e.push({event:l,listeners:n}))}var to=null,Ii=null;function Gd(e){Fu(e,0)}function Ai(e){var n=Qt(e);if(be(n))return e}function xr(e,n){if(e==="change")return n}var no=!1;if(p){var Fi;if(p){var Cr="oninput"in document;if(!Cr){var na=document.createElement("div");na.setAttribute("oninput","return;"),Cr=typeof na.oninput=="function"}Fi=Cr}else Fi=!1;no=Fi&&(!document.documentMode||9<document.documentMode)}function fs(){to&&(to.detachEvent("onpropertychange",Eu),Ii=to=null)}function Eu(e){if(e.propertyName==="value"&&Ai(Ii)){var n=[];tl(n,Ii,e,uu(e)),fu(Gd,n)}}function Pu(e,n,l){e==="focusin"?(fs(),to=n,Ii=l,to.attachEvent("onpropertychange",Eu)):e==="focusout"&&fs()}function Mt(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ai(Ii)}function ra(e,n){if(e==="click")return Ai(n)}function Nu(e,n){if(e==="input"||e==="change")return Ai(n)}function Tu(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Zn=typeof Object.is=="function"?Object.is:Tu;function ps(e,n){if(Zn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),h=Object.keys(n);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var y=l[h];if(!m.call(n,y)||!Zn(e[y],n[y]))return!1}return!0}function Oi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pt(e,n){var l=Oi(e);e=0;for(var h;l;){if(l.nodeType===3){if(h=e+l.textContent.length,e<=n&&h>=n)return{node:l,offset:n-e};e=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Oi(l)}}function Vt(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Vt(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Kt(){for(var e=window,n=Oe();n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=Oe(e.document)}return n}function ro(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function nl(e){var n=Kt(),l=e.focusedElem,h=e.selectionRange;if(n!==l&&l&&l.ownerDocument&&Vt(l.ownerDocument.documentElement,l)){if(h!==null&&ro(l)){if(n=h.start,e=h.end,e===void 0&&(e=n),"selectionStart"in l)l.selectionStart=n,l.selectionEnd=Math.min(e,l.value.length);else if(e=(n=l.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var y=l.textContent.length,E=Math.min(h.start,y);h=h.end===void 0?E:Math.min(h.end,y),!e.extend&&E>h&&(y=h,h=E,E=y),y=Pt(l,E);var O=Pt(l,h);y&&O&&(e.rangeCount!==1||e.anchorNode!==y.node||e.anchorOffset!==y.offset||e.focusNode!==O.node||e.focusOffset!==O.offset)&&(n=n.createRange(),n.setStart(y.node,y.offset),e.removeAllRanges(),E>h?(e.addRange(n),e.extend(O.node,O.offset)):(n.setEnd(O.node,O.offset),e.addRange(n)))}}for(n=[],e=l;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<n.length;l++)e=n[l],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rl=p&&"documentMode"in document&&11>=document.documentMode,io=null,on=null,gs=null,il=!1;function ia(e,n,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;il||io==null||io!==Oe(h)||(h=io,"selectionStart"in h&&ro(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),gs&&ps(gs,h)||(gs=h,h=da(on,"onSelect"),0<h.length&&(n=new Fr("onSelect","select",null,n,l),e.push({event:n,listeners:h}),n.target=io)))}function dr(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var mn={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionend:dr("Transition","TransitionEnd")},ms={},sa={};p&&(sa=document.createElement("div").style,"AnimationEvent"in window||(delete mn.animationend.animation,delete mn.animationiteration.animation,delete mn.animationstart.animation),"TransitionEvent"in window||delete mn.transitionend.transition);function so(e){if(ms[e])return ms[e];if(!mn[e])return e;var n=mn[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in sa)return ms[e]=n[l];return e}var Ru=so("animationend"),Lu=so("animationiteration"),Mu=so("animationstart"),Du=so("transitionend"),Iu=new Map,Au="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(e,n){Iu.set(e,n),u(n,[e])}for(var oa=0;oa<Au.length;oa++){var ys=Au[oa],Vd=ys.toLowerCase(),la=ys[0].toUpperCase()+ys.slice(1);gi(Vd,"on"+la)}gi(Ru,"onAnimationEnd"),gi(Lu,"onAnimationIteration"),gi(Mu,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(Du,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hd=new Set("cancel close invalid load scroll toggle".split(" ").concat(zi));function aa(e,n,l){var h=e.type||"unknown-event";e.currentTarget=l,kf(h,n,void 0,e),e.currentTarget=null}function Fu(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var h=e[l],y=h.event;h=h.listeners;e:{var E=void 0;if(n)for(var O=h.length-1;0<=O;O--){var X=h[O],te=X.instance,de=X.currentTarget;if(X=X.listener,te!==E&&y.isPropagationStopped())break e;aa(y,X,de),E=te}else for(O=0;O<h.length;O++){if(X=h[O],te=X.instance,de=X.currentTarget,X=X.listener,te!==E&&y.isPropagationStopped())break e;aa(y,X,de),E=te}}}if(bl)throw e=Vs,bl=!1,Vs=null,e}function mt(e,n){var l=n[fa];l===void 0&&(l=n[fa]=new Set);var h=e+"__bubble";l.has(h)||(Ou(n,e,2,!1),l.add(h))}function ua(e,n,l){var h=0;n&&(h|=4),Ou(l,e,h,n)}var sl="_reactListening"+Math.random().toString(36).slice(2);function vs(e){if(!e[sl]){e[sl]=!0,a.forEach(function(l){l!=="selectionchange"&&(Hd.has(l)||ua(l,!1,e),ua(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[sl]||(n[sl]=!0,ua("selectionchange",!1,n))}}function Ou(e,n,l,h){switch(Dd(n)){case 1:var y=Ar;break;case 4:y=di;break;default:y=Js}l=y.bind(null,n,l,e),y=void 0,!pu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(y=!0),h?y!==void 0?e.addEventListener(n,l,{capture:!0,passive:y}):e.addEventListener(n,l,!0):y!==void 0?e.addEventListener(n,l,{passive:y}):e.addEventListener(n,l,!1)}function ca(e,n,l,h,y){var E=h;if((n&1)===0&&(n&2)===0&&h!==null)e:for(;;){if(h===null)return;var O=h.tag;if(O===3||O===4){var X=h.stateNode.containerInfo;if(X===y||X.nodeType===8&&X.parentNode===y)break;if(O===4)for(O=h.return;O!==null;){var te=O.tag;if((te===3||te===4)&&(te=O.stateNode.containerInfo,te===y||te.nodeType===8&&te.parentNode===y))return;O=O.return}for(;X!==null;){if(O=bi(X),O===null)return;if(te=O.tag,te===5||te===6){h=E=O;continue e}X=X.parentNode}}h=h.return}fu(function(){var de=E,_e=uu(l),Se=[];e:{var ve=Iu.get(e);if(ve!==void 0){var Re=Fr,De=e;switch(e){case"keypress":if(as(l)===0)break e;case"keydown":case"keyup":Re=zd;break;case"focusin":De="focus",Re=Kl;break;case"focusout":De="blur",Re=Kl;break;case"beforeblur":case"afterblur":Re=Kl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=wt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=zr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=$l;break;case Ru:case Lu:case Mu:Re=_u;break;case Du:Re=$s;break;case"scroll":Re=Id;break;case"wheel":Re=ku;break;case"copy":case"cut":case"paste":Re=Ql;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=ds}var Ie=(n&4)!==0,en=!Ie&&e==="scroll",ae=Ie?ve!==null?ve+"Capture":null:ve;Ie=[];for(var re=de,ue;re!==null;){ue=re;var Ce=ue.stateNode;if(ue.tag===5&&Ce!==null&&(ue=Ce,ae!==null&&(Ce=Wo(re,ae),Ce!=null&&Ie.push(oo(re,Ce,ue)))),en)break;re=re.return}0<Ie.length&&(ve=new Re(ve,De,null,l,_e),Se.push({event:ve,listeners:Ie}))}}if((n&7)===0){e:{if(ve=e==="mouseover"||e==="pointerover",Re=e==="mouseout"||e==="pointerout",ve&&l!==au&&(De=l.relatedTarget||l.fromElement)&&(bi(De)||De[Qr]))break e;if((Re||ve)&&(ve=_e.window===_e?_e:(ve=_e.ownerDocument)?ve.defaultView||ve.parentWindow:window,Re?(De=l.relatedTarget||l.toElement,Re=de,De=De?bi(De):null,De!==null&&(en=ss(De),De!==en||De.tag!==5&&De.tag!==6)&&(De=null)):(Re=null,De=de),Re!==De)){if(Ie=wt,Ce="onMouseLeave",ae="onMouseEnter",re="mouse",(e==="pointerout"||e==="pointerover")&&(Ie=ds,Ce="onPointerLeave",ae="onPointerEnter",re="pointer"),en=Re==null?ve:Qt(Re),ue=De==null?ve:Qt(De),ve=new Ie(Ce,re+"leave",Re,l,_e),ve.target=en,ve.relatedTarget=ue,Ce=null,bi(_e)===de&&(Ie=new Ie(ae,re+"enter",De,l,_e),Ie.target=ue,Ie.relatedTarget=en,Ce=Ie),en=Ce,Re&&De)t:{for(Ie=Re,ae=De,re=0,ue=Ie;ue;ue=_s(ue))re++;for(ue=0,Ce=ae;Ce;Ce=_s(Ce))ue++;for(;0<re-ue;)Ie=_s(Ie),re--;for(;0<ue-re;)ae=_s(ae),ue--;for(;re--;){if(Ie===ae||ae!==null&&Ie===ae.alternate)break t;Ie=_s(Ie),ae=_s(ae)}Ie=null}else Ie=null;Re!==null&&Wd(Se,ve,Re,Ie,!1),De!==null&&en!==null&&Wd(Se,en,De,Ie,!0)}}e:{if(ve=de?Qt(de):window,Re=ve.nodeName&&ve.nodeName.toLowerCase(),Re==="select"||Re==="input"&&ve.type==="file")var Ae=xr;else if(pi(ve))if(no)Ae=Nu;else{Ae=Mt;var je=Pu}else(Re=ve.nodeName)&&Re.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(Ae=ra);if(Ae&&(Ae=Ae(e,de))){tl(Se,Ae,l,_e);break e}je&&je(e,ve,de),e==="focusout"&&(je=ve._wrapperState)&&je.controlled&&ve.type==="number"&&Hr(ve,"number",ve.value)}switch(je=de?Qt(de):window,e){case"focusin":(pi(je)||je.contentEditable==="true")&&(io=je,on=de,gs=null);break;case"focusout":gs=on=io=null;break;case"mousedown":il=!0;break;case"contextmenu":case"mouseup":case"dragend":il=!1,ia(Se,l,_e);break;case"selectionchange":if(rl)break;case"keydown":case"keyup":ia(Se,l,_e)}var Be;if(el)e:{switch(e){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else cr?xu(e,l)&&(Ve="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ve="onCompositionStart");Ve&&(ur&&l.locale!=="ko"&&(cr||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&cr&&(Be=Qo()):(pn=_e,Mi="value"in pn?pn.value:pn.textContent,cr=!0)),je=da(de,Ve),0<je.length&&(Ve=new us(Ve,e,null,l,_e),Se.push({event:Ve,listeners:je}),Be?Ve.data=Be:(Be=Ur(l),Be!==null&&(Ve.data=Be)))),(Be=eo?Cu(e,l):Bd(e,l))&&(de=da(de,"onBeforeInput"),0<de.length&&(_e=new us("onBeforeInput","beforeinput",null,l,_e),Se.push({event:_e,listeners:de}),_e.data=Be))}Fu(Se,n)})}function oo(e,n,l){return{instance:e,listener:n,currentTarget:l}}function da(e,n){for(var l=n+"Capture",h=[];e!==null;){var y=e,E=y.stateNode;y.tag===5&&E!==null&&(y=E,E=Wo(e,l),E!=null&&h.unshift(oo(e,E,y)),E=Wo(e,n),E!=null&&h.push(oo(e,E,y))),e=e.return}return h}function _s(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wd(e,n,l,h,y){for(var E=n._reactName,O=[];l!==null&&l!==h;){var X=l,te=X.alternate,de=X.stateNode;if(te!==null&&te===h)break;X.tag===5&&de!==null&&(X=de,y?(te=Wo(l,E),te!=null&&O.unshift(oo(l,te,X))):y||(te=Wo(l,E),te!=null&&O.push(oo(l,te,X)))),l=l.return}O.length!==0&&e.push({event:n,listeners:O})}var Mf=/\r\n?/g,Yd=/\u0000|\uFFFD/g;function zu(e){return(typeof e=="string"?e:""+e).replace(Mf,`
`).replace(Yd,"")}function ol(e,n,l){if(n=zu(n),zu(e)!==n&&l)throw Error(o(425))}function Ss(){}var Uu=null,bu=null;function ju(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hr=typeof setTimeout=="function"?setTimeout:void 0,Bu=typeof clearTimeout=="function"?clearTimeout:void 0,ll=typeof Promise=="function"?Promise:void 0,qd=typeof queueMicrotask=="function"?queueMicrotask:typeof ll<"u"?function(e){return ll.resolve(null).then(e).catch(Xd)}:hr;function Xd(e){setTimeout(function(){throw e})}function ha(e,n){var l=n,h=0;do{var y=l.nextSibling;if(e.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(h===0){e.removeChild(y),Qn(n);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=y}while(l);Qn(n)}function Kr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function ws(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(n===0)return e;n--}else l==="/$"&&n++}e=e.previousSibling}return null}var Ui=Math.random().toString(36).slice(2),Er="__reactFiber$"+Ui,al="__reactProps$"+Ui,Qr="__reactContainer$"+Ui,fa="__reactEvents$"+Ui,Kd="__reactListeners$"+Ui,Qd="__reactHandles$"+Ui;function bi(e){var n=e[Er];if(n)return n;for(var l=e.parentNode;l;){if(n=l[Qr]||l[Er]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=ws(e);e!==null;){if(l=e[Er])return l;e=ws(e)}return n}e=l,l=e.parentNode}return null}function ul(e){return e=e[Er]||e[Qr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qt(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function ln(e){return e[al]||null}var pa=[],ks=-1;function mi(e){return{current:e}}function yt(e){0>ks||(e.current=pa[ks],pa[ks]=null,ks--)}function pt(e,n){ks++,pa[ks]=e.current,e.current=n}var Jr={},yn=mi(Jr),Cn=mi(!1),ji=Jr;function xs(e,n){var l=e.type.contextTypes;if(!l)return Jr;var h=e.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===n)return h.__reactInternalMemoizedMaskedChildContext;var y={},E;for(E in l)y[E]=n[E];return h&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=y),y}function En(e){return e=e.childContextTypes,e!=null}function lo(){yt(Cn),yt(yn)}function Gu(e,n,l){if(yn.current!==Jr)throw Error(o(168));pt(yn,n),pt(Cn,l)}function ga(e,n,l){var h=e.stateNode;if(n=n.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var y in h)if(!(y in n))throw Error(o(108,Y(e)||"Unknown",y));return G({},l,h)}function Cs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jr,ji=yn.current,pt(yn,e),pt(Cn,Cn.current),!0}function Jd(e,n,l){var h=e.stateNode;if(!h)throw Error(o(169));l?(e=ga(e,n,ji),h.__reactInternalMemoizedMergedChildContext=e,yt(Cn),yt(yn),pt(yn,e)):yt(Cn),pt(Cn,l)}var Zr=null,ao=!1,ma=!1;function cl(e){Zr===null?Zr=[e]:Zr.push(e)}function yi(e){ao=!0,cl(e)}function Bi(){if(!ma&&Zr!==null){ma=!0;var e=0,n=st;try{var l=Zr;for(st=1;e<l.length;e++){var h=l[e];do h=h(!0);while(h!==null)}Zr=null,ao=!1}catch(y){throw Zr!==null&&(Zr=Zr.slice(e+1)),Cd(os,Bi),y}finally{st=n,ma=!1}}return null}var Un=[],Es=0,Gi=null,Vi=0,bn=[],jn=0,Hi=null,fr=1,Nt="";function Ps(e,n){Un[Es++]=Vi,Un[Es++]=Gi,Gi=e,Vi=n}function Zd(e,n,l){bn[jn++]=fr,bn[jn++]=Nt,bn[jn++]=Hi,Hi=e;var h=fr;e=Nt;var y=32-Qe(h)-1;h&=~(1<<y),l+=1;var E=32-Qe(n)+y;if(30<E){var O=y-y%5;E=(h&(1<<O)-1).toString(32),h>>=O,y-=O,fr=1<<32-Qe(n)+y|l<<y|h,Nt=E+e}else fr=1<<E|l<<y|h,Nt=e}function uo(e){e.return!==null&&(Ps(e,1),Zd(e,1,0))}function an(e){for(;e===Gi;)Gi=Un[--Es],Un[Es]=null,Vi=Un[--Es],Un[Es]=null;for(;e===Hi;)Hi=bn[--jn],bn[jn]=null,Nt=bn[--jn],bn[jn]=null,fr=bn[--jn],bn[jn]=null}var pr=null,Ee=null,ut=!1,gr=null;function Vu(e,n){var l=si(5,null,null,0);l.elementType="DELETED",l.stateNode=n,l.return=e,n=e.deletions,n===null?(e.deletions=[l],e.flags|=16):n.push(l)}function $d(e,n){switch(e.tag){case 5:var l=e.type;return n=n.nodeType!==1||l.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,pr=e,Ee=Kr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,pr=e,Ee=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(l=Hi!==null?{id:fr,overflow:Nt}:null,e.memoizedState={dehydrated:n,treeContext:l,retryLane:1073741824},l=si(18,null,null,0),l.stateNode=n,l.return=e,e.child=l,pr=e,Ee=null,!0):!1;default:return!1}}function Ns(e){return(e.mode&1)!==0&&(e.flags&128)===0}function co(e){if(ut){var n=Ee;if(n){var l=n;if(!$d(e,n)){if(Ns(e))throw Error(o(418));n=Kr(l.nextSibling);var h=pr;n&&$d(e,n)?Vu(h,l):(e.flags=e.flags&-4097|2,ut=!1,pr=e)}}else{if(Ns(e))throw Error(o(418));e.flags=e.flags&-4097|2,ut=!1,pr=e}}}function ya(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pr=e}function dl(e){if(e!==pr)return!1;if(!ut)return ya(e),ut=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!ju(e.type,e.memoizedProps)),n&&(n=Ee)){if(Ns(e))throw Hu(),Error(o(418));for(;n;)Vu(e,n),n=Kr(n.nextSibling)}if(ya(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"){if(n===0){Ee=Kr(e.nextSibling);break e}n--}else l!=="$"&&l!=="$!"&&l!=="$?"||n++}e=e.nextSibling}Ee=null}}else Ee=pr?Kr(e.stateNode.nextSibling):null;return!0}function Hu(){for(var e=Ee;e;)e=Kr(e.nextSibling)}function Ts(){Ee=pr=null,ut=!1}function hl(e){gr===null?gr=[e]:gr.push(e)}var Wu=L.ReactCurrentBatchConfig;function zt(e,n,l){if(e=l.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(o(309));var h=l.stateNode}if(!h)throw Error(o(147,e));var y=h,E=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===E?n.ref:(n=function(O){var X=y.refs;O===null?delete X[E]:X[E]=O},n._stringRef=E,n)}if(typeof e!="string")throw Error(o(284));if(!l._owner)throw Error(o(290,e))}return e}function $n(e,n){throw e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function br(e){var n=e._init;return n(e._payload)}function va(e){function n(ae,re){if(e){var ue=ae.deletions;ue===null?(ae.deletions=[re],ae.flags|=16):ue.push(re)}}function l(ae,re){if(!e)return null;for(;re!==null;)n(ae,re),re=re.sibling;return null}function h(ae,re){for(ae=new Map;re!==null;)re.key!==null?ae.set(re.key,re):ae.set(re.index,re),re=re.sibling;return ae}function y(ae,re){return ae=Mo(ae,re),ae.index=0,ae.sibling=null,ae}function E(ae,re,ue){return ae.index=ue,e?(ue=ae.alternate,ue!==null?(ue=ue.index,ue<re?(ae.flags|=2,re):ue):(ae.flags|=2,re)):(ae.flags|=1048576,re)}function O(ae){return e&&ae.alternate===null&&(ae.flags|=2),ae}function X(ae,re,ue,Ce){return re===null||re.tag!==6?(re=Zf(ue,ae.mode,Ce),re.return=ae,re):(re=y(re,ue),re.return=ae,re)}function te(ae,re,ue,Ce){var Ae=ue.type;return Ae===H?_e(ae,re,ue.props.children,Ce,ue.key):re!==null&&(re.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===pe&&br(Ae)===re.type)?(Ce=y(re,ue.props),Ce.ref=zt(ae,re,ue),Ce.return=ae,Ce):(Ce=Sh(ue.type,ue.key,ue.props,null,ae.mode,Ce),Ce.ref=zt(ae,re,ue),Ce.return=ae,Ce)}function de(ae,re,ue,Ce){return re===null||re.tag!==4||re.stateNode.containerInfo!==ue.containerInfo||re.stateNode.implementation!==ue.implementation?(re=$f(ue,ae.mode,Ce),re.return=ae,re):(re=y(re,ue.children||[]),re.return=ae,re)}function _e(ae,re,ue,Ce,Ae){return re===null||re.tag!==7?(re=xl(ue,ae.mode,Ce,Ae),re.return=ae,re):(re=y(re,ue),re.return=ae,re)}function Se(ae,re,ue){if(typeof re=="string"&&re!==""||typeof re=="number")return re=Zf(""+re,ae.mode,ue),re.return=ae,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case D:return ue=Sh(re.type,re.key,re.props,null,ae.mode,ue),ue.ref=zt(ae,null,re),ue.return=ae,ue;case j:return re=$f(re,ae.mode,ue),re.return=ae,re;case pe:var Ce=re._init;return Se(ae,Ce(re._payload),ue)}if(Dt(re)||W(re))return re=xl(re,ae.mode,ue,null),re.return=ae,re;$n(ae,re)}return null}function ve(ae,re,ue,Ce){var Ae=re!==null?re.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Ae!==null?null:X(ae,re,""+ue,Ce);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case D:return ue.key===Ae?te(ae,re,ue,Ce):null;case j:return ue.key===Ae?de(ae,re,ue,Ce):null;case pe:return Ae=ue._init,ve(ae,re,Ae(ue._payload),Ce)}if(Dt(ue)||W(ue))return Ae!==null?null:_e(ae,re,ue,Ce,null);$n(ae,ue)}return null}function Re(ae,re,ue,Ce,Ae){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return ae=ae.get(ue)||null,X(re,ae,""+Ce,Ae);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case D:return ae=ae.get(Ce.key===null?ue:Ce.key)||null,te(re,ae,Ce,Ae);case j:return ae=ae.get(Ce.key===null?ue:Ce.key)||null,de(re,ae,Ce,Ae);case pe:var je=Ce._init;return Re(ae,re,ue,je(Ce._payload),Ae)}if(Dt(Ce)||W(Ce))return ae=ae.get(ue)||null,_e(re,ae,Ce,Ae,null);$n(re,Ce)}return null}function De(ae,re,ue,Ce){for(var Ae=null,je=null,Be=re,Ve=re=0,Mn=null;Be!==null&&Ve<ue.length;Ve++){Be.index>Ve?(Mn=Be,Be=null):Mn=Be.sibling;var at=ve(ae,Be,ue[Ve],Ce);if(at===null){Be===null&&(Be=Mn);break}e&&Be&&at.alternate===null&&n(ae,Be),re=E(at,re,Ve),je===null?Ae=at:je.sibling=at,je=at,Be=Mn}if(Ve===ue.length)return l(ae,Be),ut&&Ps(ae,Ve),Ae;if(Be===null){for(;Ve<ue.length;Ve++)Be=Se(ae,ue[Ve],Ce),Be!==null&&(re=E(Be,re,Ve),je===null?Ae=Be:je.sibling=Be,je=Be);return ut&&Ps(ae,Ve),Ae}for(Be=h(ae,Be);Ve<ue.length;Ve++)Mn=Re(Be,ae,Ve,ue[Ve],Ce),Mn!==null&&(e&&Mn.alternate!==null&&Be.delete(Mn.key===null?Ve:Mn.key),re=E(Mn,re,Ve),je===null?Ae=Mn:je.sibling=Mn,je=Mn);return e&&Be.forEach(function(Do){return n(ae,Do)}),ut&&Ps(ae,Ve),Ae}function Ie(ae,re,ue,Ce){var Ae=W(ue);if(typeof Ae!="function")throw Error(o(150));if(ue=Ae.call(ue),ue==null)throw Error(o(151));for(var je=Ae=null,Be=re,Ve=re=0,Mn=null,at=ue.next();Be!==null&&!at.done;Ve++,at=ue.next()){Be.index>Ve?(Mn=Be,Be=null):Mn=Be.sibling;var Do=ve(ae,Be,at.value,Ce);if(Do===null){Be===null&&(Be=Mn);break}e&&Be&&Do.alternate===null&&n(ae,Be),re=E(Do,re,Ve),je===null?Ae=Do:je.sibling=Do,je=Do,Be=Mn}if(at.done)return l(ae,Be),ut&&Ps(ae,Ve),Ae;if(Be===null){for(;!at.done;Ve++,at=ue.next())at=Se(ae,at.value,Ce),at!==null&&(re=E(at,re,Ve),je===null?Ae=at:je.sibling=at,je=at);return ut&&Ps(ae,Ve),Ae}for(Be=h(ae,Be);!at.done;Ve++,at=ue.next())at=Re(Be,ae,Ve,at.value,Ce),at!==null&&(e&&at.alternate!==null&&Be.delete(at.key===null?Ve:at.key),re=E(at,re,Ve),je===null?Ae=at:je.sibling=at,je=at);return e&&Be.forEach(function(by){return n(ae,by)}),ut&&Ps(ae,Ve),Ae}function en(ae,re,ue,Ce){if(typeof ue=="object"&&ue!==null&&ue.type===H&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case D:e:{for(var Ae=ue.key,je=re;je!==null;){if(je.key===Ae){if(Ae=ue.type,Ae===H){if(je.tag===7){l(ae,je.sibling),re=y(je,ue.props.children),re.return=ae,ae=re;break e}}else if(je.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===pe&&br(Ae)===je.type){l(ae,je.sibling),re=y(je,ue.props),re.ref=zt(ae,je,ue),re.return=ae,ae=re;break e}l(ae,je);break}else n(ae,je);je=je.sibling}ue.type===H?(re=xl(ue.props.children,ae.mode,Ce,ue.key),re.return=ae,ae=re):(Ce=Sh(ue.type,ue.key,ue.props,null,ae.mode,Ce),Ce.ref=zt(ae,re,ue),Ce.return=ae,ae=Ce)}return O(ae);case j:e:{for(je=ue.key;re!==null;){if(re.key===je)if(re.tag===4&&re.stateNode.containerInfo===ue.containerInfo&&re.stateNode.implementation===ue.implementation){l(ae,re.sibling),re=y(re,ue.children||[]),re.return=ae,ae=re;break e}else{l(ae,re);break}else n(ae,re);re=re.sibling}re=$f(ue,ae.mode,Ce),re.return=ae,ae=re}return O(ae);case pe:return je=ue._init,en(ae,re,je(ue._payload),Ce)}if(Dt(ue))return De(ae,re,ue,Ce);if(W(ue))return Ie(ae,re,ue,Ce);$n(ae,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,re!==null&&re.tag===6?(l(ae,re.sibling),re=y(re,ue),re.return=ae,ae=re):(l(ae,re),re=Zf(ue,ae.mode,Ce),re.return=ae,ae=re),O(ae)):l(ae,re)}return en}var Rs=va(!0),Pr=va(!1),fl=mi(null),mr=null,ho=null,_a=null;function Sa(){_a=ho=mr=null}function wa(e){var n=fl.current;yt(fl),e._currentValue=n}function ka(e,n,l){for(;e!==null;){var h=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,h!==null&&(h.childLanes|=n)):h!==null&&(h.childLanes&n)!==n&&(h.childLanes|=n),e===l)break;e=e.return}}function vi(e,n){mr=e,_a=ho=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(R=!0),e.firstContext=null)}function Bn(e){var n=e._currentValue;if(_a!==e)if(e={context:e,memoizedValue:n,next:null},ho===null){if(mr===null)throw Error(o(308));ho=e,mr.dependencies={lanes:0,firstContext:e}}else ho=ho.next=e;return n}var $r=null;function fo(e){$r===null?$r=[e]:$r.push(e)}function pl(e,n,l,h){var y=n.interleaved;return y===null?(l.next=l,fo(n)):(l.next=y.next,y.next=l),n.interleaved=l,yr(e,h)}function yr(e,n){e.lanes|=n;var l=e.alternate;for(l!==null&&(l.lanes|=n),l=e,e=e.return;e!==null;)e.childLanes|=n,l=e.alternate,l!==null&&(l.childLanes|=n),l=e,e=e.return;return l.tag===3?l.stateNode:null}var ei=!1;function gl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xa(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ti(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function ni(e,n,l){var h=e.updateQueue;if(h===null)return null;if(h=h.shared,(lt&2)!==0){var y=h.pending;return y===null?n.next=n:(n.next=y.next,y.next=n),h.pending=n,yr(e,l)}return y=h.interleaved,y===null?(n.next=n,fo(h)):(n.next=y.next,y.next=n),h.interleaved=n,yr(e,l)}function Ca(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194240)!==0)){var h=n.lanes;h&=e.pendingLanes,l|=h,n.lanes=l,yu(e,l)}}function ml(e,n){var l=e.updateQueue,h=e.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var y=null,E=null;if(l=l.firstBaseUpdate,l!==null){do{var O={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};E===null?y=E=O:E=E.next=O,l=l.next}while(l!==null);E===null?y=E=n:E=E.next=n}else y=E=n;l={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:E,shared:h.shared,effects:h.effects},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}function po(e,n,l,h){var y=e.updateQueue;ei=!1;var E=y.firstBaseUpdate,O=y.lastBaseUpdate,X=y.shared.pending;if(X!==null){y.shared.pending=null;var te=X,de=te.next;te.next=null,O===null?E=de:O.next=de,O=te;var _e=e.alternate;_e!==null&&(_e=_e.updateQueue,X=_e.lastBaseUpdate,X!==O&&(X===null?_e.firstBaseUpdate=de:X.next=de,_e.lastBaseUpdate=te))}if(E!==null){var Se=y.baseState;O=0,_e=de=te=null,X=E;do{var ve=X.lane,Re=X.eventTime;if((h&ve)===ve){_e!==null&&(_e=_e.next={eventTime:Re,lane:0,tag:X.tag,payload:X.payload,callback:X.callback,next:null});e:{var De=e,Ie=X;switch(ve=n,Re=l,Ie.tag){case 1:if(De=Ie.payload,typeof De=="function"){Se=De.call(Re,Se,ve);break e}Se=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Ie.payload,ve=typeof De=="function"?De.call(Re,Se,ve):De,ve==null)break e;Se=G({},Se,ve);break e;case 2:ei=!0}}X.callback!==null&&X.lane!==0&&(e.flags|=64,ve=y.effects,ve===null?y.effects=[X]:ve.push(X))}else Re={eventTime:Re,lane:ve,tag:X.tag,payload:X.payload,callback:X.callback,next:null},_e===null?(de=_e=Re,te=Se):_e=_e.next=Re,O|=ve;if(X=X.next,X===null){if(X=y.shared.pending,X===null)break;ve=X,X=ve.next,ve.next=null,y.lastBaseUpdate=ve,y.shared.pending=null}}while(!0);if(_e===null&&(te=Se),y.baseState=te,y.firstBaseUpdate=de,y.lastBaseUpdate=_e,n=y.shared.interleaved,n!==null){y=n;do O|=y.lane,y=y.next;while(y!==n)}else E===null&&(y.shared.lanes=0);_l|=O,e.lanes=O,e.memoizedState=Se}}function It(e,n,l){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var h=e[n],y=h.callback;if(y!==null){if(h.callback=null,h=l,typeof y!="function")throw Error(o(191,y));y.call(h)}}}var Ye={},gt=mi(Ye),Tt=mi(Ye),Ut=mi(Ye);function Jt(e){if(e===Ye)throw Error(o(174));return e}function Wi(e,n){switch(pt(Ut,n),pt(Tt,e),pt(gt,Ye),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:wr(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=wr(n,e)}yt(gt),pt(gt,n)}function Rt(){yt(gt),yt(Tt),yt(Ut)}function go(e){Jt(Ut.current);var n=Jt(gt.current),l=wr(n,e.type);n!==l&&(pt(Tt,e),pt(gt,l))}function _i(e){Tt.current===e&&(yt(gt),yt(Tt))}var vt=mi(0);function mo(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ls=[];function Pn(){for(var e=0;e<Ls.length;e++)Ls[e]._workInProgressVersionPrimary=null;Ls.length=0}var yo=L.ReactCurrentDispatcher,yl=L.ReactCurrentBatchConfig,Gn=0,ft=null,At=null,Ht=null,jr=!1,Yi=!1,Nr=0,Ea=0;function Wt(){throw Error(o(321))}function vl(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!Zn(e[l],n[l]))return!1;return!0}function vo(e,n,l,h,y,E){if(Gn=E,ft=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,yo.current=e===null||e.memoizedState===null?If:Ki,e=l(h,y),Yi){E=0;do{if(Yi=!1,Nr=0,25<=E)throw Error(o(301));E+=1,Ht=At=null,n.updateQueue=null,yo.current=La,e=l(h,y)}while(Yi)}if(yo.current=ko,n=At!==null&&At.next!==null,Gn=0,Ht=At=ft=null,jr=!1,n)throw Error(o(300));return e}function _o(){var e=Nr!==0;return Nr=0,e}function kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?ft.memoizedState=Ht=e:Ht=Ht.next=e,Ht}function Zt(){if(At===null){var e=ft.alternate;e=e!==null?e.memoizedState:null}else e=At.next;var n=Ht===null?ft.memoizedState:Ht.next;if(n!==null)Ht=n,At=e;else{if(e===null)throw Error(o(310));At=e,e={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Ht===null?ft.memoizedState=Ht=e:Ht=Ht.next=e}return Ht}function Nn(e,n){return typeof n=="function"?n(e):n}function Tn(e){var n=Zt(),l=n.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var h=At,y=h.baseQueue,E=l.pending;if(E!==null){if(y!==null){var O=y.next;y.next=E.next,E.next=O}h.baseQueue=y=E,l.pending=null}if(y!==null){E=y.next,h=h.baseState;var X=O=null,te=null,de=E;do{var _e=de.lane;if((Gn&_e)===_e)te!==null&&(te=te.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),h=de.hasEagerState?de.eagerState:e(h,de.action);else{var Se={lane:_e,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};te===null?(X=te=Se,O=h):te=te.next=Se,ft.lanes|=_e,_l|=_e}de=de.next}while(de!==null&&de!==E);te===null?O=h:te.next=X,Zn(h,n.memoizedState)||(R=!0),n.memoizedState=h,n.baseState=O,n.baseQueue=te,l.lastRenderedState=h}if(e=l.interleaved,e!==null){y=e;do E=y.lane,ft.lanes|=E,_l|=E,y=y.next;while(y!==e)}else y===null&&(l.lanes=0);return[n.memoizedState,l.dispatch]}function Pa(e){var n=Zt(),l=n.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var h=l.dispatch,y=l.pending,E=n.memoizedState;if(y!==null){l.pending=null;var O=y=y.next;do E=e(E,O.action),O=O.next;while(O!==y);Zn(E,n.memoizedState)||(R=!0),n.memoizedState=E,n.baseQueue===null&&(n.baseState=E),l.lastRenderedState=E}return[E,h]}function Na(){}function Ta(e,n){var l=ft,h=Zt(),y=n(),E=!Zn(h.memoizedState,y);if(E&&(h.memoizedState=y,R=!0),h=h.queue,Ku(Yu.bind(null,l,h,e),[e]),h.getSnapshot!==n||E||Ht!==null&&Ht.memoizedState.tag&1){if(l.flags|=2048,So(9,Si.bind(null,l,h,y,n),void 0,null),Ln===null)throw Error(o(349));(Gn&30)!==0||eh(l,n,y)}return y}function eh(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=ft.updateQueue,n===null?(n={lastEffect:null,stores:null},ft.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function Si(e,n,l,h){n.value=l,n.getSnapshot=h,qu(n)&&Ra(e)}function Yu(e,n,l){return l(function(){qu(n)&&Ra(e)})}function qu(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!Zn(e,l)}catch{return!0}}function Ra(e){var n=yr(e,1);n!==null&&Ci(n,e,1,-1)}function qi(e){var n=kt();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:e},n.queue=e,e=e.dispatch=oh.bind(null,ft,e),[n.memoizedState,e]}function So(e,n,l,h){return e={tag:e,create:n,destroy:l,deps:h,next:null},n=ft.updateQueue,n===null?(n={lastEffect:null,stores:null},ft.updateQueue=n,n.lastEffect=e.next=e):(l=n.lastEffect,l===null?n.lastEffect=e.next=e:(h=l.next,l.next=e,e.next=h,n.lastEffect=e)),e}function Xu(){return Zt().memoizedState}function wo(e,n,l,h){var y=kt();ft.flags|=e,y.memoizedState=So(1|n,l,void 0,h===void 0?null:h)}function Ms(e,n,l,h){var y=Zt();h=h===void 0?null:h;var E=void 0;if(At!==null){var O=At.memoizedState;if(E=O.destroy,h!==null&&vl(h,O.deps)){y.memoizedState=So(n,l,E,h);return}}ft.flags|=e,y.memoizedState=So(1|n,l,E,h)}function th(e,n){return wo(8390656,8,e,n)}function Ku(e,n){return Ms(2048,8,e,n)}function Qu(e,n){return Ms(4,2,e,n)}function Ju(e,n){return Ms(4,4,e,n)}function Xi(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function nh(e,n,l){return l=l!=null?l.concat([e]):null,Ms(4,4,Xi.bind(null,n,e),l)}function wi(){}function Zu(e,n){var l=Zt();n=n===void 0?null:n;var h=l.memoizedState;return h!==null&&n!==null&&vl(n,h[1])?h[0]:(l.memoizedState=[e,n],e)}function xt(e,n){var l=Zt();n=n===void 0?null:n;var h=l.memoizedState;return h!==null&&n!==null&&vl(n,h[1])?h[0]:(e=e(),l.memoizedState=[e,n],e)}function rh(e,n,l){return(Gn&21)===0?(e.baseState&&(e.baseState=!1,R=!0),e.memoizedState=l):(Zn(l,n)||(l=mu(),ft.lanes|=l,_l|=l,e.baseState=!0),n)}function ih(e,n){var l=st;st=l!==0&&4>l?l:4,e(!0);var h=yl.transition;yl.transition={};try{e(!1),n()}finally{st=l,yl.transition=h}}function sh(){return Zt().memoizedState}function Df(e,n,l){var h=Ro(e);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},$u(e))lh(n,l);else if(l=pl(e,n,l,h),l!==null){var y=_r();Ci(l,e,h,y),vr(l,n,h)}}function oh(e,n,l){var h=Ro(e),y={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if($u(e))lh(n,y);else{var E=e.alternate;if(e.lanes===0&&(E===null||E.lanes===0)&&(E=n.lastRenderedReducer,E!==null))try{var O=n.lastRenderedState,X=E(O,l);if(y.hasEagerState=!0,y.eagerState=X,Zn(X,O)){var te=n.interleaved;te===null?(y.next=y,fo(n)):(y.next=te.next,te.next=y),n.interleaved=y;return}}catch{}finally{}l=pl(e,n,y,h),l!==null&&(y=_r(),Ci(l,e,h,y),vr(l,n,h))}}function $u(e){var n=e.alternate;return e===ft||n!==null&&n===ft}function lh(e,n){Yi=jr=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function vr(e,n,l){if((l&4194240)!==0){var h=n.lanes;h&=e.pendingLanes,l|=h,n.lanes=l,yu(e,l)}}var ko={readContext:Bn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},If={readContext:Bn,useCallback:function(e,n){return kt().memoizedState=[e,n===void 0?null:n],e},useContext:Bn,useEffect:th,useImperativeHandle:function(e,n,l){return l=l!=null?l.concat([e]):null,wo(4194308,4,Xi.bind(null,n,e),l)},useLayoutEffect:function(e,n){return wo(4194308,4,e,n)},useInsertionEffect:function(e,n){return wo(4,2,e,n)},useMemo:function(e,n){var l=kt();return n=n===void 0?null:n,e=e(),l.memoizedState=[e,n],e},useReducer:function(e,n,l){var h=kt();return n=l!==void 0?l(n):n,h.memoizedState=h.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},h.queue=e,e=e.dispatch=Df.bind(null,ft,e),[h.memoizedState,e]},useRef:function(e){var n=kt();return e={current:e},n.memoizedState=e},useState:qi,useDebugValue:wi,useDeferredValue:function(e){return kt().memoizedState=e},useTransition:function(){var e=qi(!1),n=e[0];return e=ih.bind(null,e[1]),kt().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,l){var h=ft,y=kt();if(ut){if(l===void 0)throw Error(o(407));l=l()}else{if(l=n(),Ln===null)throw Error(o(349));(Gn&30)!==0||eh(h,n,l)}y.memoizedState=l;var E={value:l,getSnapshot:n};return y.queue=E,th(Yu.bind(null,h,E,e),[e]),h.flags|=2048,So(9,Si.bind(null,h,E,l,n),void 0,null),l},useId:function(){var e=kt(),n=Ln.identifierPrefix;if(ut){var l=Nt,h=fr;l=(h&~(1<<32-Qe(h)-1)).toString(32)+l,n=":"+n+"R"+l,l=Nr++,0<l&&(n+="H"+l.toString(32)),n+=":"}else l=Ea++,n=":"+n+"r"+l.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Ki={readContext:Bn,useCallback:Zu,useContext:Bn,useEffect:Ku,useImperativeHandle:nh,useInsertionEffect:Qu,useLayoutEffect:Ju,useMemo:xt,useReducer:Tn,useRef:Xu,useState:function(){return Tn(Nn)},useDebugValue:wi,useDeferredValue:function(e){var n=Zt();return rh(n,At.memoizedState,e)},useTransition:function(){var e=Tn(Nn)[0],n=Zt().memoizedState;return[e,n]},useMutableSource:Na,useSyncExternalStore:Ta,useId:sh,unstable_isNewReconciler:!1},La={readContext:Bn,useCallback:Zu,useContext:Bn,useEffect:Ku,useImperativeHandle:nh,useInsertionEffect:Qu,useLayoutEffect:Ju,useMemo:xt,useReducer:Pa,useRef:Xu,useState:function(){return Pa(Nn)},useDebugValue:wi,useDeferredValue:function(e){var n=Zt();return At===null?n.memoizedState=e:rh(n,At.memoizedState,e)},useTransition:function(){var e=Pa(Nn)[0],n=Zt().memoizedState;return[e,n]},useMutableSource:Na,useSyncExternalStore:Ta,useId:sh,unstable_isNewReconciler:!1};function vn(e,n){if(e&&e.defaultProps){n=G({},n),e=e.defaultProps;for(var l in e)n[l]===void 0&&(n[l]=e[l]);return n}return n}function xo(e,n,l,h){n=e.memoizedState,l=l(h,n),l=l==null?n:G({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Co={isMounted:function(e){return(e=e._reactInternals)?ss(e)===e:!1},enqueueSetState:function(e,n,l){e=e._reactInternals;var h=_r(),y=Ro(e),E=ti(h,y);E.payload=n,l!=null&&(E.callback=l),n=ni(e,E,y),n!==null&&(Ci(n,e,y,h),Ca(n,e,y))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var h=_r(),y=Ro(e),E=ti(h,y);E.tag=1,E.payload=n,l!=null&&(E.callback=l),n=ni(e,E,y),n!==null&&(Ci(n,e,y,h),Ca(n,e,y))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=_r(),h=Ro(e),y=ti(l,h);y.tag=2,n!=null&&(y.callback=n),n=ni(e,y,h),n!==null&&(Ci(n,e,h,l),Ca(n,e,h))}};function Ma(e,n,l,h,y,E,O){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(h,E,O):n.prototype&&n.prototype.isPureReactComponent?!ps(l,h)||!ps(y,E):!0}function ah(e,n,l){var h=!1,y=Jr,E=n.contextType;return typeof E=="object"&&E!==null?E=Bn(E):(y=En(n)?ji:yn.current,h=n.contextTypes,E=(h=h!=null)?xs(e,y):Jr),n=new n(l,E),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Co,e.stateNode=n,n._reactInternals=e,h&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=y,e.__reactInternalMemoizedMaskedChildContext=E),n}function ec(e,n,l,h){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,h),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,h),n.state!==e&&Co.enqueueReplaceState(n,n.state,null)}function Da(e,n,l,h){var y=e.stateNode;y.props=l,y.state=e.memoizedState,y.refs={},gl(e);var E=n.contextType;typeof E=="object"&&E!==null?y.context=Bn(E):(E=En(n)?ji:yn.current,y.context=xs(e,E)),y.state=e.memoizedState,E=n.getDerivedStateFromProps,typeof E=="function"&&(xo(e,n,E,l),y.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(n=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),n!==y.state&&Co.enqueueReplaceState(y,y.state,null),po(e,l,y,h),y.state=e.memoizedState),typeof y.componentDidMount=="function"&&(e.flags|=4194308)}function Ds(e,n){try{var l="",h=n;do l+=me(h),h=h.return;while(h);var y=l}catch(E){y=`
Error generating stack: `+E.message+`
`+E.stack}return{value:e,source:n,stack:y,digest:null}}function Ia(e,n,l){return{value:e,source:null,stack:l??null,digest:n??null}}function Eo(e,n){try{console.error(n.value)}catch(l){setTimeout(function(){throw l})}}var Af=typeof WeakMap=="function"?WeakMap:Map;function uh(e,n,l){l=ti(-1,l),l.tag=3,l.payload={element:null};var h=n.value;return l.callback=function(){ph||(ph=!0,Hf=h),Eo(e,n)},l}function r(e,n,l){l=ti(-1,l),l.tag=3;var h=e.type.getDerivedStateFromError;if(typeof h=="function"){var y=n.value;l.payload=function(){return h(y)},l.callback=function(){Eo(e,n)}}var E=e.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(l.callback=function(){Eo(e,n),typeof h!="function"&&(No===null?No=new Set([this]):No.add(this));var O=n.stack;this.componentDidCatch(n.value,{componentStack:O!==null?O:""})}),l}function s(e,n,l){var h=e.pingCache;if(h===null){h=e.pingCache=new Af;var y=new Set;h.set(n,y)}else y=h.get(n),y===void 0&&(y=new Set,h.set(n,y));y.has(l)||(y.add(l),e=Ty.bind(null,e,n,l),n.then(e,e))}function c(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function g(e,n,l,h,y){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(n=ti(-1,1),n.tag=2,ni(l,n,1))),l.lanes|=1),e):(e.flags|=65536,e.lanes=y,e)}var S=L.ReactCurrentOwner,R=!1;function V(e,n,l,h){n.child=e===null?Pr(n,null,l,h):Rs(n,e.child,l,h)}function ie(e,n,l,h,y){l=l.render;var E=n.ref;return vi(n,y),h=vo(e,n,l,h,E,y),l=_o(),e!==null&&!R?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~y,Rn(e,n,y)):(ut&&l&&uo(n),n.flags|=1,V(e,n,h,y),n.child)}function fe(e,n,l,h,y){if(e===null){var E=l.type;return typeof E=="function"&&!Jf(E)&&E.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(n.tag=15,n.type=E,ke(e,n,E,h,y)):(e=Sh(l.type,null,h,n,n.mode,y),e.ref=n.ref,e.return=n,n.child=e)}if(E=e.child,(e.lanes&y)===0){var O=E.memoizedProps;if(l=l.compare,l=l!==null?l:ps,l(O,h)&&e.ref===n.ref)return Rn(e,n,y)}return n.flags|=1,e=Mo(E,h),e.ref=n.ref,e.return=n,n.child=e}function ke(e,n,l,h,y){if(e!==null){var E=e.memoizedProps;if(ps(E,h)&&e.ref===n.ref)if(R=!1,n.pendingProps=h=E,(e.lanes&y)!==0)(e.flags&131072)!==0&&(R=!0);else return n.lanes=e.lanes,Rn(e,n,y)}return Ne(e,n,l,h,y)}function Le(e,n,l){var h=n.pendingProps,y=h.children,E=e!==null?e.memoizedState:null;if(h.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(Fa,Br),Br|=l;else{if((l&1073741824)===0)return e=E!==null?E.baseLanes|l:l,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,pt(Fa,Br),Br|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=E!==null?E.baseLanes:l,pt(Fa,Br),Br|=h}else E!==null?(h=E.baseLanes|l,n.memoizedState=null):h=l,pt(Fa,Br),Br|=h;return V(e,n,y,l),n.child}function He(e,n){var l=n.ref;(e===null&&l!==null||e!==null&&e.ref!==l)&&(n.flags|=512,n.flags|=2097152)}function Ne(e,n,l,h,y){var E=En(l)?ji:yn.current;return E=xs(n,E),vi(n,y),l=vo(e,n,l,h,E,y),h=_o(),e!==null&&!R?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~y,Rn(e,n,y)):(ut&&h&&uo(n),n.flags|=1,V(e,n,l,y),n.child)}function _t(e,n,l,h,y){if(En(l)){var E=!0;Cs(n)}else E=!1;if(vi(n,y),n.stateNode===null)$e(e,n),ah(n,l,h),Da(n,l,h,y),h=!0;else if(e===null){var O=n.stateNode,X=n.memoizedProps;O.props=X;var te=O.context,de=l.contextType;typeof de=="object"&&de!==null?de=Bn(de):(de=En(l)?ji:yn.current,de=xs(n,de));var _e=l.getDerivedStateFromProps,Se=typeof _e=="function"||typeof O.getSnapshotBeforeUpdate=="function";Se||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(X!==h||te!==de)&&ec(n,O,h,de),ei=!1;var ve=n.memoizedState;O.state=ve,po(n,h,O,y),te=n.memoizedState,X!==h||ve!==te||Cn.current||ei?(typeof _e=="function"&&(xo(n,l,_e,h),te=n.memoizedState),(X=ei||Ma(n,l,X,h,ve,te,de))?(Se||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(n.flags|=4194308)):(typeof O.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=h,n.memoizedState=te),O.props=h,O.state=te,O.context=de,h=X):(typeof O.componentDidMount=="function"&&(n.flags|=4194308),h=!1)}else{O=n.stateNode,xa(e,n),X=n.memoizedProps,de=n.type===n.elementType?X:vn(n.type,X),O.props=de,Se=n.pendingProps,ve=O.context,te=l.contextType,typeof te=="object"&&te!==null?te=Bn(te):(te=En(l)?ji:yn.current,te=xs(n,te));var Re=l.getDerivedStateFromProps;(_e=typeof Re=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(X!==Se||ve!==te)&&ec(n,O,h,te),ei=!1,ve=n.memoizedState,O.state=ve,po(n,h,O,y);var De=n.memoizedState;X!==Se||ve!==De||Cn.current||ei?(typeof Re=="function"&&(xo(n,l,Re,h),De=n.memoizedState),(de=ei||Ma(n,l,de,h,ve,De,te)||!1)?(_e||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(h,De,te),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(h,De,te)),typeof O.componentDidUpdate=="function"&&(n.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof O.componentDidUpdate!="function"||X===e.memoizedProps&&ve===e.memoizedState||(n.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||X===e.memoizedProps&&ve===e.memoizedState||(n.flags|=1024),n.memoizedProps=h,n.memoizedState=De),O.props=h,O.state=De,O.context=te,h=de):(typeof O.componentDidUpdate!="function"||X===e.memoizedProps&&ve===e.memoizedState||(n.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||X===e.memoizedProps&&ve===e.memoizedState||(n.flags|=1024),h=!1)}return ct(e,n,l,h,E,y)}function ct(e,n,l,h,y,E){He(e,n);var O=(n.flags&128)!==0;if(!h&&!O)return y&&Jd(n,l,!1),Rn(e,n,E);h=n.stateNode,S.current=n;var X=O&&typeof l.getDerivedStateFromError!="function"?null:h.render();return n.flags|=1,e!==null&&O?(n.child=Rs(n,e.child,null,E),n.child=Rs(n,null,X,E)):V(e,n,X,E),n.memoizedState=h.state,y&&Jd(n,l,!0),n.child}function Vn(e){var n=e.stateNode;n.pendingContext?Gu(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Gu(e,n.context,!1),Wi(e,n.containerInfo)}function ri(e,n,l,h,y){return Ts(),hl(y),n.flags|=256,V(e,n,l,h),n.child}var ce={dehydrated:null,treeContext:null,retryLane:0};function oe(e){return{baseLanes:e,cachePool:null,transitions:null}}function ge(e,n,l){var h=n.pendingProps,y=vt.current,E=!1,O=(n.flags&128)!==0,X;if((X=O)||(X=e!==null&&e.memoizedState===null?!1:(y&2)!==0),X?(E=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(y|=1),pt(vt,y&1),e===null)return co(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(O=h.children,e=h.fallback,E?(h=n.mode,E=n.child,O={mode:"hidden",children:O},(h&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=O):E=wh(O,h,0,null),e=xl(e,h,l,null),E.return=n,e.return=n,E.sibling=e,n.child=E,n.child.memoizedState=oe(l),n.memoizedState=ce,e):Te(n,O));if(y=e.memoizedState,y!==null&&(X=y.dehydrated,X!==null))return Xe(e,n,O,h,X,y,l);if(E){E=h.fallback,O=n.mode,y=e.child,X=y.sibling;var te={mode:"hidden",children:h.children};return(O&1)===0&&n.child!==y?(h=n.child,h.childLanes=0,h.pendingProps=te,n.deletions=null):(h=Mo(y,te),h.subtreeFlags=y.subtreeFlags&14680064),X!==null?E=Mo(X,E):(E=xl(E,O,l,null),E.flags|=2),E.return=n,h.return=n,h.sibling=E,n.child=h,h=E,E=n.child,O=e.child.memoizedState,O=O===null?oe(l):{baseLanes:O.baseLanes|l,cachePool:null,transitions:O.transitions},E.memoizedState=O,E.childLanes=e.childLanes&~l,n.memoizedState=ce,h}return E=e.child,e=E.sibling,h=Mo(E,{mode:"visible",children:h.children}),(n.mode&1)===0&&(h.lanes=l),h.return=n,h.sibling=null,e!==null&&(l=n.deletions,l===null?(n.deletions=[e],n.flags|=16):l.push(e)),n.child=h,n.memoizedState=null,h}function Te(e,n){return n=wh({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function ze(e,n,l,h){return h!==null&&hl(h),Rs(n,e.child,null,l),e=Te(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Xe(e,n,l,h,y,E,O){if(l)return n.flags&256?(n.flags&=-257,h=Ia(Error(o(422))),ze(e,n,O,h)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(E=h.fallback,y=n.mode,h=wh({mode:"visible",children:h.children},y,0,null),E=xl(E,y,O,null),E.flags|=2,h.return=n,E.return=n,h.sibling=E,n.child=h,(n.mode&1)!==0&&Rs(n,e.child,null,O),n.child.memoizedState=oe(O),n.memoizedState=ce,E);if((n.mode&1)===0)return ze(e,n,O,null);if(y.data==="$!"){if(h=y.nextSibling&&y.nextSibling.dataset,h)var X=h.dgst;return h=X,E=Error(o(419)),h=Ia(E,h,void 0),ze(e,n,O,h)}if(X=(O&e.childLanes)!==0,R||X){if(h=Ln,h!==null){switch(O&-O){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(h.suspendedLanes|O))!==0?0:y,y!==0&&y!==E.retryLane&&(E.retryLane=y,yr(e,y),Ci(h,e,y,-1))}return Qf(),h=Ia(Error(o(421))),ze(e,n,O,h)}return y.data==="$?"?(n.flags|=128,n.child=e.child,n=Ry.bind(null,e),y._reactRetry=n,null):(e=E.treeContext,Ee=Kr(y.nextSibling),pr=n,ut=!0,gr=null,e!==null&&(bn[jn++]=fr,bn[jn++]=Nt,bn[jn++]=Hi,fr=e.id,Nt=e.overflow,Hi=n),n=Te(n,h.children),n.flags|=4096,n)}function We(e,n,l){e.lanes|=n;var h=e.alternate;h!==null&&(h.lanes|=n),ka(e.return,n,l)}function tt(e,n,l,h,y){var E=e.memoizedState;E===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:y}:(E.isBackwards=n,E.rendering=null,E.renderingStartTime=0,E.last=h,E.tail=l,E.tailMode=y)}function $t(e,n,l){var h=n.pendingProps,y=h.revealOrder,E=h.tail;if(V(e,n,h.children,l),h=vt.current,(h&2)!==0)h=h&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&We(e,l,n);else if(e.tag===19)We(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}h&=1}if(pt(vt,h),(n.mode&1)===0)n.memoizedState=null;else switch(y){case"forwards":for(l=n.child,y=null;l!==null;)e=l.alternate,e!==null&&mo(e)===null&&(y=l),l=l.sibling;l=y,l===null?(y=n.child,n.child=null):(y=l.sibling,l.sibling=null),tt(n,!1,y,l,E);break;case"backwards":for(l=null,y=n.child,n.child=null;y!==null;){if(e=y.alternate,e!==null&&mo(e)===null){n.child=y;break}e=y.sibling,y.sibling=l,l=y,y=e}tt(n,!0,l,null,E);break;case"together":tt(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function $e(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Rn(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),_l|=n.lanes,(l&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,l=Mo(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=Mo(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function Ff(e,n,l){switch(n.tag){case 3:Vn(n),Ts();break;case 5:go(n);break;case 1:En(n.type)&&Cs(n);break;case 4:Wi(n,n.stateNode.containerInfo);break;case 10:var h=n.type._context,y=n.memoizedProps.value;pt(fl,h._currentValue),h._currentValue=y;break;case 13:if(h=n.memoizedState,h!==null)return h.dehydrated!==null?(pt(vt,vt.current&1),n.flags|=128,null):(l&n.child.childLanes)!==0?ge(e,n,l):(pt(vt,vt.current&1),e=Rn(e,n,l),e!==null?e.sibling:null);pt(vt,vt.current&1);break;case 19:if(h=(l&n.childLanes)!==0,(e.flags&128)!==0){if(h)return $t(e,n,l);n.flags|=128}if(y=n.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),pt(vt,vt.current),h)break;return null;case 22:case 23:return n.lanes=0,Le(e,n,l)}return Rn(e,n,l)}var Op,Of,zp,Up;Op=function(e,n){for(var l=n.child;l!==null;){if(l.tag===5||l.tag===6)e.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Of=function(){},zp=function(e,n,l,h){var y=e.memoizedProps;if(y!==h){e=n.stateNode,Jt(gt.current);var E=null;switch(l){case"input":y=rt(e,y),h=rt(e,h),E=[];break;case"select":y=G({},y,{value:void 0}),h=G({},h,{value:void 0}),E=[];break;case"textarea":y=ht(e,y),h=ht(e,h),E=[];break;default:typeof y.onClick!="function"&&typeof h.onClick=="function"&&(e.onclick=Ss)}Ho(l,h);var O;l=null;for(de in y)if(!h.hasOwnProperty(de)&&y.hasOwnProperty(de)&&y[de]!=null)if(de==="style"){var X=y[de];for(O in X)X.hasOwnProperty(O)&&(l||(l={}),l[O]="")}else de!=="dangerouslySetInnerHTML"&&de!=="children"&&de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&de!=="autoFocus"&&(d.hasOwnProperty(de)?E||(E=[]):(E=E||[]).push(de,null));for(de in h){var te=h[de];if(X=y!=null?y[de]:void 0,h.hasOwnProperty(de)&&te!==X&&(te!=null||X!=null))if(de==="style")if(X){for(O in X)!X.hasOwnProperty(O)||te&&te.hasOwnProperty(O)||(l||(l={}),l[O]="");for(O in te)te.hasOwnProperty(O)&&X[O]!==te[O]&&(l||(l={}),l[O]=te[O])}else l||(E||(E=[]),E.push(de,l)),l=te;else de==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,X=X?X.__html:void 0,te!=null&&X!==te&&(E=E||[]).push(de,te)):de==="children"?typeof te!="string"&&typeof te!="number"||(E=E||[]).push(de,""+te):de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&(d.hasOwnProperty(de)?(te!=null&&de==="onScroll"&&mt("scroll",e),E||X===te||(E=[])):(E=E||[]).push(de,te))}l&&(E=E||[]).push("style",l);var de=E;(n.updateQueue=de)&&(n.flags|=4)}},Up=function(e,n,l,h){l!==h&&(n.flags|=4)};function tc(e,n){if(!ut)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:h.sibling=null}}function er(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,h=0;if(n)for(var y=e.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags&14680064,h|=y.flags&14680064,y.return=e,y=y.sibling;else for(y=e.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=e,y=y.sibling;return e.subtreeFlags|=h,e.childLanes=l,n}function vy(e,n,l){var h=n.pendingProps;switch(an(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(n),null;case 1:return En(n.type)&&lo(),er(n),null;case 3:return h=n.stateNode,Rt(),yt(Cn),yt(yn),Pn(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(e===null||e.child===null)&&(dl(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,gr!==null&&(qf(gr),gr=null))),Of(e,n),er(n),null;case 5:_i(n);var y=Jt(Ut.current);if(l=n.type,e!==null&&n.stateNode!=null)zp(e,n,l,h,y),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!h){if(n.stateNode===null)throw Error(o(166));return er(n),null}if(e=Jt(gt.current),dl(n)){h=n.stateNode,l=n.type;var E=n.memoizedProps;switch(h[Er]=n,h[al]=E,e=(n.mode&1)!==0,l){case"dialog":mt("cancel",h),mt("close",h);break;case"iframe":case"object":case"embed":mt("load",h);break;case"video":case"audio":for(y=0;y<zi.length;y++)mt(zi[y],h);break;case"source":mt("error",h);break;case"img":case"image":case"link":mt("error",h),mt("load",h);break;case"details":mt("toggle",h);break;case"input":Ge(h,E),mt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!E.multiple},mt("invalid",h);break;case"textarea":Xn(h,E),mt("invalid",h)}Ho(l,E),y=null;for(var O in E)if(E.hasOwnProperty(O)){var X=E[O];O==="children"?typeof X=="string"?h.textContent!==X&&(E.suppressHydrationWarning!==!0&&ol(h.textContent,X,e),y=["children",X]):typeof X=="number"&&h.textContent!==""+X&&(E.suppressHydrationWarning!==!0&&ol(h.textContent,X,e),y=["children",""+X]):d.hasOwnProperty(O)&&X!=null&&O==="onScroll"&&mt("scroll",h)}switch(l){case"input":Pe(h),Et(h,E,!0);break;case"textarea":Pe(h),Wr(h);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(h.onclick=Ss)}h=y,n.updateQueue=h,h!==null&&(n.flags|=4)}else{O=y.nodeType===9?y:y.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hn(l)),e==="http://www.w3.org/1999/xhtml"?l==="script"?(e=O.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof h.is=="string"?e=O.createElement(l,{is:h.is}):(e=O.createElement(l),l==="select"&&(O=e,h.multiple?O.multiple=!0:h.size&&(O.size=h.size))):e=O.createElementNS(e,l),e[Er]=n,e[al]=h,Op(e,n,!1,!1),n.stateNode=e;e:{switch(O=Fl(l,h),l){case"dialog":mt("cancel",e),mt("close",e),y=h;break;case"iframe":case"object":case"embed":mt("load",e),y=h;break;case"video":case"audio":for(y=0;y<zi.length;y++)mt(zi[y],e);y=h;break;case"source":mt("error",e),y=h;break;case"img":case"image":case"link":mt("error",e),mt("load",e),y=h;break;case"details":mt("toggle",e),y=h;break;case"input":Ge(e,h),y=rt(e,h),mt("invalid",e);break;case"option":y=h;break;case"select":e._wrapperState={wasMultiple:!!h.multiple},y=G({},h,{value:void 0}),mt("invalid",e);break;case"textarea":Xn(e,h),y=ht(e,h),mt("invalid",e);break;default:y=h}Ho(l,y),X=y;for(E in X)if(X.hasOwnProperty(E)){var te=X[E];E==="style"?rs(e,te):E==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,te!=null&&or(e,te)):E==="children"?typeof te=="string"?(l!=="textarea"||te!=="")&&Bt(e,te):typeof te=="number"&&Bt(e,""+te):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(d.hasOwnProperty(E)?te!=null&&E==="onScroll"&&mt("scroll",e):te!=null&&v(e,E,te,O))}switch(l){case"input":Pe(e),Et(e,h,!1);break;case"textarea":Pe(e),Wr(e);break;case"option":h.value!=null&&e.setAttribute("value",""+se(h.value));break;case"select":e.multiple=!!h.multiple,E=h.value,E!=null?Sr(e,!!h.multiple,E,!1):h.defaultValue!=null&&Sr(e,!!h.multiple,h.defaultValue,!0);break;default:typeof y.onClick=="function"&&(e.onclick=Ss)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return er(n),null;case 6:if(e&&n.stateNode!=null)Up(e,n,e.memoizedProps,h);else{if(typeof h!="string"&&n.stateNode===null)throw Error(o(166));if(l=Jt(Ut.current),Jt(gt.current),dl(n)){if(h=n.stateNode,l=n.memoizedProps,h[Er]=n,(E=h.nodeValue!==l)&&(e=pr,e!==null))switch(e.tag){case 3:ol(h.nodeValue,l,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ol(h.nodeValue,l,(e.mode&1)!==0)}E&&(n.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Er]=n,n.stateNode=h}return er(n),null;case 13:if(yt(vt),h=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ut&&Ee!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Hu(),Ts(),n.flags|=98560,E=!1;else if(E=dl(n),h!==null&&h.dehydrated!==null){if(e===null){if(!E)throw Error(o(318));if(E=n.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(o(317));E[Er]=n}else Ts(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;er(n),E=!1}else gr!==null&&(qf(gr),gr=null),E=!0;if(!E)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=l,n):(h=h!==null,h!==(e!==null&&e.memoizedState!==null)&&h&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(vt.current&1)!==0?_n===0&&(_n=3):Qf())),n.updateQueue!==null&&(n.flags|=4),er(n),null);case 4:return Rt(),Of(e,n),e===null&&vs(n.stateNode.containerInfo),er(n),null;case 10:return wa(n.type._context),er(n),null;case 17:return En(n.type)&&lo(),er(n),null;case 19:if(yt(vt),E=n.memoizedState,E===null)return er(n),null;if(h=(n.flags&128)!==0,O=E.rendering,O===null)if(h)tc(E,!1);else{if(_n!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(O=mo(e),O!==null){for(n.flags|=128,tc(E,!1),h=O.updateQueue,h!==null&&(n.updateQueue=h,n.flags|=4),n.subtreeFlags=0,h=l,l=n.child;l!==null;)E=l,e=h,E.flags&=14680066,O=E.alternate,O===null?(E.childLanes=0,E.lanes=e,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=O.childLanes,E.lanes=O.lanes,E.child=O.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=O.memoizedProps,E.memoizedState=O.memoizedState,E.updateQueue=O.updateQueue,E.type=O.type,e=O.dependencies,E.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),l=l.sibling;return pt(vt,vt.current&1|2),n.child}e=e.sibling}E.tail!==null&&Ot()>Oa&&(n.flags|=128,h=!0,tc(E,!1),n.lanes=4194304)}else{if(!h)if(e=mo(O),e!==null){if(n.flags|=128,h=!0,l=e.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),tc(E,!0),E.tail===null&&E.tailMode==="hidden"&&!O.alternate&&!ut)return er(n),null}else 2*Ot()-E.renderingStartTime>Oa&&l!==1073741824&&(n.flags|=128,h=!0,tc(E,!1),n.lanes=4194304);E.isBackwards?(O.sibling=n.child,n.child=O):(l=E.last,l!==null?l.sibling=O:n.child=O,E.last=O)}return E.tail!==null?(n=E.tail,E.rendering=n,E.tail=n.sibling,E.renderingStartTime=Ot(),n.sibling=null,l=vt.current,pt(vt,h?l&1|2:l&1),n):(er(n),null);case 22:case 23:return Kf(),h=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==h&&(n.flags|=8192),h&&(n.mode&1)!==0?(Br&1073741824)!==0&&(er(n),n.subtreeFlags&6&&(n.flags|=8192)):er(n),null;case 24:return null;case 25:return null}throw Error(o(156,n.tag))}function _y(e,n){switch(an(n),n.tag){case 1:return En(n.type)&&lo(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Rt(),yt(Cn),yt(yn),Pn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return _i(n),null;case 13:if(yt(vt),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));Ts()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return yt(vt),null;case 4:return Rt(),null;case 10:return wa(n.type._context),null;case 22:case 23:return Kf(),null;case 24:return null;default:return null}}var ch=!1,tr=!1,Sy=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Aa(e,n){var l=e.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){Yt(e,n,h)}else l.current=null}function zf(e,n,l){try{l()}catch(h){Yt(e,n,h)}}var bp=!1;function wy(e,n){if(Uu=ql,e=Kt(),ro(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var y=h.anchorOffset,E=h.focusNode;h=h.focusOffset;try{l.nodeType,E.nodeType}catch{l=null;break e}var O=0,X=-1,te=-1,de=0,_e=0,Se=e,ve=null;t:for(;;){for(var Re;Se!==l||y!==0&&Se.nodeType!==3||(X=O+y),Se!==E||h!==0&&Se.nodeType!==3||(te=O+h),Se.nodeType===3&&(O+=Se.nodeValue.length),(Re=Se.firstChild)!==null;)ve=Se,Se=Re;for(;;){if(Se===e)break t;if(ve===l&&++de===y&&(X=O),ve===E&&++_e===h&&(te=O),(Re=Se.nextSibling)!==null)break;Se=ve,ve=Se.parentNode}Se=Re}l=X===-1||te===-1?null:{start:X,end:te}}else l=null}l=l||{start:0,end:0}}else l=null;for(bu={focusedElem:e,selectionRange:l},ql=!1,Me=n;Me!==null;)if(n=Me,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Me=e;else for(;Me!==null;){n=Me;try{var De=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(De!==null){var Ie=De.memoizedProps,en=De.memoizedState,ae=n.stateNode,re=ae.getSnapshotBeforeUpdate(n.elementType===n.type?Ie:vn(n.type,Ie),en);ae.__reactInternalSnapshotBeforeUpdate=re}break;case 3:var ue=n.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Ce){Yt(n,n.return,Ce)}if(e=n.sibling,e!==null){e.return=n.return,Me=e;break}Me=n.return}return De=bp,bp=!1,De}function nc(e,n,l){var h=n.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var y=h=h.next;do{if((y.tag&e)===e){var E=y.destroy;y.destroy=void 0,E!==void 0&&zf(n,l,E)}y=y.next}while(y!==h)}}function dh(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var l=n=n.next;do{if((l.tag&e)===e){var h=l.create;l.destroy=h()}l=l.next}while(l!==n)}}function Uf(e){var n=e.ref;if(n!==null){var l=e.stateNode;switch(e.tag){case 5:e=l;break;default:e=l}typeof n=="function"?n(e):n.current=e}}function jp(e){var n=e.alternate;n!==null&&(e.alternate=null,jp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Er],delete n[al],delete n[fa],delete n[Kd],delete n[Qd])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bp(e){return e.tag===5||e.tag===3||e.tag===4}function Gp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bf(e,n,l){var h=e.tag;if(h===5||h===6)e=e.stateNode,n?l.nodeType===8?l.parentNode.insertBefore(e,n):l.insertBefore(e,n):(l.nodeType===8?(n=l.parentNode,n.insertBefore(e,l)):(n=l,n.appendChild(e)),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=Ss));else if(h!==4&&(e=e.child,e!==null))for(bf(e,n,l),e=e.sibling;e!==null;)bf(e,n,l),e=e.sibling}function jf(e,n,l){var h=e.tag;if(h===5||h===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(h!==4&&(e=e.child,e!==null))for(jf(e,n,l),e=e.sibling;e!==null;)jf(e,n,l),e=e.sibling}var Hn=null,ki=!1;function Po(e,n,l){for(l=l.child;l!==null;)Vp(e,n,l),l=l.sibling}function Vp(e,n,l){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(ui,l)}catch{}switch(l.tag){case 5:tr||Aa(l,n);case 6:var h=Hn,y=ki;Hn=null,Po(e,n,l),Hn=h,ki=y,Hn!==null&&(ki?(e=Hn,l=l.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)):Hn.removeChild(l.stateNode));break;case 18:Hn!==null&&(ki?(e=Hn,l=l.stateNode,e.nodeType===8?ha(e.parentNode,l):e.nodeType===1&&ha(e,l),Qn(e)):ha(Hn,l.stateNode));break;case 4:h=Hn,y=ki,Hn=l.stateNode.containerInfo,ki=!0,Po(e,n,l),Hn=h,ki=y;break;case 0:case 11:case 14:case 15:if(!tr&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){y=h=h.next;do{var E=y,O=E.destroy;E=E.tag,O!==void 0&&((E&2)!==0||(E&4)!==0)&&zf(l,n,O),y=y.next}while(y!==h)}Po(e,n,l);break;case 1:if(!tr&&(Aa(l,n),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(X){Yt(l,n,X)}Po(e,n,l);break;case 21:Po(e,n,l);break;case 22:l.mode&1?(tr=(h=tr)||l.memoizedState!==null,Po(e,n,l),tr=h):Po(e,n,l);break;default:Po(e,n,l)}}function Hp(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var l=e.stateNode;l===null&&(l=e.stateNode=new Sy),n.forEach(function(h){var y=Ly.bind(null,e,h);l.has(h)||(l.add(h),h.then(y,y))})}}function xi(e,n){var l=n.deletions;if(l!==null)for(var h=0;h<l.length;h++){var y=l[h];try{var E=e,O=n,X=O;e:for(;X!==null;){switch(X.tag){case 5:Hn=X.stateNode,ki=!1;break e;case 3:Hn=X.stateNode.containerInfo,ki=!0;break e;case 4:Hn=X.stateNode.containerInfo,ki=!0;break e}X=X.return}if(Hn===null)throw Error(o(160));Vp(E,O,y),Hn=null,ki=!1;var te=y.alternate;te!==null&&(te.return=null),y.return=null}catch(de){Yt(y,n,de)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Wp(n,e),n=n.sibling}function Wp(e,n){var l=e.alternate,h=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xi(n,e),Qi(e),h&4){try{nc(3,e,e.return),dh(3,e)}catch(Ie){Yt(e,e.return,Ie)}try{nc(5,e,e.return)}catch(Ie){Yt(e,e.return,Ie)}}break;case 1:xi(n,e),Qi(e),h&512&&l!==null&&Aa(l,l.return);break;case 5:if(xi(n,e),Qi(e),h&512&&l!==null&&Aa(l,l.return),e.flags&32){var y=e.stateNode;try{Bt(y,"")}catch(Ie){Yt(e,e.return,Ie)}}if(h&4&&(y=e.stateNode,y!=null)){var E=e.memoizedProps,O=l!==null?l.memoizedProps:E,X=e.type,te=e.updateQueue;if(e.updateQueue=null,te!==null)try{X==="input"&&E.type==="radio"&&E.name!=null&&jt(y,E),Fl(X,O);var de=Fl(X,E);for(O=0;O<te.length;O+=2){var _e=te[O],Se=te[O+1];_e==="style"?rs(y,Se):_e==="dangerouslySetInnerHTML"?or(y,Se):_e==="children"?Bt(y,Se):v(y,_e,Se,de)}switch(X){case"input":ot(y,E);break;case"textarea":dn(y,E);break;case"select":var ve=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!E.multiple;var Re=E.value;Re!=null?Sr(y,!!E.multiple,Re,!1):ve!==!!E.multiple&&(E.defaultValue!=null?Sr(y,!!E.multiple,E.defaultValue,!0):Sr(y,!!E.multiple,E.multiple?[]:"",!1))}y[al]=E}catch(Ie){Yt(e,e.return,Ie)}}break;case 6:if(xi(n,e),Qi(e),h&4){if(e.stateNode===null)throw Error(o(162));y=e.stateNode,E=e.memoizedProps;try{y.nodeValue=E}catch(Ie){Yt(e,e.return,Ie)}}break;case 3:if(xi(n,e),Qi(e),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Qn(n.containerInfo)}catch(Ie){Yt(e,e.return,Ie)}break;case 4:xi(n,e),Qi(e);break;case 13:xi(n,e),Qi(e),y=e.child,y.flags&8192&&(E=y.memoizedState!==null,y.stateNode.isHidden=E,!E||y.alternate!==null&&y.alternate.memoizedState!==null||(Vf=Ot())),h&4&&Hp(e);break;case 22:if(_e=l!==null&&l.memoizedState!==null,e.mode&1?(tr=(de=tr)||_e,xi(n,e),tr=de):xi(n,e),Qi(e),h&8192){if(de=e.memoizedState!==null,(e.stateNode.isHidden=de)&&!_e&&(e.mode&1)!==0)for(Me=e,_e=e.child;_e!==null;){for(Se=Me=_e;Me!==null;){switch(ve=Me,Re=ve.child,ve.tag){case 0:case 11:case 14:case 15:nc(4,ve,ve.return);break;case 1:Aa(ve,ve.return);var De=ve.stateNode;if(typeof De.componentWillUnmount=="function"){h=ve,l=ve.return;try{n=h,De.props=n.memoizedProps,De.state=n.memoizedState,De.componentWillUnmount()}catch(Ie){Yt(h,l,Ie)}}break;case 5:Aa(ve,ve.return);break;case 22:if(ve.memoizedState!==null){Xp(Se);continue}}Re!==null?(Re.return=ve,Me=Re):Xp(Se)}_e=_e.sibling}e:for(_e=null,Se=e;;){if(Se.tag===5){if(_e===null){_e=Se;try{y=Se.stateNode,de?(E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(X=Se.stateNode,te=Se.memoizedProps.style,O=te!=null&&te.hasOwnProperty("display")?te.display:null,X.style.display=Vo("display",O))}catch(Ie){Yt(e,e.return,Ie)}}}else if(Se.tag===6){if(_e===null)try{Se.stateNode.nodeValue=de?"":Se.memoizedProps}catch(Ie){Yt(e,e.return,Ie)}}else if((Se.tag!==22&&Se.tag!==23||Se.memoizedState===null||Se===e)&&Se.child!==null){Se.child.return=Se,Se=Se.child;continue}if(Se===e)break e;for(;Se.sibling===null;){if(Se.return===null||Se.return===e)break e;_e===Se&&(_e=null),Se=Se.return}_e===Se&&(_e=null),Se.sibling.return=Se.return,Se=Se.sibling}}break;case 19:xi(n,e),Qi(e),h&4&&Hp(e);break;case 21:break;default:xi(n,e),Qi(e)}}function Qi(e){var n=e.flags;if(n&2){try{e:{for(var l=e.return;l!==null;){if(Bp(l)){var h=l;break e}l=l.return}throw Error(o(160))}switch(h.tag){case 5:var y=h.stateNode;h.flags&32&&(Bt(y,""),h.flags&=-33);var E=Gp(e);jf(e,E,y);break;case 3:case 4:var O=h.stateNode.containerInfo,X=Gp(e);bf(e,X,O);break;default:throw Error(o(161))}}catch(te){Yt(e,e.return,te)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ky(e,n,l){Me=e,Yp(e)}function Yp(e,n,l){for(var h=(e.mode&1)!==0;Me!==null;){var y=Me,E=y.child;if(y.tag===22&&h){var O=y.memoizedState!==null||ch;if(!O){var X=y.alternate,te=X!==null&&X.memoizedState!==null||tr;X=ch;var de=tr;if(ch=O,(tr=te)&&!de)for(Me=y;Me!==null;)O=Me,te=O.child,O.tag===22&&O.memoizedState!==null?Kp(y):te!==null?(te.return=O,Me=te):Kp(y);for(;E!==null;)Me=E,Yp(E),E=E.sibling;Me=y,ch=X,tr=de}qp(e)}else(y.subtreeFlags&8772)!==0&&E!==null?(E.return=y,Me=E):qp(e)}}function qp(e){for(;Me!==null;){var n=Me;if((n.flags&8772)!==0){var l=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:tr||dh(5,n);break;case 1:var h=n.stateNode;if(n.flags&4&&!tr)if(l===null)h.componentDidMount();else{var y=n.elementType===n.type?l.memoizedProps:vn(n.type,l.memoizedProps);h.componentDidUpdate(y,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var E=n.updateQueue;E!==null&&It(n,E,h);break;case 3:var O=n.updateQueue;if(O!==null){if(l=null,n.child!==null)switch(n.child.tag){case 5:l=n.child.stateNode;break;case 1:l=n.child.stateNode}It(n,O,l)}break;case 5:var X=n.stateNode;if(l===null&&n.flags&4){l=X;var te=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":te.autoFocus&&l.focus();break;case"img":te.src&&(l.src=te.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var de=n.alternate;if(de!==null){var _e=de.memoizedState;if(_e!==null){var Se=_e.dehydrated;Se!==null&&Qn(Se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}tr||n.flags&512&&Uf(n)}catch(ve){Yt(n,n.return,ve)}}if(n===e){Me=null;break}if(l=n.sibling,l!==null){l.return=n.return,Me=l;break}Me=n.return}}function Xp(e){for(;Me!==null;){var n=Me;if(n===e){Me=null;break}var l=n.sibling;if(l!==null){l.return=n.return,Me=l;break}Me=n.return}}function Kp(e){for(;Me!==null;){var n=Me;try{switch(n.tag){case 0:case 11:case 15:var l=n.return;try{dh(4,n)}catch(te){Yt(n,l,te)}break;case 1:var h=n.stateNode;if(typeof h.componentDidMount=="function"){var y=n.return;try{h.componentDidMount()}catch(te){Yt(n,y,te)}}var E=n.return;try{Uf(n)}catch(te){Yt(n,E,te)}break;case 5:var O=n.return;try{Uf(n)}catch(te){Yt(n,O,te)}}}catch(te){Yt(n,n.return,te)}if(n===e){Me=null;break}var X=n.sibling;if(X!==null){X.return=n.return,Me=X;break}Me=n.return}}var xy=Math.ceil,hh=L.ReactCurrentDispatcher,Bf=L.ReactCurrentOwner,ii=L.ReactCurrentBatchConfig,lt=0,Ln=null,un=null,Wn=0,Br=0,Fa=mi(0),_n=0,rc=null,_l=0,fh=0,Gf=0,ic=null,Tr=null,Vf=0,Oa=1/0,Is=null,ph=!1,Hf=null,No=null,gh=!1,To=null,mh=0,sc=0,Wf=null,yh=-1,vh=0;function _r(){return(lt&6)!==0?Ot():yh!==-1?yh:yh=Ot()}function Ro(e){return(e.mode&1)===0?1:(lt&2)!==0&&Wn!==0?Wn&-Wn:Wu.transition!==null?(vh===0&&(vh=mu()),vh):(e=st,e!==0||(e=window.event,e=e===void 0?16:Dd(e.type)),e)}function Ci(e,n,l,h){if(50<sc)throw sc=0,Wf=null,Error(o(185));qo(e,l,h),((lt&2)===0||e!==Ln)&&(e===Ln&&((lt&2)===0&&(fh|=l),_n===4&&Lo(e,Wn)),Rr(e,h),l===1&&lt===0&&(n.mode&1)===0&&(Oa=Ot()+500,ao&&Bi()))}function Rr(e,n){var l=e.callbackNode;Nd(e,n);var h=ls(e,e===Ln?Wn:0);if(h===0)l!==null&&Ed(l),e.callbackNode=null,e.callbackPriority=0;else if(n=h&-h,e.callbackPriority!==n){if(l!=null&&Ed(l),n===1)e.tag===0?yi(Jp.bind(null,e)):cl(Jp.bind(null,e)),qd(function(){(lt&6)===0&&Bi()}),l=null;else{switch(Xo(h)){case 1:l=os;break;case 4:l=jl;break;case 16:l=Hs;break;case 536870912:l=Bl;break;default:l=Hs}l=sg(l,Qp.bind(null,e))}e.callbackPriority=n,e.callbackNode=l}}function Qp(e,n){if(yh=-1,vh=0,(lt&6)!==0)throw Error(o(327));var l=e.callbackNode;if(za()&&e.callbackNode!==l)return null;var h=ls(e,e===Ln?Wn:0);if(h===0)return null;if((h&30)!==0||(h&e.expiredLanes)!==0||n)n=_h(e,h);else{n=h;var y=lt;lt|=2;var E=$p();(Ln!==e||Wn!==n)&&(Is=null,Oa=Ot()+500,wl(e,n));do try{Py();break}catch(X){Zp(e,X)}while(!0);Sa(),hh.current=E,lt=y,un!==null?n=0:(Ln=null,Wn=0,n=_n)}if(n!==0){if(n===2&&(y=Ws(e),y!==0&&(h=y,n=Yf(e,y))),n===1)throw l=rc,wl(e,0),Lo(e,h),Rr(e,Ot()),l;if(n===6)Lo(e,h);else{if(y=e.current.alternate,(h&30)===0&&!Cy(y)&&(n=_h(e,h),n===2&&(E=Ws(e),E!==0&&(h=E,n=Yf(e,E))),n===1))throw l=rc,wl(e,0),Lo(e,h),Rr(e,Ot()),l;switch(e.finishedWork=y,e.finishedLanes=h,n){case 0:case 1:throw Error(o(345));case 2:kl(e,Tr,Is);break;case 3:if(Lo(e,h),(h&130023424)===h&&(n=Vf+500-Ot(),10<n)){if(ls(e,0)!==0)break;if(y=e.suspendedLanes,(y&h)!==h){_r(),e.pingedLanes|=e.suspendedLanes&y;break}e.timeoutHandle=hr(kl.bind(null,e,Tr,Is),n);break}kl(e,Tr,Is);break;case 4:if(Lo(e,h),(h&4194240)===h)break;for(n=e.eventTimes,y=-1;0<h;){var O=31-Qe(h);E=1<<O,O=n[O],O>y&&(y=O),h&=~E}if(h=y,h=Ot()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*xy(h/1960))-h,10<h){e.timeoutHandle=hr(kl.bind(null,e,Tr,Is),h);break}kl(e,Tr,Is);break;case 5:kl(e,Tr,Is);break;default:throw Error(o(329))}}}return Rr(e,Ot()),e.callbackNode===l?Qp.bind(null,e):null}function Yf(e,n){var l=ic;return e.current.memoizedState.isDehydrated&&(wl(e,n).flags|=256),e=_h(e,n),e!==2&&(n=Tr,Tr=l,n!==null&&qf(n)),e}function qf(e){Tr===null?Tr=e:Tr.push.apply(Tr,e)}function Cy(e){for(var n=e;;){if(n.flags&16384){var l=n.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var y=l[h],E=y.getSnapshot;y=y.value;try{if(!Zn(E(),y))return!1}catch{return!1}}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Lo(e,n){for(n&=~Gf,n&=~fh,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var l=31-Qe(n),h=1<<l;e[l]=-1,n&=~h}}function Jp(e){if((lt&6)!==0)throw Error(o(327));za();var n=ls(e,0);if((n&1)===0)return Rr(e,Ot()),null;var l=_h(e,n);if(e.tag!==0&&l===2){var h=Ws(e);h!==0&&(n=h,l=Yf(e,h))}if(l===1)throw l=rc,wl(e,0),Lo(e,n),Rr(e,Ot()),l;if(l===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,kl(e,Tr,Is),Rr(e,Ot()),null}function Xf(e,n){var l=lt;lt|=1;try{return e(n)}finally{lt=l,lt===0&&(Oa=Ot()+500,ao&&Bi())}}function Sl(e){To!==null&&To.tag===0&&(lt&6)===0&&za();var n=lt;lt|=1;var l=ii.transition,h=st;try{if(ii.transition=null,st=1,e)return e()}finally{st=h,ii.transition=l,lt=n,(lt&6)===0&&Bi()}}function Kf(){Br=Fa.current,yt(Fa)}function wl(e,n){e.finishedWork=null,e.finishedLanes=0;var l=e.timeoutHandle;if(l!==-1&&(e.timeoutHandle=-1,Bu(l)),un!==null)for(l=un.return;l!==null;){var h=l;switch(an(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&lo();break;case 3:Rt(),yt(Cn),yt(yn),Pn();break;case 5:_i(h);break;case 4:Rt();break;case 13:yt(vt);break;case 19:yt(vt);break;case 10:wa(h.type._context);break;case 22:case 23:Kf()}l=l.return}if(Ln=e,un=e=Mo(e.current,null),Wn=Br=n,_n=0,rc=null,Gf=fh=_l=0,Tr=ic=null,$r!==null){for(n=0;n<$r.length;n++)if(l=$r[n],h=l.interleaved,h!==null){l.interleaved=null;var y=h.next,E=l.pending;if(E!==null){var O=E.next;E.next=y,h.next=O}l.pending=h}$r=null}return e}function Zp(e,n){do{var l=un;try{if(Sa(),yo.current=ko,jr){for(var h=ft.memoizedState;h!==null;){var y=h.queue;y!==null&&(y.pending=null),h=h.next}jr=!1}if(Gn=0,Ht=At=ft=null,Yi=!1,Nr=0,Bf.current=null,l===null||l.return===null){_n=1,rc=n,un=null;break}e:{var E=e,O=l.return,X=l,te=n;if(n=Wn,X.flags|=32768,te!==null&&typeof te=="object"&&typeof te.then=="function"){var de=te,_e=X,Se=_e.tag;if((_e.mode&1)===0&&(Se===0||Se===11||Se===15)){var ve=_e.alternate;ve?(_e.updateQueue=ve.updateQueue,_e.memoizedState=ve.memoizedState,_e.lanes=ve.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var Re=c(O);if(Re!==null){Re.flags&=-257,g(Re,O,X,E,n),Re.mode&1&&s(E,de,n),n=Re,te=de;var De=n.updateQueue;if(De===null){var Ie=new Set;Ie.add(te),n.updateQueue=Ie}else De.add(te);break e}else{if((n&1)===0){s(E,de,n),Qf();break e}te=Error(o(426))}}else if(ut&&X.mode&1){var en=c(O);if(en!==null){(en.flags&65536)===0&&(en.flags|=256),g(en,O,X,E,n),hl(Ds(te,X));break e}}E=te=Ds(te,X),_n!==4&&(_n=2),ic===null?ic=[E]:ic.push(E),E=O;do{switch(E.tag){case 3:E.flags|=65536,n&=-n,E.lanes|=n;var ae=uh(E,te,n);ml(E,ae);break e;case 1:X=te;var re=E.type,ue=E.stateNode;if((E.flags&128)===0&&(typeof re.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(No===null||!No.has(ue)))){E.flags|=65536,n&=-n,E.lanes|=n;var Ce=r(E,X,n);ml(E,Ce);break e}}E=E.return}while(E!==null)}tg(l)}catch(Ae){n=Ae,un===l&&l!==null&&(un=l=l.return);continue}break}while(!0)}function $p(){var e=hh.current;return hh.current=ko,e===null?ko:e}function Qf(){(_n===0||_n===3||_n===2)&&(_n=4),Ln===null||(_l&268435455)===0&&(fh&268435455)===0||Lo(Ln,Wn)}function _h(e,n){var l=lt;lt|=2;var h=$p();(Ln!==e||Wn!==n)&&(Is=null,wl(e,n));do try{Ey();break}catch(y){Zp(e,y)}while(!0);if(Sa(),lt=l,hh.current=h,un!==null)throw Error(o(261));return Ln=null,Wn=0,_n}function Ey(){for(;un!==null;)eg(un)}function Py(){for(;un!==null&&!Cf();)eg(un)}function eg(e){var n=ig(e.alternate,e,Br);e.memoizedProps=e.pendingProps,n===null?tg(e):un=n,Bf.current=null}function tg(e){var n=e;do{var l=n.alternate;if(e=n.return,(n.flags&32768)===0){if(l=vy(l,n,Br),l!==null){un=l;return}}else{if(l=_y(l,n),l!==null){l.flags&=32767,un=l;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_n=6,un=null;return}}if(n=n.sibling,n!==null){un=n;return}un=n=e}while(n!==null);_n===0&&(_n=5)}function kl(e,n,l){var h=st,y=ii.transition;try{ii.transition=null,st=1,Ny(e,n,l,h)}finally{ii.transition=y,st=h}return null}function Ny(e,n,l,h){do za();while(To!==null);if((lt&6)!==0)throw Error(o(327));l=e.finishedWork;var y=e.finishedLanes;if(l===null)return null;if(e.finishedWork=null,e.finishedLanes=0,l===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var E=l.lanes|l.childLanes;if(Nf(e,E),e===Ln&&(un=Ln=null,Wn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||gh||(gh=!0,sg(Hs,function(){return za(),null})),E=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||E){E=ii.transition,ii.transition=null;var O=st;st=1;var X=lt;lt|=4,Bf.current=null,wy(e,l),Wp(l,e),nl(bu),ql=!!Uu,bu=Uu=null,e.current=l,ky(l),Ef(),lt=X,st=O,ii.transition=E}else e.current=l;if(gh&&(gh=!1,To=e,mh=y),E=e.pendingLanes,E===0&&(No=null),St(l.stateNode),Rr(e,Ot()),n!==null)for(h=e.onRecoverableError,l=0;l<n.length;l++)y=n[l],h(y.value,{componentStack:y.stack,digest:y.digest});if(ph)throw ph=!1,e=Hf,Hf=null,e;return(mh&1)!==0&&e.tag!==0&&za(),E=e.pendingLanes,(E&1)!==0?e===Wf?sc++:(sc=0,Wf=e):sc=0,Bi(),null}function za(){if(To!==null){var e=Xo(mh),n=ii.transition,l=st;try{if(ii.transition=null,st=16>e?16:e,To===null)var h=!1;else{if(e=To,To=null,mh=0,(lt&6)!==0)throw Error(o(331));var y=lt;for(lt|=4,Me=e.current;Me!==null;){var E=Me,O=E.child;if((Me.flags&16)!==0){var X=E.deletions;if(X!==null){for(var te=0;te<X.length;te++){var de=X[te];for(Me=de;Me!==null;){var _e=Me;switch(_e.tag){case 0:case 11:case 15:nc(8,_e,E)}var Se=_e.child;if(Se!==null)Se.return=_e,Me=Se;else for(;Me!==null;){_e=Me;var ve=_e.sibling,Re=_e.return;if(jp(_e),_e===de){Me=null;break}if(ve!==null){ve.return=Re,Me=ve;break}Me=Re}}}var De=E.alternate;if(De!==null){var Ie=De.child;if(Ie!==null){De.child=null;do{var en=Ie.sibling;Ie.sibling=null,Ie=en}while(Ie!==null)}}Me=E}}if((E.subtreeFlags&2064)!==0&&O!==null)O.return=E,Me=O;else e:for(;Me!==null;){if(E=Me,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:nc(9,E,E.return)}var ae=E.sibling;if(ae!==null){ae.return=E.return,Me=ae;break e}Me=E.return}}var re=e.current;for(Me=re;Me!==null;){O=Me;var ue=O.child;if((O.subtreeFlags&2064)!==0&&ue!==null)ue.return=O,Me=ue;else e:for(O=re;Me!==null;){if(X=Me,(X.flags&2048)!==0)try{switch(X.tag){case 0:case 11:case 15:dh(9,X)}}catch(Ae){Yt(X,X.return,Ae)}if(X===O){Me=null;break e}var Ce=X.sibling;if(Ce!==null){Ce.return=X.return,Me=Ce;break e}Me=X.return}}if(lt=y,Bi(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(ui,e)}catch{}h=!0}return h}finally{st=l,ii.transition=n}}return!1}function ng(e,n,l){n=Ds(l,n),n=uh(e,n,1),e=ni(e,n,1),n=_r(),e!==null&&(qo(e,1,n),Rr(e,n))}function Yt(e,n,l){if(e.tag===3)ng(e,e,l);else for(;n!==null;){if(n.tag===3){ng(n,e,l);break}else if(n.tag===1){var h=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(No===null||!No.has(h))){e=Ds(l,e),e=r(n,e,1),n=ni(n,e,1),e=_r(),n!==null&&(qo(n,1,e),Rr(n,e));break}}n=n.return}}function Ty(e,n,l){var h=e.pingCache;h!==null&&h.delete(n),n=_r(),e.pingedLanes|=e.suspendedLanes&l,Ln===e&&(Wn&l)===l&&(_n===4||_n===3&&(Wn&130023424)===Wn&&500>Ot()-Vf?wl(e,0):Gf|=l),Rr(e,n)}function rg(e,n){n===0&&((e.mode&1)===0?n=1:(n=ci,ci<<=1,(ci&130023424)===0&&(ci=4194304)));var l=_r();e=yr(e,n),e!==null&&(qo(e,n,l),Rr(e,l))}function Ry(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),rg(e,l)}function Ly(e,n){var l=0;switch(e.tag){case 13:var h=e.stateNode,y=e.memoizedState;y!==null&&(l=y.retryLane);break;case 19:h=e.stateNode;break;default:throw Error(o(314))}h!==null&&h.delete(n),rg(e,l)}var ig;ig=function(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps||Cn.current)R=!0;else{if((e.lanes&l)===0&&(n.flags&128)===0)return R=!1,Ff(e,n,l);R=(e.flags&131072)!==0}else R=!1,ut&&(n.flags&1048576)!==0&&Zd(n,Vi,n.index);switch(n.lanes=0,n.tag){case 2:var h=n.type;$e(e,n),e=n.pendingProps;var y=xs(n,yn.current);vi(n,l),y=vo(null,n,h,e,y,l);var E=_o();return n.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,En(h)?(E=!0,Cs(n)):E=!1,n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,gl(n),y.updater=Co,n.stateNode=y,y._reactInternals=n,Da(n,h,e,l),n=ct(null,n,h,!0,E,l)):(n.tag=0,ut&&E&&uo(n),V(null,n,y,l),n=n.child),n;case 16:h=n.elementType;e:{switch($e(e,n),e=n.pendingProps,y=h._init,h=y(h._payload),n.type=h,y=n.tag=Dy(h),e=vn(h,e),y){case 0:n=Ne(null,n,h,e,l);break e;case 1:n=_t(null,n,h,e,l);break e;case 11:n=ie(null,n,h,e,l);break e;case 14:n=fe(null,n,h,vn(h.type,e),l);break e}throw Error(o(306,h,""))}return n;case 0:return h=n.type,y=n.pendingProps,y=n.elementType===h?y:vn(h,y),Ne(e,n,h,y,l);case 1:return h=n.type,y=n.pendingProps,y=n.elementType===h?y:vn(h,y),_t(e,n,h,y,l);case 3:e:{if(Vn(n),e===null)throw Error(o(387));h=n.pendingProps,E=n.memoizedState,y=E.element,xa(e,n),po(n,h,null,l);var O=n.memoizedState;if(h=O.element,E.isDehydrated)if(E={element:h,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},n.updateQueue.baseState=E,n.memoizedState=E,n.flags&256){y=Ds(Error(o(423)),n),n=ri(e,n,h,l,y);break e}else if(h!==y){y=Ds(Error(o(424)),n),n=ri(e,n,h,l,y);break e}else for(Ee=Kr(n.stateNode.containerInfo.firstChild),pr=n,ut=!0,gr=null,l=Pr(n,null,h,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ts(),h===y){n=Rn(e,n,l);break e}V(e,n,h,l)}n=n.child}return n;case 5:return go(n),e===null&&co(n),h=n.type,y=n.pendingProps,E=e!==null?e.memoizedProps:null,O=y.children,ju(h,y)?O=null:E!==null&&ju(h,E)&&(n.flags|=32),He(e,n),V(e,n,O,l),n.child;case 6:return e===null&&co(n),null;case 13:return ge(e,n,l);case 4:return Wi(n,n.stateNode.containerInfo),h=n.pendingProps,e===null?n.child=Rs(n,null,h,l):V(e,n,h,l),n.child;case 11:return h=n.type,y=n.pendingProps,y=n.elementType===h?y:vn(h,y),ie(e,n,h,y,l);case 7:return V(e,n,n.pendingProps,l),n.child;case 8:return V(e,n,n.pendingProps.children,l),n.child;case 12:return V(e,n,n.pendingProps.children,l),n.child;case 10:e:{if(h=n.type._context,y=n.pendingProps,E=n.memoizedProps,O=y.value,pt(fl,h._currentValue),h._currentValue=O,E!==null)if(Zn(E.value,O)){if(E.children===y.children&&!Cn.current){n=Rn(e,n,l);break e}}else for(E=n.child,E!==null&&(E.return=n);E!==null;){var X=E.dependencies;if(X!==null){O=E.child;for(var te=X.firstContext;te!==null;){if(te.context===h){if(E.tag===1){te=ti(-1,l&-l),te.tag=2;var de=E.updateQueue;if(de!==null){de=de.shared;var _e=de.pending;_e===null?te.next=te:(te.next=_e.next,_e.next=te),de.pending=te}}E.lanes|=l,te=E.alternate,te!==null&&(te.lanes|=l),ka(E.return,l,n),X.lanes|=l;break}te=te.next}}else if(E.tag===10)O=E.type===n.type?null:E.child;else if(E.tag===18){if(O=E.return,O===null)throw Error(o(341));O.lanes|=l,X=O.alternate,X!==null&&(X.lanes|=l),ka(O,l,n),O=E.sibling}else O=E.child;if(O!==null)O.return=E;else for(O=E;O!==null;){if(O===n){O=null;break}if(E=O.sibling,E!==null){E.return=O.return,O=E;break}O=O.return}E=O}V(e,n,y.children,l),n=n.child}return n;case 9:return y=n.type,h=n.pendingProps.children,vi(n,l),y=Bn(y),h=h(y),n.flags|=1,V(e,n,h,l),n.child;case 14:return h=n.type,y=vn(h,n.pendingProps),y=vn(h.type,y),fe(e,n,h,y,l);case 15:return ke(e,n,n.type,n.pendingProps,l);case 17:return h=n.type,y=n.pendingProps,y=n.elementType===h?y:vn(h,y),$e(e,n),n.tag=1,En(h)?(e=!0,Cs(n)):e=!1,vi(n,l),ah(n,h,y),Da(n,h,y,l),ct(null,n,h,!0,e,l);case 19:return $t(e,n,l);case 22:return Le(e,n,l)}throw Error(o(156,n.tag))};function sg(e,n){return Cd(e,n)}function My(e,n,l,h){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(e,n,l,h){return new My(e,n,l,h)}function Jf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dy(e){if(typeof e=="function")return Jf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===K)return 11;if(e===$)return 14}return 2}function Mo(e,n){var l=e.alternate;return l===null?(l=si(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&14680064,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l}function Sh(e,n,l,h,y,E){var O=2;if(h=e,typeof e=="function")Jf(e)&&(O=1);else if(typeof e=="string")O=5;else e:switch(e){case H:return xl(l.children,y,E,n);case I:O=8,y|=8;break;case z:return e=si(12,l,n,y|2),e.elementType=z,e.lanes=E,e;case ee:return e=si(13,l,n,y),e.elementType=ee,e.lanes=E,e;case ne:return e=si(19,l,n,y),e.elementType=ne,e.lanes=E,e;case A:return wh(l,y,E,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:O=10;break e;case q:O=9;break e;case K:O=11;break e;case $:O=14;break e;case pe:O=16,h=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return n=si(O,l,n,y),n.elementType=e,n.type=h,n.lanes=E,n}function xl(e,n,l,h){return e=si(7,e,h,n),e.lanes=l,e}function wh(e,n,l,h){return e=si(22,e,h,n),e.elementType=A,e.lanes=l,e.stateNode={isHidden:!1},e}function Zf(e,n,l){return e=si(6,e,null,n),e.lanes=l,e}function $f(e,n,l){return n=si(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Iy(e,n,l,h,y){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lr(0),this.expirationTimes=lr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lr(0),this.identifierPrefix=h,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function e0(e,n,l,h,y,E,O,X,te){return e=new Iy(e,n,l,X,te),n===1?(n=1,E===!0&&(n|=8)):n=0,E=si(3,null,null,n),e.current=E,E.stateNode=e,E.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},gl(E),e}function Ay(e,n,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:h==null?null:""+h,children:e,containerInfo:n,implementation:l}}function og(e){if(!e)return Jr;e=e._reactInternals;e:{if(ss(e)!==e||e.tag!==1)throw Error(o(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(En(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(o(171))}if(e.tag===1){var l=e.type;if(En(l))return ga(e,l,n)}return n}function lg(e,n,l,h,y,E,O,X,te){return e=e0(l,h,!0,e,y,E,O,X,te),e.context=og(null),l=e.current,h=_r(),y=Ro(l),E=ti(h,y),E.callback=n??null,ni(l,E,y),e.current.lanes=y,qo(e,y,h),Rr(e,h),e}function kh(e,n,l,h){var y=n.current,E=_r(),O=Ro(y);return l=og(l),n.context===null?n.context=l:n.pendingContext=l,n=ti(E,O),n.payload={element:e},h=h===void 0?null:h,h!==null&&(n.callback=h),e=ni(y,n,O),e!==null&&(Ci(e,y,O,E),Ca(e,y,O)),O}function xh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ag(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function t0(e,n){ag(e,n),(e=e.alternate)&&ag(e,n)}function Fy(){return null}var ug=typeof reportError=="function"?reportError:function(e){console.error(e)};function n0(e){this._internalRoot=e}Ch.prototype.render=n0.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));kh(e,n,null,null)},Ch.prototype.unmount=n0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Sl(function(){kh(null,e,null,null)}),n[Qr]=null}};function Ch(e){this._internalRoot=e}Ch.prototype.unstable_scheduleHydration=function(e){if(e){var n=Rd();e={blockedOn:null,target:e,priority:n};for(var l=0;l<Xr.length&&n!==0&&n<Xr[l].priority;l++);Xr.splice(l,0,e),l===0&&Hl(e)}};function r0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Eh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cg(){}function Oy(e,n,l,h,y){if(y){if(typeof h=="function"){var E=h;h=function(){var de=xh(O);E.call(de)}}var O=lg(n,h,e,0,null,!1,!1,"",cg);return e._reactRootContainer=O,e[Qr]=O.current,vs(e.nodeType===8?e.parentNode:e),Sl(),O}for(;y=e.lastChild;)e.removeChild(y);if(typeof h=="function"){var X=h;h=function(){var de=xh(te);X.call(de)}}var te=e0(e,0,!1,null,null,!1,!1,"",cg);return e._reactRootContainer=te,e[Qr]=te.current,vs(e.nodeType===8?e.parentNode:e),Sl(function(){kh(n,te,l,h)}),te}function Ph(e,n,l,h,y){var E=l._reactRootContainer;if(E){var O=E;if(typeof y=="function"){var X=y;y=function(){var te=xh(O);X.call(te)}}kh(n,O,e,y)}else O=Oy(l,n,e,y,h);return xh(O)}Ys=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var l=rn(n.pendingLanes);l!==0&&(yu(n,l|1),Rr(n,Ot()),(lt&6)===0&&(Oa=Ot()+500,Bi()))}break;case 13:Sl(function(){var h=yr(e,1);if(h!==null){var y=_r();Ci(h,e,1,y)}}),t0(e,1)}},qs=function(e){if(e.tag===13){var n=yr(e,134217728);if(n!==null){var l=_r();Ci(n,e,134217728,l)}t0(e,134217728)}},Td=function(e){if(e.tag===13){var n=Ro(e),l=yr(e,n);if(l!==null){var h=_r();Ci(l,e,n,h)}t0(e,n)}},Rd=function(){return st},Gl=function(e,n){var l=st;try{return st=e,n()}finally{st=l}},cu=function(e,n,l){switch(n){case"input":if(ot(e,l),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<l.length;n++){var h=l[n];if(h!==e&&h.form===e.form){var y=ln(h);if(!y)throw Error(o(90));be(h),ot(h,y)}}}break;case"textarea":dn(e,l);break;case"select":n=l.value,n!=null&&Sr(e,!!l.multiple,n,!1)}},vd=Xf,Ol=Sl;var zy={usingClientEntryPoint:!1,Events:[ul,Qt,ln,du,hu,Xf]},oc={findFiberByHostInstance:bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Uy={bundleType:oc.bundleType,version:oc.version,rendererPackageName:oc.rendererPackageName,rendererConfig:oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kd(e),e===null?null:e.stateNode},findFiberByHostInstance:oc.findFiberByHostInstance||Fy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{ui=Nh.inject(Uy),fn=Nh}catch{}}return Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zy,Lr.createPortal=function(e,n){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!r0(n))throw Error(o(200));return Ay(e,n,null,l)},Lr.createRoot=function(e,n){if(!r0(e))throw Error(o(299));var l=!1,h="",y=ug;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(h=n.identifierPrefix),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=e0(e,1,!1,null,null,l,!1,h,y),e[Qr]=n.current,vs(e.nodeType===8?e.parentNode:e),new n0(n)},Lr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=kd(n),e=e===null?null:e.stateNode,e},Lr.flushSync=function(e){return Sl(e)},Lr.hydrate=function(e,n,l){if(!Eh(n))throw Error(o(200));return Ph(null,e,n,!0,l)},Lr.hydrateRoot=function(e,n,l){if(!r0(e))throw Error(o(405));var h=l!=null&&l.hydratedSources||null,y=!1,E="",O=ug;if(l!=null&&(l.unstable_strictMode===!0&&(y=!0),l.identifierPrefix!==void 0&&(E=l.identifierPrefix),l.onRecoverableError!==void 0&&(O=l.onRecoverableError)),n=lg(n,null,e,1,l??null,y,!1,E,O),e[Qr]=n.current,vs(e),h)for(e=0;e<h.length;e++)l=h[e],y=l._getVersion,y=y(l._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[l,y]:n.mutableSourceEagerHydrationData.push(l,y);return new Ch(n)},Lr.render=function(e,n,l){if(!Eh(n))throw Error(o(200));return Ph(null,e,n,!1,l)},Lr.unmountComponentAtNode=function(e){if(!Eh(e))throw Error(o(40));return e._reactRootContainer?(Sl(function(){Ph(null,null,e,!1,function(){e._reactRootContainer=null,e[Qr]=null})}),!0):!1},Lr.unstable_batchedUpdates=Xf,Lr.unstable_renderSubtreeIntoContainer=function(e,n,l,h){if(!Eh(l))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return Ph(e,n,l,!1,h)},Lr.version="18.3.1-next-f1338f8080-20240426",Lr}var _g;function qy(){if(_g)return o0.exports;_g=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),o0.exports=Yy(),o0.exports}var Sg;function Xy(){if(Sg)return Rh;Sg=1;var i=qy();return Rh.createRoot=i.createRoot,Rh.hydrateRoot=i.hydrateRoot,Rh}var Ky=Xy();const Qy=ad(Ky);var Fh={exports:{}},ac={},u0={},c0={},wg;function Ke(){return wg||(wg=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i._registerNode=i.Konva=i.glob=void 0;const t=Math.PI/180;function o(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}i.glob=typeof dg<"u"?dg:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},i.Konva={_global:i.glob,version:"9.3.22",isBrowser:o(),isUnminified:/param/.test((function(d){}).toString()),dblClickWindow:400,getAngle(d){return i.Konva.angleDeg?d*t:d},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return i.Konva.DD.isDragging},isTransforming(){var d;return(d=i.Konva.Transformer)===null||d===void 0?void 0:d.isTransforming()},isDragReady(){return!!i.Konva.DD.node},releaseCanvasOnDestroy:!0,document:i.glob.document,_injectGlobal(d){i.glob.Konva=d}};const a=d=>{i.Konva[d.prototype.getClassName()]=d};i._registerNode=a,i.Konva._injectGlobal(i.Konva)})(c0)),c0}var d0={},kg;function qt(){return kg||(kg=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Util=i.Transform=void 0;const t=Ke();class o{constructor(L=[1,0,0,1,0,0]){this.dirty=!1,this.m=L&&L.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new o(this.m)}copyInto(L){L.m[0]=this.m[0],L.m[1]=this.m[1],L.m[2]=this.m[2],L.m[3]=this.m[3],L.m[4]=this.m[4],L.m[5]=this.m[5]}point(L){const D=this.m;return{x:D[0]*L.x+D[2]*L.y+D[4],y:D[1]*L.x+D[3]*L.y+D[5]}}translate(L,D){return this.m[4]+=this.m[0]*L+this.m[2]*D,this.m[5]+=this.m[1]*L+this.m[3]*D,this}scale(L,D){return this.m[0]*=L,this.m[1]*=L,this.m[2]*=D,this.m[3]*=D,this}rotate(L){const D=Math.cos(L),j=Math.sin(L),H=this.m[0]*D+this.m[2]*j,I=this.m[1]*D+this.m[3]*j,z=this.m[0]*-j+this.m[2]*D,B=this.m[1]*-j+this.m[3]*D;return this.m[0]=H,this.m[1]=I,this.m[2]=z,this.m[3]=B,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(L,D){const j=this.m[0]+this.m[2]*D,H=this.m[1]+this.m[3]*D,I=this.m[2]+this.m[0]*L,z=this.m[3]+this.m[1]*L;return this.m[0]=j,this.m[1]=H,this.m[2]=I,this.m[3]=z,this}multiply(L){const D=this.m[0]*L.m[0]+this.m[2]*L.m[1],j=this.m[1]*L.m[0]+this.m[3]*L.m[1],H=this.m[0]*L.m[2]+this.m[2]*L.m[3],I=this.m[1]*L.m[2]+this.m[3]*L.m[3],z=this.m[0]*L.m[4]+this.m[2]*L.m[5]+this.m[4],B=this.m[1]*L.m[4]+this.m[3]*L.m[5]+this.m[5];return this.m[0]=D,this.m[1]=j,this.m[2]=H,this.m[3]=I,this.m[4]=z,this.m[5]=B,this}invert(){const L=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),D=this.m[3]*L,j=-this.m[1]*L,H=-this.m[2]*L,I=this.m[0]*L,z=L*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),B=L*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=D,this.m[1]=j,this.m[2]=H,this.m[3]=I,this.m[4]=z,this.m[5]=B,this}getMatrix(){return this.m}decompose(){const L=this.m[0],D=this.m[1],j=this.m[2],H=this.m[3],I=this.m[4],z=this.m[5],B=L*H-D*j,q={x:I,y:z,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(L!=0||D!=0){const K=Math.sqrt(L*L+D*D);q.rotation=D>0?Math.acos(L/K):-Math.acos(L/K),q.scaleX=K,q.scaleY=B/K,q.skewX=(L*j+D*H)/B,q.skewY=0}else if(j!=0||H!=0){const K=Math.sqrt(j*j+H*H);q.rotation=Math.PI/2-(H>0?Math.acos(-j/K):-Math.acos(j/K)),q.scaleX=B/K,q.scaleY=K,q.skewX=0,q.skewY=(L*j+D*H)/B}return q.rotation=i.Util._getRotation(q.rotation),q}}i.Transform=o;const a="[object Array]",d="[object Number]",u="[object String]",f="[object Boolean]",p=Math.PI/180,m=180/Math.PI,_="#",k="",P="0",x="Konva warning: ",w="Konva error: ",C="rgb(",N={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},M=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let b=[];const T=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(v){setTimeout(v,60)};i.Util={_isElement(v){return!!(v&&v.nodeType==1)},_isFunction(v){return!!(v&&v.constructor&&v.call&&v.apply)},_isPlainObject(v){return!!v&&v.constructor===Object},_isArray(v){return Object.prototype.toString.call(v)===a},_isNumber(v){return Object.prototype.toString.call(v)===d&&!isNaN(v)&&isFinite(v)},_isString(v){return Object.prototype.toString.call(v)===u},_isBoolean(v){return Object.prototype.toString.call(v)===f},isObject(v){return v instanceof Object},isValidSelector(v){if(typeof v!="string")return!1;const L=v[0];return L==="#"||L==="."||L===L.toUpperCase()},_sign(v){return v===0||v>0?1:-1},requestAnimFrame(v){b.push(v),b.length===1&&T(function(){const L=b;b=[],L.forEach(function(D){D()})})},createCanvasElement(){const v=document.createElement("canvas");try{v.style=v.style||{}}catch{}return v},createImageElement(){return document.createElement("img")},_isInDocument(v){for(;v=v.parentNode;)if(v==document)return!0;return!1},_urlToImage(v,L){const D=i.Util.createImageElement();D.onload=function(){L(D)},D.src=v},_rgbToHex(v,L,D){return((1<<24)+(v<<16)+(L<<8)+D).toString(16).slice(1)},_hexToRgb(v){v=v.replace(_,k);const L=parseInt(v,16);return{r:L>>16&255,g:L>>8&255,b:L&255}},getRandomColor(){let v=(Math.random()*16777215<<0).toString(16);for(;v.length<6;)v=P+v;return _+v},getRGB(v){let L;return v in N?(L=N[v],{r:L[0],g:L[1],b:L[2]}):v[0]===_?this._hexToRgb(v.substring(1)):v.substr(0,4)===C?(L=M.exec(v.replace(/ /g,"")),{r:parseInt(L[1],10),g:parseInt(L[2],10),b:parseInt(L[3],10)}):{r:0,g:0,b:0}},colorToRGBA(v){return v=v||"black",i.Util._namedColorToRBA(v)||i.Util._hex3ColorToRGBA(v)||i.Util._hex4ColorToRGBA(v)||i.Util._hex6ColorToRGBA(v)||i.Util._hex8ColorToRGBA(v)||i.Util._rgbColorToRGBA(v)||i.Util._rgbaColorToRGBA(v)||i.Util._hslColorToRGBA(v)},_namedColorToRBA(v){const L=N[v.toLowerCase()];return L?{r:L[0],g:L[1],b:L[2],a:1}:null},_rgbColorToRGBA(v){if(v.indexOf("rgb(")===0){v=v.match(/rgb\(([^)]+)\)/)[1];const L=v.split(/ *, */).map(Number);return{r:L[0],g:L[1],b:L[2],a:1}}},_rgbaColorToRGBA(v){if(v.indexOf("rgba(")===0){v=v.match(/rgba\(([^)]+)\)/)[1];const L=v.split(/ *, */).map((D,j)=>D.slice(-1)==="%"?j===3?parseInt(D)/100:parseInt(D)/100*255:Number(D));return{r:L[0],g:L[1],b:L[2],a:L[3]}}},_hex8ColorToRGBA(v){if(v[0]==="#"&&v.length===9)return{r:parseInt(v.slice(1,3),16),g:parseInt(v.slice(3,5),16),b:parseInt(v.slice(5,7),16),a:parseInt(v.slice(7,9),16)/255}},_hex6ColorToRGBA(v){if(v[0]==="#"&&v.length===7)return{r:parseInt(v.slice(1,3),16),g:parseInt(v.slice(3,5),16),b:parseInt(v.slice(5,7),16),a:1}},_hex4ColorToRGBA(v){if(v[0]==="#"&&v.length===5)return{r:parseInt(v[1]+v[1],16),g:parseInt(v[2]+v[2],16),b:parseInt(v[3]+v[3],16),a:parseInt(v[4]+v[4],16)/255}},_hex3ColorToRGBA(v){if(v[0]==="#"&&v.length===4)return{r:parseInt(v[1]+v[1],16),g:parseInt(v[2]+v[2],16),b:parseInt(v[3]+v[3],16),a:1}},_hslColorToRGBA(v){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(v)){const[L,...D]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(v),j=Number(D[0])/360,H=Number(D[1])/100,I=Number(D[2])/100;let z,B,q;if(H===0)return q=I*255,{r:Math.round(q),g:Math.round(q),b:Math.round(q),a:1};I<.5?z=I*(1+H):z=I+H-I*H;const K=2*I-z,ee=[0,0,0];for(let ne=0;ne<3;ne++)B=j+1/3*-(ne-1),B<0&&B++,B>1&&B--,6*B<1?q=K+(z-K)*6*B:2*B<1?q=z:3*B<2?q=K+(z-K)*(2/3-B)*6:q=K,ee[ne]=q*255;return{r:Math.round(ee[0]),g:Math.round(ee[1]),b:Math.round(ee[2]),a:1}}},haveIntersection(v,L){return!(L.x>v.x+v.width||L.x+L.width<v.x||L.y>v.y+v.height||L.y+L.height<v.y)},cloneObject(v){const L={};for(const D in v)this._isPlainObject(v[D])?L[D]=this.cloneObject(v[D]):this._isArray(v[D])?L[D]=this.cloneArray(v[D]):L[D]=v[D];return L},cloneArray(v){return v.slice(0)},degToRad(v){return v*p},radToDeg(v){return v*m},_degToRad(v){return i.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),i.Util.degToRad(v)},_radToDeg(v){return i.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),i.Util.radToDeg(v)},_getRotation(v){return t.Konva.angleDeg?i.Util.radToDeg(v):v},_capitalize(v){return v.charAt(0).toUpperCase()+v.slice(1)},throw(v){throw new Error(w+v)},error(v){console.error(w+v)},warn(v){t.Konva.showWarnings&&console.warn(x+v)},each(v,L){for(const D in v)L(D,v[D])},_inRange(v,L,D){return L<=v&&v<D},_getProjectionToSegment(v,L,D,j,H,I){let z,B,q;const K=(v-D)*(v-D)+(L-j)*(L-j);if(K==0)z=v,B=L,q=(H-D)*(H-D)+(I-j)*(I-j);else{const ee=((H-v)*(D-v)+(I-L)*(j-L))/K;ee<0?(z=v,B=L,q=(v-H)*(v-H)+(L-I)*(L-I)):ee>1?(z=D,B=j,q=(D-H)*(D-H)+(j-I)*(j-I)):(z=v+ee*(D-v),B=L+ee*(j-L),q=(z-H)*(z-H)+(B-I)*(B-I))}return[z,B,q]},_getProjectionToLine(v,L,D){const j=i.Util.cloneObject(v);let H=Number.MAX_VALUE;return L.forEach(function(I,z){if(!D&&z===L.length-1)return;const B=L[(z+1)%L.length],q=i.Util._getProjectionToSegment(I.x,I.y,B.x,B.y,v.x,v.y),K=q[0],ee=q[1],ne=q[2];ne<H&&(j.x=K,j.y=ee,H=ne)}),j},_prepareArrayForTween(v,L,D){const j=[],H=[];if(v.length>L.length){const z=L;L=v,v=z}for(let z=0;z<v.length;z+=2)j.push({x:v[z],y:v[z+1]});for(let z=0;z<L.length;z+=2)H.push({x:L[z],y:L[z+1]});const I=[];return H.forEach(function(z){const B=i.Util._getProjectionToLine(z,j,D);I.push(B.x),I.push(B.y)}),I},_prepareToStringify(v){let L;v.visitedByCircularReferenceRemoval=!0;for(const D in v)if(v.hasOwnProperty(D)&&v[D]&&typeof v[D]=="object"){if(L=Object.getOwnPropertyDescriptor(v,D),v[D].visitedByCircularReferenceRemoval||i.Util._isElement(v[D]))if(L.configurable)delete v[D];else return null;else if(i.Util._prepareToStringify(v[D])===null)if(L.configurable)delete v[D];else return null}return delete v.visitedByCircularReferenceRemoval,v},_assign(v,L){for(const D in L)v[D]=L[D];return v},_getFirstPointerId(v){return v.touches?v.changedTouches[0].identifier:v.pointerId||999},releaseCanvas(...v){t.Konva.releaseCanvasOnDestroy&&v.forEach(L=>{L.width=0,L.height=0})},drawRoundedRectPath(v,L,D,j){let H=0,I=0,z=0,B=0;typeof j=="number"?H=I=z=B=Math.min(j,L/2,D/2):(H=Math.min(j[0]||0,L/2,D/2),I=Math.min(j[1]||0,L/2,D/2),B=Math.min(j[2]||0,L/2,D/2),z=Math.min(j[3]||0,L/2,D/2)),v.moveTo(H,0),v.lineTo(L-I,0),v.arc(L-I,I,I,Math.PI*3/2,0,!1),v.lineTo(L,D-B),v.arc(L-B,D-B,B,0,Math.PI/2,!1),v.lineTo(z,D),v.arc(z,D-z,z,Math.PI/2,Math.PI,!1),v.lineTo(0,H),v.arc(H,H,H,Math.PI,Math.PI*3/2,!1)}}})(d0)),d0}var uc={},As={},Fs={},xg;function Rm(){if(xg)return Fs;xg=1,Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.HitContext=Fs.SceneContext=Fs.Context=void 0;const i=qt(),t=Ke();function o(b){const T=[],v=b.length,L=i.Util;for(let D=0;D<v;D++){let j=b[D];L._isNumber(j)?j=Math.round(j*1e3)/1e3:L._isString(j)||(j=j+""),T.push(j)}return T}const a=",",d="(",u=")",f="([",p="])",m=";",_="()",k="=",P=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],x=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],w=100;let C=class{constructor(T){this.canvas=T,t.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(T){T.fillEnabled()&&this._fill(T)}_fill(T){}strokeShape(T){T.hasStroke()&&this._stroke(T)}_stroke(T){}fillStrokeShape(T){T.attrs.fillAfterStrokeEnabled?(this.strokeShape(T),this.fillShape(T)):(this.fillShape(T),this.strokeShape(T))}getTrace(T,v){let L=this.traceArr,D=L.length,j="",H,I,z,B;for(H=0;H<D;H++)I=L[H],z=I.method,z?(B=I.args,j+=z,T?j+=_:i.Util._isArray(B[0])?j+=f+B.join(a)+p:(v&&(B=B.map(q=>typeof q=="number"?Math.floor(q):q)),j+=d+B.join(a)+u)):(j+=I.property,T||(j+=k+I.val)),j+=m;return j}clearTrace(){this.traceArr=[]}_trace(T){let v=this.traceArr,L;v.push(T),L=v.length,L>=w&&v.shift()}reset(){const T=this.getCanvas().getPixelRatio();this.setTransform(1*T,0,0,1*T,0,0)}getCanvas(){return this.canvas}clear(T){const v=this.getCanvas();T?this.clearRect(T.x||0,T.y||0,T.width||0,T.height||0):this.clearRect(0,0,v.getWidth()/v.pixelRatio,v.getHeight()/v.pixelRatio)}_applyLineCap(T){const v=T.attrs.lineCap;v&&this.setAttr("lineCap",v)}_applyOpacity(T){const v=T.getAbsoluteOpacity();v!==1&&this.setAttr("globalAlpha",v)}_applyLineJoin(T){const v=T.attrs.lineJoin;v&&this.setAttr("lineJoin",v)}setAttr(T,v){this._context[T]=v}arc(T,v,L,D,j,H){this._context.arc(T,v,L,D,j,H)}arcTo(T,v,L,D,j){this._context.arcTo(T,v,L,D,j)}beginPath(){this._context.beginPath()}bezierCurveTo(T,v,L,D,j,H){this._context.bezierCurveTo(T,v,L,D,j,H)}clearRect(T,v,L,D){this._context.clearRect(T,v,L,D)}clip(...T){this._context.clip.apply(this._context,T)}closePath(){this._context.closePath()}createImageData(T,v){const L=arguments;if(L.length===2)return this._context.createImageData(T,v);if(L.length===1)return this._context.createImageData(T)}createLinearGradient(T,v,L,D){return this._context.createLinearGradient(T,v,L,D)}createPattern(T,v){return this._context.createPattern(T,v)}createRadialGradient(T,v,L,D,j,H){return this._context.createRadialGradient(T,v,L,D,j,H)}drawImage(T,v,L,D,j,H,I,z,B){const q=arguments,K=this._context;q.length===3?K.drawImage(T,v,L):q.length===5?K.drawImage(T,v,L,D,j):q.length===9&&K.drawImage(T,v,L,D,j,H,I,z,B)}ellipse(T,v,L,D,j,H,I,z){this._context.ellipse(T,v,L,D,j,H,I,z)}isPointInPath(T,v,L,D){return L?this._context.isPointInPath(L,T,v,D):this._context.isPointInPath(T,v,D)}fill(...T){this._context.fill.apply(this._context,T)}fillRect(T,v,L,D){this._context.fillRect(T,v,L,D)}strokeRect(T,v,L,D){this._context.strokeRect(T,v,L,D)}fillText(T,v,L,D){D?this._context.fillText(T,v,L,D):this._context.fillText(T,v,L)}measureText(T){return this._context.measureText(T)}getImageData(T,v,L,D){return this._context.getImageData(T,v,L,D)}lineTo(T,v){this._context.lineTo(T,v)}moveTo(T,v){this._context.moveTo(T,v)}rect(T,v,L,D){this._context.rect(T,v,L,D)}roundRect(T,v,L,D,j){this._context.roundRect(T,v,L,D,j)}putImageData(T,v,L){this._context.putImageData(T,v,L)}quadraticCurveTo(T,v,L,D){this._context.quadraticCurveTo(T,v,L,D)}restore(){this._context.restore()}rotate(T){this._context.rotate(T)}save(){this._context.save()}scale(T,v){this._context.scale(T,v)}setLineDash(T){this._context.setLineDash?this._context.setLineDash(T):"mozDash"in this._context?this._context.mozDash=T:"webkitLineDash"in this._context&&(this._context.webkitLineDash=T)}getLineDash(){return this._context.getLineDash()}setTransform(T,v,L,D,j,H){this._context.setTransform(T,v,L,D,j,H)}stroke(T){T?this._context.stroke(T):this._context.stroke()}strokeText(T,v,L,D){this._context.strokeText(T,v,L,D)}transform(T,v,L,D,j,H){this._context.transform(T,v,L,D,j,H)}translate(T,v){this._context.translate(T,v)}_enableTrace(){let T=this,v=P.length,L=this.setAttr,D,j;const H=function(I){let z=T[I],B;T[I]=function(){return j=o(Array.prototype.slice.call(arguments,0)),B=z.apply(T,arguments),T._trace({method:I,args:j}),B}};for(D=0;D<v;D++)H(P[D]);T.setAttr=function(){L.apply(T,arguments);const I=arguments[0];let z=arguments[1];(I==="shadowOffsetX"||I==="shadowOffsetY"||I==="shadowBlur")&&(z=z/this.canvas.getPixelRatio()),T._trace({property:I,val:z})}}_applyGlobalCompositeOperation(T){const v=T.attrs.globalCompositeOperation;!v||v==="source-over"||this.setAttr("globalCompositeOperation",v)}};Fs.Context=C,x.forEach(function(b){Object.defineProperty(C.prototype,b,{get(){return this._context[b]},set(T){this._context[b]=T}})});class N extends C{constructor(T,{willReadFrequently:v=!1}={}){super(T),this._context=T._canvas.getContext("2d",{willReadFrequently:v})}_fillColor(T){const v=T.fill();this.setAttr("fillStyle",v),T._fillFunc(this)}_fillPattern(T){this.setAttr("fillStyle",T._getFillPattern()),T._fillFunc(this)}_fillLinearGradient(T){const v=T._getLinearGradient();v&&(this.setAttr("fillStyle",v),T._fillFunc(this))}_fillRadialGradient(T){const v=T._getRadialGradient();v&&(this.setAttr("fillStyle",v),T._fillFunc(this))}_fill(T){const v=T.fill(),L=T.getFillPriority();if(v&&L==="color"){this._fillColor(T);return}const D=T.getFillPatternImage();if(D&&L==="pattern"){this._fillPattern(T);return}const j=T.getFillLinearGradientColorStops();if(j&&L==="linear-gradient"){this._fillLinearGradient(T);return}const H=T.getFillRadialGradientColorStops();if(H&&L==="radial-gradient"){this._fillRadialGradient(T);return}v?this._fillColor(T):D?this._fillPattern(T):j?this._fillLinearGradient(T):H&&this._fillRadialGradient(T)}_strokeLinearGradient(T){const v=T.getStrokeLinearGradientStartPoint(),L=T.getStrokeLinearGradientEndPoint(),D=T.getStrokeLinearGradientColorStops(),j=this.createLinearGradient(v.x,v.y,L.x,L.y);if(D){for(let H=0;H<D.length;H+=2)j.addColorStop(D[H],D[H+1]);this.setAttr("strokeStyle",j)}}_stroke(T){const v=T.dash(),L=T.getStrokeScaleEnabled();if(T.hasStroke()){if(!L){this.save();const j=this.getCanvas().getPixelRatio();this.setTransform(j,0,0,j,0,0)}this._applyLineCap(T),v&&T.dashEnabled()&&(this.setLineDash(v),this.setAttr("lineDashOffset",T.dashOffset())),this.setAttr("lineWidth",T.strokeWidth()),T.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),T.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(T):this.setAttr("strokeStyle",T.stroke()),T._strokeFunc(this),L||this.restore()}}_applyShadow(T){var v,L,D;const j=(v=T.getShadowRGBA())!==null&&v!==void 0?v:"black",H=(L=T.getShadowBlur())!==null&&L!==void 0?L:5,I=(D=T.getShadowOffset())!==null&&D!==void 0?D:{x:0,y:0},z=T.getAbsoluteScale(),B=this.canvas.getPixelRatio(),q=z.x*B,K=z.y*B;this.setAttr("shadowColor",j),this.setAttr("shadowBlur",H*Math.min(Math.abs(q),Math.abs(K))),this.setAttr("shadowOffsetX",I.x*q),this.setAttr("shadowOffsetY",I.y*K)}}Fs.SceneContext=N;class M extends C{constructor(T){super(T),this._context=T._canvas.getContext("2d",{willReadFrequently:!0})}_fill(T){this.save(),this.setAttr("fillStyle",T.colorKey),T._fillFuncHit(this),this.restore()}strokeShape(T){T.hasHitStroke()&&this._stroke(T)}_stroke(T){if(T.hasHitStroke()){const v=T.getStrokeScaleEnabled();if(!v){this.save();const j=this.getCanvas().getPixelRatio();this.setTransform(j,0,0,j,0,0)}this._applyLineCap(T);const L=T.hitStrokeWidth(),D=L==="auto"?T.strokeWidth():L;this.setAttr("lineWidth",D),this.setAttr("strokeStyle",T.colorKey),T._strokeFuncHit(this),v||this.restore()}}}return Fs.HitContext=M,Fs}var Cg;function nf(){if(Cg)return As;Cg=1,Object.defineProperty(As,"__esModule",{value:!0}),As.HitCanvas=As.SceneCanvas=As.Canvas=void 0;const i=qt(),t=Rm(),o=Ke();let a;function d(){if(a)return a;const m=i.Util.createCanvasElement(),_=m.getContext("2d");return a=(function(){const k=o.Konva._global.devicePixelRatio||1,P=_.webkitBackingStorePixelRatio||_.mozBackingStorePixelRatio||_.msBackingStorePixelRatio||_.oBackingStorePixelRatio||_.backingStorePixelRatio||1;return k/P})(),i.Util.releaseCanvas(m),a}class u{constructor(_){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const P=(_||{}).pixelRatio||o.Konva.pixelRatio||d();this.pixelRatio=P,this._canvas=i.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(_){const k=this.pixelRatio;this.pixelRatio=_,this.setSize(this.getWidth()/k,this.getHeight()/k)}setWidth(_){this.width=this._canvas.width=_*this.pixelRatio,this._canvas.style.width=_+"px";const k=this.pixelRatio;this.getContext()._context.scale(k,k)}setHeight(_){this.height=this._canvas.height=_*this.pixelRatio,this._canvas.style.height=_+"px";const k=this.pixelRatio;this.getContext()._context.scale(k,k)}getWidth(){return this.width}getHeight(){return this.height}setSize(_,k){this.setWidth(_||0),this.setHeight(k||0)}toDataURL(_,k){try{return this._canvas.toDataURL(_,k)}catch{try{return this._canvas.toDataURL()}catch(x){return i.Util.error("Unable to get data URL. "+x.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}As.Canvas=u;class f extends u{constructor(_={width:0,height:0,willReadFrequently:!1}){super(_),this.context=new t.SceneContext(this,{willReadFrequently:_.willReadFrequently}),this.setSize(_.width,_.height)}}As.SceneCanvas=f;class p extends u{constructor(_={width:0,height:0}){super(_),this.hitCanvas=!0,this.context=new t.HitContext(this),this.setSize(_.width,_.height)}}return As.HitCanvas=p,As}var h0={},Eg;function $0(){return Eg||(Eg=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.DD=void 0;const t=Ke(),o=qt();i.DD={get isDragging(){let a=!1;return i.DD._dragElements.forEach(d=>{d.dragStatus==="dragging"&&(a=!0)}),a},justDragged:!1,get node(){let a;return i.DD._dragElements.forEach(d=>{a=d.node}),a},_dragElements:new Map,_drag(a){const d=[];i.DD._dragElements.forEach((u,f)=>{const{node:p}=u,m=p.getStage();m.setPointersPositions(a),u.pointerId===void 0&&(u.pointerId=o.Util._getFirstPointerId(a));const _=m._changedPointerPositions.find(k=>k.id===u.pointerId);if(_){if(u.dragStatus!=="dragging"){const k=p.dragDistance();if(Math.max(Math.abs(_.x-u.startPointerPos.x),Math.abs(_.y-u.startPointerPos.y))<k||(p.startDrag({evt:a}),!p.isDragging()))return}p._setDragPosition(a,u),d.push(p)}}),d.forEach(u=>{u.fire("dragmove",{type:"dragmove",target:u,evt:a},!0)})},_endDragBefore(a){const d=[];i.DD._dragElements.forEach(u=>{const{node:f}=u,p=f.getStage();if(a&&p.setPointersPositions(a),!p._changedPointerPositions.find(k=>k.id===u.pointerId))return;(u.dragStatus==="dragging"||u.dragStatus==="stopped")&&(i.DD.justDragged=!0,t.Konva._mouseListenClick=!1,t.Konva._touchListenClick=!1,t.Konva._pointerListenClick=!1,u.dragStatus="stopped");const _=u.node.getLayer()||u.node instanceof t.Konva.Stage&&u.node;_&&d.indexOf(_)===-1&&d.push(_)}),d.forEach(u=>{u.draw()})},_endDragAfter(a){i.DD._dragElements.forEach((d,u)=>{d.dragStatus==="stopped"&&d.node.fire("dragend",{type:"dragend",target:d.node,evt:a},!0),d.dragStatus!=="dragging"&&i.DD._dragElements.delete(u)})}},t.Konva.isBrowser&&(window.addEventListener("mouseup",i.DD._endDragBefore,!0),window.addEventListener("touchend",i.DD._endDragBefore,!0),window.addEventListener("touchcancel",i.DD._endDragBefore,!0),window.addEventListener("mousemove",i.DD._drag),window.addEventListener("touchmove",i.DD._drag),window.addEventListener("mouseup",i.DD._endDragAfter,!1),window.addEventListener("touchend",i.DD._endDragAfter,!1),window.addEventListener("touchcancel",i.DD._endDragAfter,!1))})(h0)),h0}var f0={},Mr={},Pg;function nt(){if(Pg)return Mr;Pg=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.RGBComponent=a,Mr.alphaComponent=d,Mr.getNumberValidator=u,Mr.getNumberOrArrayOfNumbersValidator=f,Mr.getNumberOrAutoValidator=p,Mr.getStringValidator=m,Mr.getStringOrGradientValidator=_,Mr.getFunctionValidator=k,Mr.getNumberArrayValidator=P,Mr.getBooleanValidator=x,Mr.getComponentValidator=w;const i=Ke(),t=qt();function o(C){return t.Util._isString(C)?'"'+C+'"':Object.prototype.toString.call(C)==="[object Number]"||t.Util._isBoolean(C)?C:Object.prototype.toString.call(C)}function a(C){return C>255?255:C<0?0:Math.round(C)}function d(C){return C>1?1:C<1e-4?1e-4:C}function u(){if(i.Konva.isUnminified)return function(C,N){return t.Util._isNumber(C)||t.Util.warn(o(C)+' is a not valid value for "'+N+'" attribute. The value should be a number.'),C}}function f(C){if(i.Konva.isUnminified)return function(N,M){let b=t.Util._isNumber(N),T=t.Util._isArray(N)&&N.length==C;return!b&&!T&&t.Util.warn(o(N)+' is a not valid value for "'+M+'" attribute. The value should be a number or Array<number>('+C+")"),N}}function p(){if(i.Konva.isUnminified)return function(C,N){return t.Util._isNumber(C)||C==="auto"||t.Util.warn(o(C)+' is a not valid value for "'+N+'" attribute. The value should be a number or "auto".'),C}}function m(){if(i.Konva.isUnminified)return function(C,N){return t.Util._isString(C)||t.Util.warn(o(C)+' is a not valid value for "'+N+'" attribute. The value should be a string.'),C}}function _(){if(i.Konva.isUnminified)return function(C,N){const M=t.Util._isString(C),b=Object.prototype.toString.call(C)==="[object CanvasGradient]"||C&&C.addColorStop;return M||b||t.Util.warn(o(C)+' is a not valid value for "'+N+'" attribute. The value should be a string or a native gradient.'),C}}function k(){if(i.Konva.isUnminified)return function(C,N){return t.Util._isFunction(C)||t.Util.warn(o(C)+' is a not valid value for "'+N+'" attribute. The value should be a function.'),C}}function P(){if(i.Konva.isUnminified)return function(C,N){const M=Int8Array?Object.getPrototypeOf(Int8Array):null;return M&&C instanceof M||(t.Util._isArray(C)?C.forEach(function(b){t.Util._isNumber(b)||t.Util.warn('"'+N+'" attribute has non numeric element '+b+". Make sure that all elements are numbers.")}):t.Util.warn(o(C)+' is a not valid value for "'+N+'" attribute. The value should be a array of numbers.')),C}}function x(){if(i.Konva.isUnminified)return function(C,N){return C===!0||C===!1||t.Util.warn(o(C)+' is a not valid value for "'+N+'" attribute. The value should be a boolean.'),C}}function w(C){if(i.Konva.isUnminified)return function(N,M){return N==null||t.Util.isObject(N)||t.Util.warn(o(N)+' is a not valid value for "'+M+'" attribute. The value should be an object with properties '+C),N}}return Mr}var Ng;function et(){return Ng||(Ng=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Factory=void 0;const t=qt(),o=nt(),a="get",d="set";i.Factory={addGetterSetter(u,f,p,m,_){i.Factory.addGetter(u,f,p),i.Factory.addSetter(u,f,m,_),i.Factory.addOverloadedGetterSetter(u,f)},addGetter(u,f,p){const m=a+t.Util._capitalize(f);u.prototype[m]=u.prototype[m]||function(){const _=this.attrs[f];return _===void 0?p:_}},addSetter(u,f,p,m){const _=d+t.Util._capitalize(f);u.prototype[_]||i.Factory.overWriteSetter(u,f,p,m)},overWriteSetter(u,f,p,m){const _=d+t.Util._capitalize(f);u.prototype[_]=function(k){return p&&k!==void 0&&k!==null&&(k=p.call(this,k,f)),this._setAttr(f,k),m&&m.call(this),this}},addComponentsGetterSetter(u,f,p,m,_){const k=p.length,P=t.Util._capitalize,x=a+P(f),w=d+P(f);u.prototype[x]=function(){const N={};for(let M=0;M<k;M++){const b=p[M];N[b]=this.getAttr(f+P(b))}return N};const C=(0,o.getComponentValidator)(p);u.prototype[w]=function(N){const M=this.attrs[f];m&&(N=m.call(this,N,f)),C&&C.call(this,N,f);for(const b in N)N.hasOwnProperty(b)&&this._setAttr(f+P(b),N[b]);return N||p.forEach(b=>{this._setAttr(f+P(b),void 0)}),this._fireChangeEvent(f,M,N),_&&_.call(this),this},i.Factory.addOverloadedGetterSetter(u,f)},addOverloadedGetterSetter(u,f){const p=t.Util._capitalize(f),m=d+p,_=a+p;u.prototype[f]=function(){return arguments.length?(this[m](arguments[0]),this):this[_]()}},addDeprecatedGetterSetter(u,f,p,m){t.Util.error("Adding deprecated "+f);const _=a+t.Util._capitalize(f),k=f+" property is deprecated and will be removed soon. Look at Konva change log for more information.";u.prototype[_]=function(){t.Util.error(k);const P=this.attrs[f];return P===void 0?p:P},i.Factory.addSetter(u,f,m,function(){t.Util.error(k)}),i.Factory.addOverloadedGetterSetter(u,f)},backCompat(u,f){t.Util.each(f,function(p,m){const _=u.prototype[m],k=a+t.Util._capitalize(p),P=d+t.Util._capitalize(p);function x(){_.apply(this,arguments),t.Util.error('"'+p+'" method is deprecated and will be removed soon. Use ""'+m+'" instead.')}u.prototype[p]=x,u.prototype[k]=x,u.prototype[P]=x})},afterSetFilter(){this._filterUpToDate=!1}}})(f0)),f0}var Tg;function nn(){if(Tg)return uc;Tg=1,Object.defineProperty(uc,"__esModule",{value:!0}),uc.Node=void 0;const i=nf(),t=$0(),o=et(),a=Ke(),d=qt(),u=nt(),f="absoluteOpacity",p="allEventListeners",m="absoluteTransform",_="absoluteScale",k="canvas",P="Change",x="children",w="konva",C="listening",N="mouseenter",M="mouseleave",b="pointerenter",T="pointerleave",v="touchenter",L="touchleave",D="set",j="Shape",H=" ",I="stage",z="transform",B="Stage",q="visible",K=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(H);let ee=1,ne=class b0{constructor(A){this._id=ee++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(A),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(A){(A===z||A===m)&&this._cache.get(A)?this._cache.get(A).dirty=!0:A?this._cache.delete(A):this._cache.clear()}_getCache(A,U){let W=this._cache.get(A);return(W===void 0||(A===z||A===m)&&W.dirty===!0)&&(W=U.call(this),this._cache.set(A,W)),W}_calculate(A,U,W){if(!this._attachedDepsListeners.get(A)){const G=U.map(F=>F+"Change.konva").join(H);this.on(G,()=>{this._clearCache(A)}),this._attachedDepsListeners.set(A,!0)}return this._getCache(A,W)}_getCanvasCache(){return this._cache.get(k)}_clearSelfAndDescendantCache(A){this._clearCache(A),A===m&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(k)){const{scene:A,filter:U,hit:W,buffer:G}=this._cache.get(k);d.Util.releaseCanvas(A,U,W,G),this._cache.delete(k)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(A){const U=A||{};let W={};(U.x===void 0||U.y===void 0||U.width===void 0||U.height===void 0)&&(W=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let G=Math.ceil(U.width||W.width),F=Math.ceil(U.height||W.height),Q=U.pixelRatio,Z=U.x===void 0?Math.floor(W.x):U.x,he=U.y===void 0?Math.floor(W.y):U.y,me=U.offset||0,le=U.drawBorder||!1,Y=U.hitCanvasPixelRatio||1;if(!G||!F){d.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const se=Math.abs(Math.round(W.x)-Z)>.5?1:0,ye=Math.abs(Math.round(W.y)-he)>.5?1:0;G+=me*2+se,F+=me*2+ye,Z-=me,he-=me;const xe=new i.SceneCanvas({pixelRatio:Q,width:G,height:F}),Pe=new i.SceneCanvas({pixelRatio:Q,width:0,height:0,willReadFrequently:!0}),be=new i.HitCanvas({pixelRatio:Y,width:G,height:F}),Oe=xe.getContext(),rt=be.getContext(),Ge=new i.SceneCanvas({width:xe.width/xe.pixelRatio+Math.abs(Z),height:xe.height/xe.pixelRatio+Math.abs(he),pixelRatio:xe.pixelRatio}),jt=Ge.getContext();return be.isCache=!0,xe.isCache=!0,this._cache.delete(k),this._filterUpToDate=!1,U.imageSmoothingEnabled===!1&&(xe.getContext()._context.imageSmoothingEnabled=!1,Pe.getContext()._context.imageSmoothingEnabled=!1),Oe.save(),rt.save(),jt.save(),Oe.translate(-Z,-he),rt.translate(-Z,-he),jt.translate(-Z,-he),Ge.x=Z,Ge.y=he,this._isUnderCache=!0,this._clearSelfAndDescendantCache(f),this._clearSelfAndDescendantCache(_),this.drawScene(xe,this,Ge),this.drawHit(be,this),this._isUnderCache=!1,Oe.restore(),rt.restore(),le&&(Oe.save(),Oe.beginPath(),Oe.rect(0,0,G,F),Oe.closePath(),Oe.setAttr("strokeStyle","red"),Oe.setAttr("lineWidth",5),Oe.stroke(),Oe.restore()),this._cache.set(k,{scene:xe,filter:Pe,hit:be,buffer:Ge,x:Z,y:he}),this._requestDraw(),this}isCached(){return this._cache.has(k)}getClientRect(A){throw new Error('abstract "getClientRect" method call')}_transformedRect(A,U){const W=[{x:A.x,y:A.y},{x:A.x+A.width,y:A.y},{x:A.x+A.width,y:A.y+A.height},{x:A.x,y:A.y+A.height}];let G=1/0,F=1/0,Q=-1/0,Z=-1/0;const he=this.getAbsoluteTransform(U);return W.forEach(function(me){const le=he.point(me);G===void 0&&(G=Q=le.x,F=Z=le.y),G=Math.min(G,le.x),F=Math.min(F,le.y),Q=Math.max(Q,le.x),Z=Math.max(Z,le.y)}),{x:G,y:F,width:Q-G,height:Z-F}}_drawCachedSceneCanvas(A){A.save(),A._applyOpacity(this),A._applyGlobalCompositeOperation(this);const U=this._getCanvasCache();A.translate(U.x,U.y);const W=this._getCachedSceneCanvas(),G=W.pixelRatio;A.drawImage(W._canvas,0,0,W.width/G,W.height/G),A.restore()}_drawCachedHitCanvas(A){const U=this._getCanvasCache(),W=U.hit;A.save(),A.translate(U.x,U.y),A.drawImage(W._canvas,0,0,W.width/W.pixelRatio,W.height/W.pixelRatio),A.restore()}_getCachedSceneCanvas(){let A=this.filters(),U=this._getCanvasCache(),W=U.scene,G=U.filter,F=G.getContext(),Q,Z,he,me;if(A){if(!this._filterUpToDate){const le=W.pixelRatio;G.setSize(W.width/W.pixelRatio,W.height/W.pixelRatio);try{for(Q=A.length,F.clear(),F.drawImage(W._canvas,0,0,W.getWidth()/le,W.getHeight()/le),Z=F.getImageData(0,0,G.getWidth(),G.getHeight()),he=0;he<Q;he++){if(me=A[he],typeof me!="function"){d.Util.error("Filter should be type of function, but got "+typeof me+" instead. Please check correct filters");continue}me.call(this,Z),F.putImageData(Z,0,0)}}catch(Y){d.Util.error("Unable to apply filter. "+Y.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return G}return W}on(A,U){if(this._cache&&this._cache.delete(p),arguments.length===3)return this._delegate.apply(this,arguments);const W=A.split(H);for(let G=0;G<W.length;G++){const Q=W[G].split("."),Z=Q[0],he=Q[1]||"";this.eventListeners[Z]||(this.eventListeners[Z]=[]),this.eventListeners[Z].push({name:he,handler:U})}return this}off(A,U){let W=(A||"").split(H),G=W.length,F,Q,Z,he,me,le;if(this._cache&&this._cache.delete(p),!A)for(Q in this.eventListeners)this._off(Q);for(F=0;F<G;F++)if(Z=W[F],he=Z.split("."),me=he[0],le=he[1],me)this.eventListeners[me]&&this._off(me,le,U);else for(Q in this.eventListeners)this._off(Q,le,U);return this}dispatchEvent(A){const U={target:this,type:A.type,evt:A};return this.fire(A.type,U),this}addEventListener(A,U){return this.on(A,function(W){U.call(this,W.evt)}),this}removeEventListener(A){return this.off(A),this}_delegate(A,U,W){const G=this;this.on(A,function(F){const Q=F.target.findAncestors(U,!0,G);for(let Z=0;Z<Q.length;Z++)F=d.Util.cloneObject(F),F.currentTarget=Q[Z],W.call(Q[Z],F)})}remove(){return this.isDragging()&&this.stopDrag(),t.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(m),this._clearSelfAndDescendantCache(f),this._clearSelfAndDescendantCache(_),this._clearSelfAndDescendantCache(I),this._clearSelfAndDescendantCache(q),this._clearSelfAndDescendantCache(C)}_remove(){this._clearCaches();const A=this.getParent();A&&A.children&&(A.children.splice(this.index,1),A._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(A){const U="get"+d.Util._capitalize(A);return d.Util._isFunction(this[U])?this[U]():this.attrs[A]}getAncestors(){let A=this.getParent(),U=[];for(;A;)U.push(A),A=A.getParent();return U}getAttrs(){return this.attrs||{}}setAttrs(A){return this._batchTransformChanges(()=>{let U,W;if(!A)return this;for(U in A)U!==x&&(W=D+d.Util._capitalize(U),d.Util._isFunction(this[W])?this[W](A[U]):this._setAttr(U,A[U]))}),this}isListening(){return this._getCache(C,this._isListening)}_isListening(A){if(!this.listening())return!1;const W=this.getParent();return W&&W!==A&&this!==A?W._isListening(A):!0}isVisible(){return this._getCache(q,this._isVisible)}_isVisible(A){if(!this.visible())return!1;const W=this.getParent();return W&&W!==A&&this!==A?W._isVisible(A):!0}shouldDrawHit(A,U=!1){if(A)return this._isVisible(A)&&this._isListening(A);const W=this.getLayer();let G=!1;t.DD._dragElements.forEach(Q=>{Q.dragStatus==="dragging"&&(Q.node.nodeType==="Stage"||Q.node.getLayer()===W)&&(G=!0)});const F=!U&&!a.Konva.hitOnDragEnabled&&(G||a.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!F}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let A=this.getDepth(),U=this,W=0,G,F,Q,Z;function he(le){for(G=[],F=le.length,Q=0;Q<F;Q++)Z=le[Q],W++,Z.nodeType!==j&&(G=G.concat(Z.getChildren().slice())),Z._id===U._id&&(Q=F);G.length>0&&G[0].getDepth()<=A&&he(G)}const me=this.getStage();return U.nodeType!==B&&me&&he(me.getChildren()),W}getDepth(){let A=0,U=this.parent;for(;U;)A++,U=U.parent;return A}_batchTransformChanges(A){this._batchingTransformChange=!0,A(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(z),this._clearSelfAndDescendantCache(m)),this._needClearTransformCache=!1}setPosition(A){return this._batchTransformChanges(()=>{this.x(A.x),this.y(A.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const A=this.getStage();if(!A)return null;const U=A.getPointerPosition();if(!U)return null;const W=this.getAbsoluteTransform().copy();return W.invert(),W.point(U)}getAbsolutePosition(A){let U=!1,W=this.parent;for(;W;){if(W.isCached()){U=!0;break}W=W.parent}U&&!A&&(A=!0);const G=this.getAbsoluteTransform(A).getMatrix(),F=new d.Transform,Q=this.offset();return F.m=G.slice(),F.translate(Q.x,Q.y),F.getTranslation()}setAbsolutePosition(A){const{x:U,y:W,...G}=this._clearTransform();this.attrs.x=U,this.attrs.y=W,this._clearCache(z);const F=this._getAbsoluteTransform().copy();return F.invert(),F.translate(A.x,A.y),A={x:this.attrs.x+F.getTranslation().x,y:this.attrs.y+F.getTranslation().y},this._setTransform(G),this.setPosition({x:A.x,y:A.y}),this._clearCache(z),this._clearSelfAndDescendantCache(m),this}_setTransform(A){let U;for(U in A)this.attrs[U]=A[U]}_clearTransform(){const A={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,A}move(A){let U=A.x,W=A.y,G=this.x(),F=this.y();return U!==void 0&&(G+=U),W!==void 0&&(F+=W),this.setPosition({x:G,y:F}),this}_eachAncestorReverse(A,U){let W=[],G=this.getParent(),F,Q;if(!(U&&U._id===this._id)){for(W.unshift(this);G&&(!U||G._id!==U._id);)W.unshift(G),G=G.parent;for(F=W.length,Q=0;Q<F;Q++)A(W[Q])}}rotate(A){return this.rotation(this.rotation()+A),this}moveToTop(){if(!this.parent)return d.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const A=this.index,U=this.parent.getChildren().length;return A<U-1?(this.parent.children.splice(A,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return d.Util.warn("Node has no parent. moveUp function is ignored."),!1;const A=this.index,U=this.parent.getChildren().length;return A<U-1?(this.parent.children.splice(A,1),this.parent.children.splice(A+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return d.Util.warn("Node has no parent. moveDown function is ignored."),!1;const A=this.index;return A>0?(this.parent.children.splice(A,1),this.parent.children.splice(A-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return d.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const A=this.index;return A>0?(this.parent.children.splice(A,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(A){if(!this.parent)return d.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(A<0||A>=this.parent.children.length)&&d.Util.warn("Unexpected value "+A+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const U=this.index;return this.parent.children.splice(U,1),this.parent.children.splice(A,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(f,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let A=this.opacity();const U=this.getParent();return U&&!U._isUnderCache&&(A*=U.getAbsoluteOpacity()),A}moveTo(A){return this.getParent()!==A&&(this._remove(),A.add(this)),this}toObject(){let A=this.getAttrs(),U,W,G,F,Q;const Z={attrs:{},className:this.getClassName()};for(U in A)W=A[U],Q=d.Util.isObject(W)&&!d.Util._isPlainObject(W)&&!d.Util._isArray(W),!Q&&(G=typeof this[U]=="function"&&this[U],delete A[U],F=G?G.call(this):null,A[U]=W,F!==W&&(Z.attrs[U]=W));return d.Util._prepareToStringify(Z)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(A,U,W){const G=[];U&&this._isMatch(A)&&G.push(this);let F=this.parent;for(;F;){if(F===W)return G;F._isMatch(A)&&G.push(F),F=F.parent}return G}isAncestorOf(A){return!1}findAncestor(A,U,W){return this.findAncestors(A,U,W)[0]}_isMatch(A){if(!A)return!1;if(typeof A=="function")return A(this);let U=A.replace(/ /g,"").split(","),W=U.length,G,F;for(G=0;G<W;G++)if(F=U[G],d.Util.isValidSelector(F)||(d.Util.warn('Selector "'+F+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),d.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),d.Util.warn("Konva is awesome, right?")),F.charAt(0)==="#"){if(this.id()===F.slice(1))return!0}else if(F.charAt(0)==="."){if(this.hasName(F.slice(1)))return!0}else if(this.className===F||this.nodeType===F)return!0;return!1}getLayer(){const A=this.getParent();return A?A.getLayer():null}getStage(){return this._getCache(I,this._getStage)}_getStage(){const A=this.getParent();return A?A.getStage():null}fire(A,U={},W){return U.target=U.target||this,W?this._fireAndBubble(A,U):this._fire(A,U),this}getAbsoluteTransform(A){return A?this._getAbsoluteTransform(A):this._getCache(m,this._getAbsoluteTransform)}_getAbsoluteTransform(A){let U;if(A)return U=new d.Transform,this._eachAncestorReverse(function(W){const G=W.transformsEnabled();G==="all"?U.multiply(W.getTransform()):G==="position"&&U.translate(W.x()-W.offsetX(),W.y()-W.offsetY())},A),U;{U=this._cache.get(m)||new d.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(U):U.reset();const W=this.transformsEnabled();if(W==="all")U.multiply(this.getTransform());else if(W==="position"){const G=this.attrs.x||0,F=this.attrs.y||0,Q=this.attrs.offsetX||0,Z=this.attrs.offsetY||0;U.translate(G-Q,F-Z)}return U.dirty=!1,U}}getAbsoluteScale(A){let U=this;for(;U;)U._isUnderCache&&(A=U),U=U.getParent();const G=this.getAbsoluteTransform(A).decompose();return{x:G.scaleX,y:G.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(z,this._getTransform)}_getTransform(){var A,U;const W=this._cache.get(z)||new d.Transform;W.reset();const G=this.x(),F=this.y(),Q=a.Konva.getAngle(this.rotation()),Z=(A=this.attrs.scaleX)!==null&&A!==void 0?A:1,he=(U=this.attrs.scaleY)!==null&&U!==void 0?U:1,me=this.attrs.skewX||0,le=this.attrs.skewY||0,Y=this.attrs.offsetX||0,se=this.attrs.offsetY||0;return(G!==0||F!==0)&&W.translate(G,F),Q!==0&&W.rotate(Q),(me!==0||le!==0)&&W.skew(me,le),(Z!==1||he!==1)&&W.scale(Z,he),(Y!==0||se!==0)&&W.translate(-1*Y,-1*se),W.dirty=!1,W}clone(A){let U=d.Util.cloneObject(this.attrs),W,G,F,Q,Z;for(W in A)U[W]=A[W];const he=new this.constructor(U);for(W in this.eventListeners)for(G=this.eventListeners[W],F=G.length,Q=0;Q<F;Q++)Z=G[Q],Z.name.indexOf(w)<0&&(he.eventListeners[W]||(he.eventListeners[W]=[]),he.eventListeners[W].push(Z));return he}_toKonvaCanvas(A){A=A||{};const U=this.getClientRect(),W=this.getStage(),G=A.x!==void 0?A.x:Math.floor(U.x),F=A.y!==void 0?A.y:Math.floor(U.y),Q=A.pixelRatio||1,Z=new i.SceneCanvas({width:A.width||Math.ceil(U.width)||(W?W.width():0),height:A.height||Math.ceil(U.height)||(W?W.height():0),pixelRatio:Q}),he=Z.getContext(),me=new i.SceneCanvas({width:Z.width/Z.pixelRatio+Math.abs(G),height:Z.height/Z.pixelRatio+Math.abs(F),pixelRatio:Z.pixelRatio});return A.imageSmoothingEnabled===!1&&(he._context.imageSmoothingEnabled=!1),he.save(),(G||F)&&he.translate(-1*G,-1*F),this.drawScene(Z,void 0,me),he.restore(),Z}toCanvas(A){return this._toKonvaCanvas(A)._canvas}toDataURL(A){A=A||{};const U=A.mimeType||null,W=A.quality||null,G=this._toKonvaCanvas(A).toDataURL(U,W);return A.callback&&A.callback(G),G}toImage(A){return new Promise((U,W)=>{try{const G=A==null?void 0:A.callback;G&&delete A.callback,d.Util._urlToImage(this.toDataURL(A),function(F){U(F),G==null||G(F)})}catch(G){W(G)}})}toBlob(A){return new Promise((U,W)=>{try{const G=A==null?void 0:A.callback;G&&delete A.callback,this.toCanvas(A).toBlob(F=>{U(F),G==null||G(F)},A==null?void 0:A.mimeType,A==null?void 0:A.quality)}catch(G){W(G)}})}setSize(A){return this.width(A.width),this.height(A.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():a.Konva.dragDistance}_off(A,U,W){let G=this.eventListeners[A],F,Q,Z;for(F=0;F<G.length;F++)if(Q=G[F].name,Z=G[F].handler,(Q!=="konva"||U==="konva")&&(!U||Q===U)&&(!W||W===Z)){if(G.splice(F,1),G.length===0){delete this.eventListeners[A];break}F--}}_fireChangeEvent(A,U,W){this._fire(A+P,{oldVal:U,newVal:W})}addName(A){if(!this.hasName(A)){const U=this.name(),W=U?U+" "+A:A;this.name(W)}return this}hasName(A){if(!A)return!1;const U=this.name();return U?(U||"").split(/\s/g).indexOf(A)!==-1:!1}removeName(A){const U=(this.name()||"").split(/\s/g),W=U.indexOf(A);return W!==-1&&(U.splice(W,1),this.name(U.join(" "))),this}setAttr(A,U){const W=this[D+d.Util._capitalize(A)];return d.Util._isFunction(W)?W.call(this,U):this._setAttr(A,U),this}_requestDraw(){if(a.Konva.autoDrawEnabled){const A=this.getLayer()||this.getStage();A==null||A.batchDraw()}}_setAttr(A,U){const W=this.attrs[A];W===U&&!d.Util.isObject(U)||(U==null?delete this.attrs[A]:this.attrs[A]=U,this._shouldFireChangeEvents&&this._fireChangeEvent(A,W,U),this._requestDraw())}_setComponentAttr(A,U,W){let G;W!==void 0&&(G=this.attrs[A],G||(this.attrs[A]=this.getAttr(A)),this.attrs[A][U]=W,this._fireChangeEvent(A,G,W))}_fireAndBubble(A,U,W){U&&this.nodeType===j&&(U.target=this);const G=[N,M,b,T,v,L];if(!(G.indexOf(A)!==-1&&(W&&(this===W||this.isAncestorOf&&this.isAncestorOf(W))||this.nodeType==="Stage"&&!W))){this._fire(A,U);const Q=G.indexOf(A)!==-1&&W&&W.isAncestorOf&&W.isAncestorOf(this)&&!W.isAncestorOf(this.parent);(U&&!U.cancelBubble||!U)&&this.parent&&this.parent.isListening()&&!Q&&(W&&W.parent?this._fireAndBubble.call(this.parent,A,U,W):this._fireAndBubble.call(this.parent,A,U))}}_getProtoListeners(A){var U,W,G;const F=(U=this._cache.get(p))!==null&&U!==void 0?U:{};let Q=F==null?void 0:F[A];if(Q===void 0){Q=[];let Z=Object.getPrototypeOf(this);for(;Z;){const he=(G=(W=Z.eventListeners)===null||W===void 0?void 0:W[A])!==null&&G!==void 0?G:[];Q.push(...he),Z=Object.getPrototypeOf(Z)}F[A]=Q,this._cache.set(p,F)}return Q}_fire(A,U){U=U||{},U.currentTarget=this,U.type=A;const W=this._getProtoListeners(A);if(W)for(let F=0;F<W.length;F++)W[F].handler.call(this,U);const G=this.eventListeners[A];if(G)for(let F=0;F<G.length;F++)G[F].handler.call(this,U)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(A){const U=A?A.pointerId:void 0,W=this.getStage(),G=this.getAbsolutePosition();if(!W)return;const F=W._getPointerById(U)||W._changedPointerPositions[0]||G;t.DD._dragElements.set(this._id,{node:this,startPointerPos:F,offset:{x:F.x-G.x,y:F.y-G.y},dragStatus:"ready",pointerId:U})}startDrag(A,U=!0){t.DD._dragElements.has(this._id)||this._createDragElement(A);const W=t.DD._dragElements.get(this._id);W.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:A&&A.evt},U)}_setDragPosition(A,U){const W=this.getStage()._getPointerById(U.pointerId);if(!W)return;let G={x:W.x-U.offset.x,y:W.y-U.offset.y};const F=this.dragBoundFunc();if(F!==void 0){const Q=F.call(this,G,A);Q?G=Q:d.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==G.x||this._lastPos.y!==G.y)&&(this.setAbsolutePosition(G),this._requestDraw()),this._lastPos=G}stopDrag(A){const U=t.DD._dragElements.get(this._id);U&&(U.dragStatus="stopped"),t.DD._endDragBefore(A),t.DD._endDragAfter(A)}setDraggable(A){this._setAttr("draggable",A),this._dragChange()}isDragging(){const A=t.DD._dragElements.get(this._id);return A?A.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(A){if(!(!(A.evt.button!==void 0)||a.Konva.dragButtons.indexOf(A.evt.button)>=0)||this.isDragging())return;let G=!1;t.DD._dragElements.forEach(F=>{this.isAncestorOf(F.node)&&(G=!0)}),G||this._createDragElement(A)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const U=t.DD._dragElements.get(this._id),W=U&&U.dragStatus==="dragging",G=U&&U.dragStatus==="ready";W?this.stopDrag():G&&t.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(A={x:0,y:0}){const U=this.getStage();if(!U)return!1;const W={x:-A.x,y:-A.y,width:U.width()+2*A.x,height:U.height()+2*A.y};return d.Util.haveIntersection(W,this.getClientRect())}static create(A,U){return d.Util._isString(A)&&(A=JSON.parse(A)),this._createNode(A,U)}static _createNode(A,U){let W=b0.prototype.getClassName.call(A),G=A.children,F,Q,Z;U&&(A.attrs.container=U),a.Konva[W]||(d.Util.warn('Can not find a node with class name "'+W+'". Fallback to "Shape".'),W="Shape");const he=a.Konva[W];if(F=new he(A.attrs),G)for(Q=G.length,Z=0;Z<Q;Z++)F.add(b0._createNode(G[Z]));return F}};uc.Node=ne,ne.prototype.nodeType="Node",ne.prototype._attrsAffectingSize=[],ne.prototype.eventListeners={},ne.prototype.on.call(ne.prototype,K,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(z),this._clearSelfAndDescendantCache(m)}),ne.prototype.on.call(ne.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(q)}),ne.prototype.on.call(ne.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(C)}),ne.prototype.on.call(ne.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(f)});const $=o.Factory.addGetterSetter;return $(ne,"zIndex"),$(ne,"absolutePosition"),$(ne,"position"),$(ne,"x",0,(0,u.getNumberValidator)()),$(ne,"y",0,(0,u.getNumberValidator)()),$(ne,"globalCompositeOperation","source-over",(0,u.getStringValidator)()),$(ne,"opacity",1,(0,u.getNumberValidator)()),$(ne,"name","",(0,u.getStringValidator)()),$(ne,"id","",(0,u.getStringValidator)()),$(ne,"rotation",0,(0,u.getNumberValidator)()),o.Factory.addComponentsGetterSetter(ne,"scale",["x","y"]),$(ne,"scaleX",1,(0,u.getNumberValidator)()),$(ne,"scaleY",1,(0,u.getNumberValidator)()),o.Factory.addComponentsGetterSetter(ne,"skew",["x","y"]),$(ne,"skewX",0,(0,u.getNumberValidator)()),$(ne,"skewY",0,(0,u.getNumberValidator)()),o.Factory.addComponentsGetterSetter(ne,"offset",["x","y"]),$(ne,"offsetX",0,(0,u.getNumberValidator)()),$(ne,"offsetY",0,(0,u.getNumberValidator)()),$(ne,"dragDistance",void 0,(0,u.getNumberValidator)()),$(ne,"width",0,(0,u.getNumberValidator)()),$(ne,"height",0,(0,u.getNumberValidator)()),$(ne,"listening",!0,(0,u.getBooleanValidator)()),$(ne,"preventDefault",!0,(0,u.getBooleanValidator)()),$(ne,"filters",void 0,function(pe){return this._filterUpToDate=!1,pe}),$(ne,"visible",!0,(0,u.getBooleanValidator)()),$(ne,"transformsEnabled","all",(0,u.getStringValidator)()),$(ne,"size"),$(ne,"dragBoundFunc"),$(ne,"draggable",!1,(0,u.getBooleanValidator)()),o.Factory.backCompat(ne,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),uc}var cc={},Rg;function rf(){if(Rg)return cc;Rg=1,Object.defineProperty(cc,"__esModule",{value:!0}),cc.Container=void 0;const i=et(),t=nn(),o=nt();let a=class extends t.Node{constructor(){super(...arguments),this.children=[]}getChildren(u){const f=this.children||[];return u?f.filter(u):f}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(u=>{u.parent=null,u.index=0,u.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(u=>{u.parent=null,u.index=0,u.destroy()}),this.children=[],this._requestDraw(),this}add(...u){if(u.length===0)return this;if(u.length>1){for(let p=0;p<u.length;p++)this.add(u[p]);return this}const f=u[0];return f.getParent()?(f.moveTo(this),this):(this._validateAdd(f),f.index=this.getChildren().length,f.parent=this,f._clearCaches(),this.getChildren().push(f),this._fire("add",{child:f}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(u){return this._generalFind(u,!1)}findOne(u){const f=this._generalFind(u,!0);return f.length>0?f[0]:void 0}_generalFind(u,f){const p=[];return this._descendants(m=>{const _=m._isMatch(u);return _&&p.push(m),!!(_&&f)}),p}_descendants(u){let f=!1;const p=this.getChildren();for(const m of p){if(f=u(m),f)return!0;if(m.hasChildren()&&(f=m._descendants(u),f))return!0}return!1}toObject(){const u=t.Node.prototype.toObject.call(this);return u.children=[],this.getChildren().forEach(f=>{u.children.push(f.toObject())}),u}isAncestorOf(u){let f=u.getParent();for(;f;){if(f._id===this._id)return!0;f=f.getParent()}return!1}clone(u){const f=t.Node.prototype.clone.call(this,u);return this.getChildren().forEach(function(p){f.add(p.clone())}),f}getAllIntersections(u){const f=[];return this.find("Shape").forEach(p=>{p.isVisible()&&p.intersects(u)&&f.push(p)}),f}_clearSelfAndDescendantCache(u){var f;super._clearSelfAndDescendantCache(u),!this.isCached()&&((f=this.children)===null||f===void 0||f.forEach(function(p){p._clearSelfAndDescendantCache(u)}))}_setChildrenIndices(){var u;(u=this.children)===null||u===void 0||u.forEach(function(f,p){f.index=p}),this._requestDraw()}drawScene(u,f,p){const m=this.getLayer(),_=u||m&&m.getCanvas(),k=_&&_.getContext(),P=this._getCanvasCache(),x=P&&P.scene,w=_&&_.isCache;if(!this.isVisible()&&!w)return this;if(x){k.save();const C=this.getAbsoluteTransform(f).getMatrix();k.transform(C[0],C[1],C[2],C[3],C[4],C[5]),this._drawCachedSceneCanvas(k),k.restore()}else this._drawChildren("drawScene",_,f,p);return this}drawHit(u,f){if(!this.shouldDrawHit(f))return this;const p=this.getLayer(),m=u||p&&p.hitCanvas,_=m&&m.getContext(),k=this._getCanvasCache();if(k&&k.hit){_.save();const x=this.getAbsoluteTransform(f).getMatrix();_.transform(x[0],x[1],x[2],x[3],x[4],x[5]),this._drawCachedHitCanvas(_),_.restore()}else this._drawChildren("drawHit",m,f);return this}_drawChildren(u,f,p,m){var _;const k=f&&f.getContext(),P=this.clipWidth(),x=this.clipHeight(),w=this.clipFunc(),C=typeof P=="number"&&typeof x=="number"||w,N=p===this;if(C){k.save();const b=this.getAbsoluteTransform(p);let T=b.getMatrix();k.transform(T[0],T[1],T[2],T[3],T[4],T[5]),k.beginPath();let v;if(w)v=w.call(this,k,this);else{const L=this.clipX(),D=this.clipY();k.rect(L||0,D||0,P,x)}k.clip.apply(k,v),T=b.copy().invert().getMatrix(),k.transform(T[0],T[1],T[2],T[3],T[4],T[5])}const M=!N&&this.globalCompositeOperation()!=="source-over"&&u==="drawScene";M&&(k.save(),k._applyGlobalCompositeOperation(this)),(_=this.children)===null||_===void 0||_.forEach(function(b){b[u](f,p,m)}),M&&k.restore(),C&&k.restore()}getClientRect(u={}){var f;const p=u.skipTransform,m=u.relativeTo;let _,k,P,x,w={x:1/0,y:1/0,width:0,height:0};const C=this;(f=this.children)===null||f===void 0||f.forEach(function(b){if(!b.visible())return;const T=b.getClientRect({relativeTo:C,skipShadow:u.skipShadow,skipStroke:u.skipStroke});T.width===0&&T.height===0||(_===void 0?(_=T.x,k=T.y,P=T.x+T.width,x=T.y+T.height):(_=Math.min(_,T.x),k=Math.min(k,T.y),P=Math.max(P,T.x+T.width),x=Math.max(x,T.y+T.height)))});const N=this.find("Shape");let M=!1;for(let b=0;b<N.length;b++)if(N[b]._isVisible(this)){M=!0;break}return M&&_!==void 0?w={x:_,y:k,width:P-_,height:x-k}:w={x:0,y:0,width:0,height:0},p?w:this._transformedRect(w,m)}};return cc.Container=a,i.Factory.addComponentsGetterSetter(a,"clip",["x","y","width","height"]),i.Factory.addGetterSetter(a,"clipX",void 0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(a,"clipY",void 0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(a,"clipWidth",void 0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(a,"clipHeight",void 0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(a,"clipFunc"),cc}var p0={},Io={},Lg;function Lm(){if(Lg)return Io;Lg=1,Object.defineProperty(Io,"__esModule",{value:!0}),Io.getCapturedShape=a,Io.createEvent=d,Io.hasPointerCapture=u,Io.setPointerCapture=f,Io.releaseCapture=p;const i=Ke(),t=new Map,o=i.Konva._global.PointerEvent!==void 0;function a(m){return t.get(m)}function d(m){return{evt:m,pointerId:m.pointerId}}function u(m,_){return t.get(m)===_}function f(m,_){p(m),_.getStage()&&(t.set(m,_),o&&_._fire("gotpointercapture",d(new PointerEvent("gotpointercapture"))))}function p(m,_){const k=t.get(m);if(!k)return;const P=k.getStage();P&&P.content,t.delete(m),o&&k._fire("lostpointercapture",d(new PointerEvent("lostpointercapture")))}return Io}var Mg;function Jy(){return Mg||(Mg=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Stage=i.stages=void 0;const t=qt(),o=et(),a=rf(),d=Ke(),u=nf(),f=$0(),p=Ke(),m=Lm(),_="Stage",k="string",P="px",x="mouseout",w="mouseleave",C="mouseover",N="mouseenter",M="mousemove",b="mousedown",T="mouseup",v="pointermove",L="pointerdown",D="pointerup",j="pointercancel",H="lostpointercapture",I="pointerout",z="pointerleave",B="pointerover",q="pointerenter",K="contextmenu",ee="touchstart",ne="touchend",$="touchmove",pe="touchcancel",A="wheel",U=5,W=[[N,"_pointerenter"],[b,"_pointerdown"],[M,"_pointermove"],[T,"_pointerup"],[w,"_pointerleave"],[ee,"_pointerdown"],[$,"_pointermove"],[ne,"_pointerup"],[pe,"_pointercancel"],[C,"_pointerover"],[A,"_wheel"],[K,"_contextmenu"],[L,"_pointerdown"],[v,"_pointermove"],[D,"_pointerup"],[j,"_pointercancel"],[z,"_pointerleave"],[H,"_lostpointercapture"]],G={mouse:{[I]:x,[z]:w,[B]:C,[q]:N,[v]:M,[L]:b,[D]:T,[j]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[I]:"touchout",[z]:"touchleave",[B]:"touchover",[q]:"touchenter",[v]:$,[L]:ee,[D]:ne,[j]:pe,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[I]:I,[z]:z,[B]:B,[q]:q,[v]:v,[L]:L,[D]:D,[j]:j,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},F=le=>le.indexOf("pointer")>=0?"pointer":le.indexOf("touch")>=0?"touch":"mouse",Q=le=>{const Y=F(le);if(Y==="pointer")return d.Konva.pointerEventsEnabled&&G.pointer;if(Y==="touch")return G.touch;if(Y==="mouse")return G.mouse};function Z(le={}){return(le.clipFunc||le.clipWidth||le.clipHeight)&&t.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),le}const he="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";i.stages=[];class me extends a.Container{constructor(Y){super(Z(Y)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),i.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{Z(this.attrs)}),this._checkVisibility()}_validateAdd(Y){const se=Y.getType()==="Layer",ye=Y.getType()==="FastLayer";se||ye||t.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const Y=this.visible()?"":"none";this.content.style.display=Y}setContainer(Y){if(typeof Y===k){let se;if(Y.charAt(0)==="."){const ye=Y.slice(1);Y=document.getElementsByClassName(ye)[0]}else Y.charAt(0)!=="#"?se=Y:se=Y.slice(1),Y=document.getElementById(se);if(!Y)throw"Can not find container in document with id "+se}return this._setAttr("container",Y),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),Y.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const Y=this.children,se=Y.length;for(let ye=0;ye<se;ye++)Y[ye].clear();return this}clone(Y){return Y||(Y={}),Y.container=typeof document<"u"&&document.createElement("div"),a.Container.prototype.clone.call(this,Y)}destroy(){super.destroy();const Y=this.content;Y&&t.Util._isInDocument(Y)&&this.container().removeChild(Y);const se=i.stages.indexOf(this);return se>-1&&i.stages.splice(se,1),t.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const Y=this._pointerPositions[0]||this._changedPointerPositions[0];return Y?{x:Y.x,y:Y.y}:(t.Util.warn(he),null)}_getPointerById(Y){return this._pointerPositions.find(se=>se.id===Y)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(Y){Y=Y||{},Y.x=Y.x||0,Y.y=Y.y||0,Y.width=Y.width||this.width(),Y.height=Y.height||this.height();const se=new u.SceneCanvas({width:Y.width,height:Y.height,pixelRatio:Y.pixelRatio||1}),ye=se.getContext()._context,xe=this.children;return(Y.x||Y.y)&&ye.translate(-1*Y.x,-1*Y.y),xe.forEach(function(Pe){if(!Pe.isVisible())return;const be=Pe._toKonvaCanvas(Y);ye.drawImage(be._canvas,Y.x,Y.y,be.getWidth()/be.getPixelRatio(),be.getHeight()/be.getPixelRatio())}),se}getIntersection(Y){if(!Y)return null;const se=this.children,ye=se.length,xe=ye-1;for(let Pe=xe;Pe>=0;Pe--){const be=se[Pe].getIntersection(Y);if(be)return be}return null}_resizeDOM(){const Y=this.width(),se=this.height();this.content&&(this.content.style.width=Y+P,this.content.style.height=se+P),this.bufferCanvas.setSize(Y,se),this.bufferHitCanvas.setSize(Y,se),this.children.forEach(ye=>{ye.setSize({width:Y,height:se}),ye.draw()})}add(Y,...se){if(arguments.length>1){for(let xe=0;xe<arguments.length;xe++)this.add(arguments[xe]);return this}super.add(Y);const ye=this.children.length;return ye>U&&t.Util.warn("The stage has "+ye+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),Y.setSize({width:this.width(),height:this.height()}),Y.draw(),d.Konva.isBrowser&&this.content.appendChild(Y.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(Y){return m.hasPointerCapture(Y,this)}setPointerCapture(Y){m.setPointerCapture(Y,this)}releaseCapture(Y){m.releaseCapture(Y,this)}getLayers(){return this.children}_bindContentEvents(){d.Konva.isBrowser&&W.forEach(([Y,se])=>{this.content.addEventListener(Y,ye=>{this[se](ye)},{passive:!1})})}_pointerenter(Y){this.setPointersPositions(Y);const se=Q(Y.type);se&&this._fire(se.pointerenter,{evt:Y,target:this,currentTarget:this})}_pointerover(Y){this.setPointersPositions(Y);const se=Q(Y.type);se&&this._fire(se.pointerover,{evt:Y,target:this,currentTarget:this})}_getTargetShape(Y){let se=this[Y+"targetShape"];return se&&!se.getStage()&&(se=null),se}_pointerleave(Y){const se=Q(Y.type),ye=F(Y.type);if(!se)return;this.setPointersPositions(Y);const xe=this._getTargetShape(ye),Pe=!(d.Konva.isDragging()||d.Konva.isTransforming())||d.Konva.hitOnDragEnabled;xe&&Pe?(xe._fireAndBubble(se.pointerout,{evt:Y}),xe._fireAndBubble(se.pointerleave,{evt:Y}),this._fire(se.pointerleave,{evt:Y,target:this,currentTarget:this}),this[ye+"targetShape"]=null):Pe&&(this._fire(se.pointerleave,{evt:Y,target:this,currentTarget:this}),this._fire(se.pointerout,{evt:Y,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(Y){const se=Q(Y.type),ye=F(Y.type);if(!se)return;this.setPointersPositions(Y);let xe=!1;this._changedPointerPositions.forEach(Pe=>{const be=this.getIntersection(Pe);if(f.DD.justDragged=!1,d.Konva["_"+ye+"ListenClick"]=!0,!be||!be.isListening()){this[ye+"ClickStartShape"]=void 0;return}d.Konva.capturePointerEventsEnabled&&be.setPointerCapture(Pe.id),this[ye+"ClickStartShape"]=be,be._fireAndBubble(se.pointerdown,{evt:Y,pointerId:Pe.id}),xe=!0;const Oe=Y.type.indexOf("touch")>=0;be.preventDefault()&&Y.cancelable&&Oe&&Y.preventDefault()}),xe||this._fire(se.pointerdown,{evt:Y,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(Y){const se=Q(Y.type),ye=F(Y.type);if(!se||(d.Konva.isDragging()&&f.DD.node.preventDefault()&&Y.cancelable&&Y.preventDefault(),this.setPointersPositions(Y),!(!(d.Konva.isDragging()||d.Konva.isTransforming())||d.Konva.hitOnDragEnabled)))return;const Pe={};let be=!1;const Oe=this._getTargetShape(ye);this._changedPointerPositions.forEach(rt=>{const Ge=m.getCapturedShape(rt.id)||this.getIntersection(rt),jt=rt.id,ot={evt:Y,pointerId:jt},Et=Oe!==Ge;if(Et&&Oe&&(Oe._fireAndBubble(se.pointerout,{...ot},Ge),Oe._fireAndBubble(se.pointerleave,{...ot},Ge)),Ge){if(Pe[Ge._id])return;Pe[Ge._id]=!0}Ge&&Ge.isListening()?(be=!0,Et&&(Ge._fireAndBubble(se.pointerover,{...ot},Oe),Ge._fireAndBubble(se.pointerenter,{...ot},Oe),this[ye+"targetShape"]=Ge),Ge._fireAndBubble(se.pointermove,{...ot})):Oe&&(this._fire(se.pointerover,{evt:Y,target:this,currentTarget:this,pointerId:jt}),this[ye+"targetShape"]=null)}),be||this._fire(se.pointermove,{evt:Y,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(Y){const se=Q(Y.type),ye=F(Y.type);if(!se)return;this.setPointersPositions(Y);const xe=this[ye+"ClickStartShape"],Pe=this[ye+"ClickEndShape"],be={};let Oe=!1;this._changedPointerPositions.forEach(rt=>{const Ge=m.getCapturedShape(rt.id)||this.getIntersection(rt);if(Ge){if(Ge.releaseCapture(rt.id),be[Ge._id])return;be[Ge._id]=!0}const jt=rt.id,ot={evt:Y,pointerId:jt};let Et=!1;d.Konva["_"+ye+"InDblClickWindow"]?(Et=!0,clearTimeout(this[ye+"DblTimeout"])):f.DD.justDragged||(d.Konva["_"+ye+"InDblClickWindow"]=!0,clearTimeout(this[ye+"DblTimeout"])),this[ye+"DblTimeout"]=setTimeout(function(){d.Konva["_"+ye+"InDblClickWindow"]=!1},d.Konva.dblClickWindow),Ge&&Ge.isListening()?(Oe=!0,this[ye+"ClickEndShape"]=Ge,Ge._fireAndBubble(se.pointerup,{...ot}),d.Konva["_"+ye+"ListenClick"]&&xe&&xe===Ge&&(Ge._fireAndBubble(se.pointerclick,{...ot}),Et&&Pe&&Pe===Ge&&Ge._fireAndBubble(se.pointerdblclick,{...ot}))):(this[ye+"ClickEndShape"]=null,d.Konva["_"+ye+"ListenClick"]&&this._fire(se.pointerclick,{evt:Y,target:this,currentTarget:this,pointerId:jt}),Et&&this._fire(se.pointerdblclick,{evt:Y,target:this,currentTarget:this,pointerId:jt}))}),Oe||this._fire(se.pointerup,{evt:Y,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),d.Konva["_"+ye+"ListenClick"]=!1,Y.cancelable&&ye!=="touch"&&ye!=="pointer"&&Y.preventDefault()}_contextmenu(Y){this.setPointersPositions(Y);const se=this.getIntersection(this.getPointerPosition());se&&se.isListening()?se._fireAndBubble(K,{evt:Y}):this._fire(K,{evt:Y,target:this,currentTarget:this})}_wheel(Y){this.setPointersPositions(Y);const se=this.getIntersection(this.getPointerPosition());se&&se.isListening()?se._fireAndBubble(A,{evt:Y}):this._fire(A,{evt:Y,target:this,currentTarget:this})}_pointercancel(Y){this.setPointersPositions(Y);const se=m.getCapturedShape(Y.pointerId)||this.getIntersection(this.getPointerPosition());se&&se._fireAndBubble(D,m.createEvent(Y)),m.releaseCapture(Y.pointerId)}_lostpointercapture(Y){m.releaseCapture(Y.pointerId)}setPointersPositions(Y){const se=this._getContentPosition();let ye=null,xe=null;Y=Y||window.event,Y.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(Y.touches,Pe=>{this._pointerPositions.push({id:Pe.identifier,x:(Pe.clientX-se.left)/se.scaleX,y:(Pe.clientY-se.top)/se.scaleY})}),Array.prototype.forEach.call(Y.changedTouches||Y.touches,Pe=>{this._changedPointerPositions.push({id:Pe.identifier,x:(Pe.clientX-se.left)/se.scaleX,y:(Pe.clientY-se.top)/se.scaleY})})):(ye=(Y.clientX-se.left)/se.scaleX,xe=(Y.clientY-se.top)/se.scaleY,this.pointerPos={x:ye,y:xe},this._pointerPositions=[{x:ye,y:xe,id:t.Util._getFirstPointerId(Y)}],this._changedPointerPositions=[{x:ye,y:xe,id:t.Util._getFirstPointerId(Y)}])}_setPointerPosition(Y){t.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(Y)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const Y=this.content.getBoundingClientRect();return{top:Y.top,left:Y.left,scaleX:Y.width/this.content.clientWidth||1,scaleY:Y.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new u.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new u.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!d.Konva.isBrowser)return;const Y=this.container();if(!Y)throw"Stage has no container. A container is required.";Y.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),Y.appendChild(this.content),this._resizeDOM()}cache(){return t.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(Y){Y.batchDraw()}),this}}i.Stage=me,me.prototype.nodeType=_,(0,p._registerNode)(me),o.Factory.addGetterSetter(me,"container"),d.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{i.stages.forEach(le=>{le.batchDraw()})})})(p0)),p0}var dc={},g0={},Dg;function An(){return Dg||(Dg=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Shape=i.shapes=void 0;const t=Ke(),o=qt(),a=et(),d=nn(),u=nt(),f=Ke(),p=Lm(),m="hasShadow",_="shadowRGBA",k="patternImage",P="linearGradient",x="radialGradient";let w;function C(){return w||(w=o.Util.createCanvasElement().getContext("2d"),w)}i.shapes={};function N(z){const B=this.attrs.fillRule;B?z.fill(B):z.fill()}function M(z){z.stroke()}function b(z){const B=this.attrs.fillRule;B?z.fill(B):z.fill()}function T(z){z.stroke()}function v(){this._clearCache(m)}function L(){this._clearCache(_)}function D(){this._clearCache(k)}function j(){this._clearCache(P)}function H(){this._clearCache(x)}class I extends d.Node{constructor(B){super(B);let q;for(;q=o.Util.getRandomColor(),!(q&&!(q in i.shapes)););this.colorKey=q,i.shapes[q]=this}getContext(){return o.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return o.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(m,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(k,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const q=C().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(q&&q.setTransform){const K=new o.Transform;K.translate(this.fillPatternX(),this.fillPatternY()),K.rotate(t.Konva.getAngle(this.fillPatternRotation())),K.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),K.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const ee=K.getMatrix(),ne=typeof DOMMatrix>"u"?{a:ee[0],b:ee[1],c:ee[2],d:ee[3],e:ee[4],f:ee[5]}:new DOMMatrix(ee);q.setTransform(ne)}return q}}_getLinearGradient(){return this._getCache(P,this.__getLinearGradient)}__getLinearGradient(){const B=this.fillLinearGradientColorStops();if(B){const q=C(),K=this.fillLinearGradientStartPoint(),ee=this.fillLinearGradientEndPoint(),ne=q.createLinearGradient(K.x,K.y,ee.x,ee.y);for(let $=0;$<B.length;$+=2)ne.addColorStop(B[$],B[$+1]);return ne}}_getRadialGradient(){return this._getCache(x,this.__getRadialGradient)}__getRadialGradient(){const B=this.fillRadialGradientColorStops();if(B){const q=C(),K=this.fillRadialGradientStartPoint(),ee=this.fillRadialGradientEndPoint(),ne=q.createRadialGradient(K.x,K.y,this.fillRadialGradientStartRadius(),ee.x,ee.y,this.fillRadialGradientEndRadius());for(let $=0;$<B.length;$+=2)ne.addColorStop(B[$],B[$+1]);return ne}}getShadowRGBA(){return this._getCache(_,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const B=o.Util.colorToRGBA(this.shadowColor());if(B)return"rgba("+B.r+","+B.g+","+B.b+","+B.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const B=this.hitStrokeWidth();return B==="auto"?this.hasStroke():this.strokeEnabled()&&!!B}intersects(B){const q=this.getStage();if(!q)return!1;const K=q.bufferHitCanvas;return K.getContext().clear(),this.drawHit(K,void 0,!0),K.context.getImageData(Math.round(B.x),Math.round(B.y),1,1).data[3]>0}destroy(){return d.Node.prototype.destroy.call(this),delete i.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(B){var q;if(!((q=this.attrs.perfectDrawEnabled)!==null&&q!==void 0?q:!0))return!1;const ee=B||this.hasFill(),ne=this.hasStroke(),$=this.getAbsoluteOpacity()!==1;if(ee&&ne&&$)return!0;const pe=this.hasShadow(),A=this.shadowForStrokeEnabled();return!!(ee&&ne&&pe&&A)}setStrokeHitEnabled(B){o.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),B?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const B=this.size();return{x:this._centroid?-B.width/2:0,y:this._centroid?-B.height/2:0,width:B.width,height:B.height}}getClientRect(B={}){let q=!1,K=this.getParent();for(;K;){if(K.isCached()){q=!0;break}K=K.getParent()}const ee=B.skipTransform,ne=B.relativeTo||q&&this.getStage()||void 0,$=this.getSelfRect(),A=!B.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,U=$.width+A,W=$.height+A,G=!B.skipShadow&&this.hasShadow(),F=G?this.shadowOffsetX():0,Q=G?this.shadowOffsetY():0,Z=U+Math.abs(F),he=W+Math.abs(Q),me=G&&this.shadowBlur()||0,le=Z+me*2,Y=he+me*2,se={width:le,height:Y,x:-(A/2+me)+Math.min(F,0)+$.x,y:-(A/2+me)+Math.min(Q,0)+$.y};return ee?se:this._transformedRect(se,ne)}drawScene(B,q,K){const ee=this.getLayer(),ne=B||ee.getCanvas(),$=ne.getContext(),pe=this._getCanvasCache(),A=this.getSceneFunc(),U=this.hasShadow();let W;const G=q===this;if(!this.isVisible()&&!G)return this;if(pe){$.save();const F=this.getAbsoluteTransform(q).getMatrix();return $.transform(F[0],F[1],F[2],F[3],F[4],F[5]),this._drawCachedSceneCanvas($),$.restore(),this}if(!A)return this;if($.save(),this._useBufferCanvas()){W=this.getStage();const F=K||W.bufferCanvas,Q=F.getContext();Q.clear(),Q.save(),Q._applyLineJoin(this);const Z=this.getAbsoluteTransform(q).getMatrix();Q.transform(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5]),A.call(this,Q,this),Q.restore();const he=F.pixelRatio;U&&$._applyShadow(this),$._applyOpacity(this),$._applyGlobalCompositeOperation(this),$.drawImage(F._canvas,F.x||0,F.y||0,F.width/he,F.height/he)}else{if($._applyLineJoin(this),!G){const F=this.getAbsoluteTransform(q).getMatrix();$.transform(F[0],F[1],F[2],F[3],F[4],F[5]),$._applyOpacity(this),$._applyGlobalCompositeOperation(this)}U&&$._applyShadow(this),A.call(this,$,this)}return $.restore(),this}drawHit(B,q,K=!1){if(!this.shouldDrawHit(q,K))return this;const ee=this.getLayer(),ne=B||ee.hitCanvas,$=ne&&ne.getContext(),pe=this.hitFunc()||this.sceneFunc(),A=this._getCanvasCache(),U=A&&A.hit;if(this.colorKey||o.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),U){$.save();const G=this.getAbsoluteTransform(q).getMatrix();return $.transform(G[0],G[1],G[2],G[3],G[4],G[5]),this._drawCachedHitCanvas($),$.restore(),this}if(!pe)return this;if($.save(),$._applyLineJoin(this),!(this===q)){const G=this.getAbsoluteTransform(q).getMatrix();$.transform(G[0],G[1],G[2],G[3],G[4],G[5])}return pe.call(this,$,this),$.restore(),this}drawHitFromCache(B=0){const q=this._getCanvasCache(),K=this._getCachedSceneCanvas(),ee=q.hit,ne=ee.getContext(),$=ee.getWidth(),pe=ee.getHeight();ne.clear(),ne.drawImage(K._canvas,0,0,$,pe);try{const A=ne.getImageData(0,0,$,pe),U=A.data,W=U.length,G=o.Util._hexToRgb(this.colorKey);for(let F=0;F<W;F+=4)U[F+3]>B?(U[F]=G.r,U[F+1]=G.g,U[F+2]=G.b,U[F+3]=255):U[F+3]=0;ne.putImageData(A,0,0)}catch(A){o.Util.error("Unable to draw hit graph from cached scene canvas. "+A.message)}return this}hasPointerCapture(B){return p.hasPointerCapture(B,this)}setPointerCapture(B){p.setPointerCapture(B,this)}releaseCapture(B){p.releaseCapture(B,this)}}i.Shape=I,I.prototype._fillFunc=N,I.prototype._strokeFunc=M,I.prototype._fillFuncHit=b,I.prototype._strokeFuncHit=T,I.prototype._centroid=!1,I.prototype.nodeType="Shape",(0,f._registerNode)(I),I.prototype.eventListeners={},I.prototype.on.call(I.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",v),I.prototype.on.call(I.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",L),I.prototype.on.call(I.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",D),I.prototype.on.call(I.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",j),I.prototype.on.call(I.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",H),a.Factory.addGetterSetter(I,"stroke",void 0,(0,u.getStringOrGradientValidator)()),a.Factory.addGetterSetter(I,"strokeWidth",2,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(I,"fillAfterStrokeEnabled",!1),a.Factory.addGetterSetter(I,"hitStrokeWidth","auto",(0,u.getNumberOrAutoValidator)()),a.Factory.addGetterSetter(I,"strokeHitEnabled",!0,(0,u.getBooleanValidator)()),a.Factory.addGetterSetter(I,"perfectDrawEnabled",!0,(0,u.getBooleanValidator)()),a.Factory.addGetterSetter(I,"shadowForStrokeEnabled",!0,(0,u.getBooleanValidator)()),a.Factory.addGetterSetter(I,"lineJoin"),a.Factory.addGetterSetter(I,"lineCap"),a.Factory.addGetterSetter(I,"sceneFunc"),a.Factory.addGetterSetter(I,"hitFunc"),a.Factory.addGetterSetter(I,"dash"),a.Factory.addGetterSetter(I,"dashOffset",0,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(I,"shadowColor",void 0,(0,u.getStringValidator)()),a.Factory.addGetterSetter(I,"shadowBlur",0,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(I,"shadowOpacity",1,(0,u.getNumberValidator)()),a.Factory.addComponentsGetterSetter(I,"shadowOffset",["x","y"]),a.Factory.addGetterSetter(I,"shadowOffsetX",0,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(I,"shadowOffsetY",0,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(I,"fillPatternImage"),a.Factory.addGetterSetter(I,"fill",void 0,(0,u.getStringOrGradientValidator)()),a.Factory.addGetterSetter(I,"fillPatternX",0,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(I,"fillPatternY",0,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(I,"fillLinearGradientColorStops"),a.Factory.addGetterSetter(I,"strokeLinearGradientColorStops"),a.Factory.addGetterSetter(I,"fillRadialGradientStartRadius",0),a.Factory.addGetterSetter(I,"fillRadialGradientEndRadius",0),a.Factory.addGetterSetter(I,"fillRadialGradientColorStops"),a.Factory.addGetterSetter(I,"fillPatternRepeat","repeat"),a.Factory.addGetterSetter(I,"fillEnabled",!0),a.Factory.addGetterSetter(I,"strokeEnabled",!0),a.Factory.addGetterSetter(I,"shadowEnabled",!0),a.Factory.addGetterSetter(I,"dashEnabled",!0),a.Factory.addGetterSetter(I,"strokeScaleEnabled",!0),a.Factory.addGetterSetter(I,"fillPriority","color"),a.Factory.addComponentsGetterSetter(I,"fillPatternOffset",["x","y"]),a.Factory.addGetterSetter(I,"fillPatternOffsetX",0,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(I,"fillPatternOffsetY",0,(0,u.getNumberValidator)()),a.Factory.addComponentsGetterSetter(I,"fillPatternScale",["x","y"]),a.Factory.addGetterSetter(I,"fillPatternScaleX",1,(0,u.getNumberValidator)()),a.Factory.addGetterSetter(I,"fillPatternScaleY",1,(0,u.getNumberValidator)()),a.Factory.addComponentsGetterSetter(I,"fillLinearGradientStartPoint",["x","y"]),a.Factory.addComponentsGetterSetter(I,"strokeLinearGradientStartPoint",["x","y"]),a.Factory.addGetterSetter(I,"fillLinearGradientStartPointX",0),a.Factory.addGetterSetter(I,"strokeLinearGradientStartPointX",0),a.Factory.addGetterSetter(I,"fillLinearGradientStartPointY",0),a.Factory.addGetterSetter(I,"strokeLinearGradientStartPointY",0),a.Factory.addComponentsGetterSetter(I,"fillLinearGradientEndPoint",["x","y"]),a.Factory.addComponentsGetterSetter(I,"strokeLinearGradientEndPoint",["x","y"]),a.Factory.addGetterSetter(I,"fillLinearGradientEndPointX",0),a.Factory.addGetterSetter(I,"strokeLinearGradientEndPointX",0),a.Factory.addGetterSetter(I,"fillLinearGradientEndPointY",0),a.Factory.addGetterSetter(I,"strokeLinearGradientEndPointY",0),a.Factory.addComponentsGetterSetter(I,"fillRadialGradientStartPoint",["x","y"]),a.Factory.addGetterSetter(I,"fillRadialGradientStartPointX",0),a.Factory.addGetterSetter(I,"fillRadialGradientStartPointY",0),a.Factory.addComponentsGetterSetter(I,"fillRadialGradientEndPoint",["x","y"]),a.Factory.addGetterSetter(I,"fillRadialGradientEndPointX",0),a.Factory.addGetterSetter(I,"fillRadialGradientEndPointY",0),a.Factory.addGetterSetter(I,"fillPatternRotation",0),a.Factory.addGetterSetter(I,"fillRule",void 0,(0,u.getStringValidator)()),a.Factory.backCompat(I,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(g0)),g0}var Ig;function Mm(){if(Ig)return dc;Ig=1,Object.defineProperty(dc,"__esModule",{value:!0}),dc.Layer=void 0;const i=qt(),t=rf(),o=nn(),a=et(),d=nf(),u=nt(),f=An(),p=Ke(),m="#",_="beforeDraw",k="draw",P=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],x=P.length;class w extends t.Container{constructor(N){super(N),this.canvas=new d.SceneCanvas,this.hitCanvas=new d.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(N){return this.getContext().clear(N),this.getHitCanvas().getContext().clear(N),this}setZIndex(N){super.setZIndex(N);const M=this.getStage();return M&&M.content&&(M.content.removeChild(this.getNativeCanvasElement()),N<M.children.length-1?M.content.insertBefore(this.getNativeCanvasElement(),M.children[N+1].getCanvas()._canvas):M.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){o.Node.prototype.moveToTop.call(this);const N=this.getStage();return N&&N.content&&(N.content.removeChild(this.getNativeCanvasElement()),N.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!o.Node.prototype.moveUp.call(this))return!1;const M=this.getStage();return!M||!M.content?!1:(M.content.removeChild(this.getNativeCanvasElement()),this.index<M.children.length-1?M.content.insertBefore(this.getNativeCanvasElement(),M.children[this.index+1].getCanvas()._canvas):M.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(o.Node.prototype.moveDown.call(this)){const N=this.getStage();if(N){const M=N.children;N.content&&(N.content.removeChild(this.getNativeCanvasElement()),N.content.insertBefore(this.getNativeCanvasElement(),M[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(o.Node.prototype.moveToBottom.call(this)){const N=this.getStage();if(N){const M=N.children;N.content&&(N.content.removeChild(this.getNativeCanvasElement()),N.content.insertBefore(this.getNativeCanvasElement(),M[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const N=this.getNativeCanvasElement();return o.Node.prototype.remove.call(this),N&&N.parentNode&&i.Util._isInDocument(N)&&N.parentNode.removeChild(N),this}getStage(){return this.parent}setSize({width:N,height:M}){return this.canvas.setSize(N,M),this.hitCanvas.setSize(N,M),this._setSmoothEnabled(),this}_validateAdd(N){const M=N.getType();M!=="Group"&&M!=="Shape"&&i.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(N){return N=N||{},N.width=N.width||this.getWidth(),N.height=N.height||this.getHeight(),N.x=N.x!==void 0?N.x:this.x(),N.y=N.y!==void 0?N.y:this.y(),o.Node.prototype._toKonvaCanvas.call(this,N)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){i.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){i.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,i.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(N){if(!this.isListening()||!this.isVisible())return null;let M=1,b=!1;for(;;){for(let T=0;T<x;T++){const v=P[T],L=this._getIntersection({x:N.x+v.x*M,y:N.y+v.y*M}),D=L.shape;if(D)return D;if(b=!!L.antialiased,!L.antialiased)break}if(b)M+=1;else return null}}_getIntersection(N){const M=this.hitCanvas.pixelRatio,b=this.hitCanvas.context.getImageData(Math.round(N.x*M),Math.round(N.y*M),1,1).data,T=b[3];if(T===255){const v=i.Util._rgbToHex(b[0],b[1],b[2]),L=f.shapes[m+v];return L?{shape:L}:{antialiased:!0}}else if(T>0)return{antialiased:!0};return{}}drawScene(N,M,b){const T=this.getLayer(),v=N||T&&T.getCanvas();return this._fire(_,{node:this}),this.clearBeforeDraw()&&v.getContext().clear(),t.Container.prototype.drawScene.call(this,v,M,b),this._fire(k,{node:this}),this}drawHit(N,M){const b=this.getLayer(),T=N||b&&b.hitCanvas;return b&&b.clearBeforeDraw()&&b.getHitCanvas().getContext().clear(),t.Container.prototype.drawHit.call(this,T,M),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(N){i.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(N)}getHitGraphEnabled(N){return i.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const N=this.parent;!!this.hitCanvas._canvas.parentNode?N.content.removeChild(this.hitCanvas._canvas):N.content.appendChild(this.hitCanvas._canvas)}destroy(){return i.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}return dc.Layer=w,w.prototype.nodeType="Layer",(0,p._registerNode)(w),a.Factory.addGetterSetter(w,"imageSmoothingEnabled",!0),a.Factory.addGetterSetter(w,"clearBeforeDraw",!0),a.Factory.addGetterSetter(w,"hitGraphEnabled",!0,(0,u.getBooleanValidator)()),dc}var hc={},Ag;function Zy(){if(Ag)return hc;Ag=1,Object.defineProperty(hc,"__esModule",{value:!0}),hc.FastLayer=void 0;const i=qt(),t=Mm(),o=Ke();let a=class extends t.Layer{constructor(u){super(u),this.listening(!1),i.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return hc.FastLayer=a,a.prototype.nodeType="FastLayer",(0,o._registerNode)(a),hc}var fc={},Fg;function ep(){if(Fg)return fc;Fg=1,Object.defineProperty(fc,"__esModule",{value:!0}),fc.Group=void 0;const i=qt(),t=rf(),o=Ke();class a extends t.Container{_validateAdd(u){const f=u.getType();f!=="Group"&&f!=="Shape"&&i.Util.throw("You may only add groups and shapes to groups.")}}return fc.Group=a,a.prototype.nodeType="Group",(0,o._registerNode)(a),fc}var pc={},Og;function tp(){if(Og)return pc;Og=1,Object.defineProperty(pc,"__esModule",{value:!0}),pc.Animation=void 0;const i=Ke(),t=qt(),o=(function(){return i.glob.performance&&i.glob.performance.now?function(){return i.glob.performance.now()}:function(){return new Date().getTime()}})();let a=class ja{constructor(u,f){this.id=ja.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:o(),frameRate:0},this.func=u,this.setLayers(f)}setLayers(u){let f=[];return u&&(f=Array.isArray(u)?u:[u]),this.layers=f,this}getLayers(){return this.layers}addLayer(u){const f=this.layers,p=f.length;for(let m=0;m<p;m++)if(f[m]._id===u._id)return!1;return this.layers.push(u),!0}isRunning(){const f=ja.animations,p=f.length;for(let m=0;m<p;m++)if(f[m].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=o(),ja._addAnimation(this),this}stop(){return ja._removeAnimation(this),this}_updateFrameObject(u){this.frame.timeDiff=u-this.frame.lastTime,this.frame.lastTime=u,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(u){this.animations.push(u),this._handleAnimation()}static _removeAnimation(u){const f=u.id,p=this.animations,m=p.length;for(let _=0;_<m;_++)if(p[_].id===f){this.animations.splice(_,1);break}}static _runFrames(){const u={},f=this.animations;for(let p=0;p<f.length;p++){const m=f[p],_=m.layers,k=m.func;m._updateFrameObject(o());const P=_.length;let x;if(k?x=k.call(m,m.frame)!==!1:x=!0,!!x)for(let w=0;w<P;w++){const C=_[w];C._id!==void 0&&(u[C._id]=C)}}for(const p in u)u.hasOwnProperty(p)&&u[p].batchDraw()}static _animationLoop(){const u=ja;u.animations.length?(u._runFrames(),t.Util.requestAnimFrame(u._animationLoop)):u.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,t.Util.requestAnimFrame(this._animationLoop))}};return pc.Animation=a,a.animations=[],a.animIdCounter=0,a.animRunning=!1,pc}var m0={},zg;function $y(){return zg||(zg=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Easings=i.Tween=void 0;const t=qt(),o=tp(),a=nn(),d=Ke(),u={node:1,duration:1,easing:1,onFinish:1,yoyo:1},f=1,p=2,m=3,_=["fill","stroke","shadowColor"];let k=0;class P{constructor(C,N,M,b,T,v,L){this.prop=C,this.propFunc=N,this.begin=b,this._pos=b,this.duration=v,this._change=0,this.prevPos=0,this.yoyo=L,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=M,this._change=T-this.begin,this.pause()}fire(C){const N=this[C];N&&N()}setTime(C){C>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():C<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=C,this.update())}getTime(){return this._time}setPosition(C){this.prevPos=this._pos,this.propFunc(C),this._pos=C}getPosition(C){return C===void 0&&(C=this._time),this.func(C,this.begin,this._change,this.duration)}play(){this.state=p,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=m,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(C){this.pause(),this._time=C,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const C=this.getTimer()-this._startTime;this.state===p?this.setTime(C):this.state===m&&this.setTime(this.duration-C)}pause(){this.state=f,this.fire("onPause")}getTimer(){return new Date().getTime()}}class x{constructor(C){const N=this,M=C.node,b=M._id,T=C.easing||i.Easings.Linear,v=!!C.yoyo;let L,D;typeof C.duration>"u"?L=.3:C.duration===0?L=.001:L=C.duration,this.node=M,this._id=k++;const j=M.getLayer()||(M instanceof d.Konva.Stage?M.getLayers():null);j||t.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new o.Animation(function(){N.tween.onEnterFrame()},j),this.tween=new P(D,function(H){N._tweenFunc(H)},T,0,1,L*1e3,v),this._addListeners(),x.attrs[b]||(x.attrs[b]={}),x.attrs[b][this._id]||(x.attrs[b][this._id]={}),x.tweens[b]||(x.tweens[b]={});for(D in C)u[D]===void 0&&this._addAttr(D,C[D]);this.reset(),this.onFinish=C.onFinish,this.onReset=C.onReset,this.onUpdate=C.onUpdate}_addAttr(C,N){const M=this.node,b=M._id;let T,v,L,D,j;const H=x.tweens[b][C];H&&delete x.attrs[b][H][C];let I=M.getAttr(C);if(t.Util._isArray(N))if(T=[],v=Math.max(N.length,I.length),C==="points"&&N.length!==I.length&&(N.length>I.length?(D=I,I=t.Util._prepareArrayForTween(I,N,M.closed())):(L=N,N=t.Util._prepareArrayForTween(N,I,M.closed()))),C.indexOf("fill")===0)for(let z=0;z<v;z++)if(z%2===0)T.push(N[z]-I[z]);else{const B=t.Util.colorToRGBA(I[z]);j=t.Util.colorToRGBA(N[z]),I[z]=B,T.push({r:j.r-B.r,g:j.g-B.g,b:j.b-B.b,a:j.a-B.a})}else for(let z=0;z<v;z++)T.push(N[z]-I[z]);else _.indexOf(C)!==-1?(I=t.Util.colorToRGBA(I),j=t.Util.colorToRGBA(N),T={r:j.r-I.r,g:j.g-I.g,b:j.b-I.b,a:j.a-I.a}):T=N-I;x.attrs[b][this._id][C]={start:I,diff:T,end:N,trueEnd:L,trueStart:D},x.tweens[b][C]=this._id}_tweenFunc(C){const N=this.node,M=x.attrs[N._id][this._id];let b,T,v,L,D,j,H,I;for(b in M){if(T=M[b],v=T.start,L=T.diff,I=T.end,t.Util._isArray(v))if(D=[],H=Math.max(v.length,I.length),b.indexOf("fill")===0)for(j=0;j<H;j++)j%2===0?D.push((v[j]||0)+L[j]*C):D.push("rgba("+Math.round(v[j].r+L[j].r*C)+","+Math.round(v[j].g+L[j].g*C)+","+Math.round(v[j].b+L[j].b*C)+","+(v[j].a+L[j].a*C)+")");else for(j=0;j<H;j++)D.push((v[j]||0)+L[j]*C);else _.indexOf(b)!==-1?D="rgba("+Math.round(v.r+L.r*C)+","+Math.round(v.g+L.g*C)+","+Math.round(v.b+L.b*C)+","+(v.a+L.a*C)+")":D=v+L*C;N.setAttr(b,D)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const C=this.node,N=x.attrs[C._id][this._id];N.points&&N.points.trueEnd&&C.setAttr("points",N.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const C=this.node,N=x.attrs[C._id][this._id];N.points&&N.points.trueStart&&C.points(N.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(C){return this.tween.seek(C*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const C=this.node._id,N=this._id,M=x.tweens[C];this.pause(),this.anim&&this.anim.stop();for(const b in M)delete x.tweens[C][b];delete x.attrs[C][N],x.tweens[C]&&(Object.keys(x.tweens[C]).length===0&&delete x.tweens[C],Object.keys(x.attrs[C]).length===0&&delete x.attrs[C])}}i.Tween=x,x.attrs={},x.tweens={},a.Node.prototype.to=function(w){const C=w.onFinish;w.node=this,w.onFinish=function(){this.destroy(),C&&C()},new x(w).play()},i.Easings={BackEaseIn(w,C,N,M){return N*(w/=M)*w*((1.70158+1)*w-1.70158)+C},BackEaseOut(w,C,N,M){return N*((w=w/M-1)*w*((1.70158+1)*w+1.70158)+1)+C},BackEaseInOut(w,C,N,M){let b=1.70158;return(w/=M/2)<1?N/2*(w*w*(((b*=1.525)+1)*w-b))+C:N/2*((w-=2)*w*(((b*=1.525)+1)*w+b)+2)+C},ElasticEaseIn(w,C,N,M,b,T){let v=0;return w===0?C:(w/=M)===1?C+N:(T||(T=M*.3),!b||b<Math.abs(N)?(b=N,v=T/4):v=T/(2*Math.PI)*Math.asin(N/b),-(b*Math.pow(2,10*(w-=1))*Math.sin((w*M-v)*(2*Math.PI)/T))+C)},ElasticEaseOut(w,C,N,M,b,T){let v=0;return w===0?C:(w/=M)===1?C+N:(T||(T=M*.3),!b||b<Math.abs(N)?(b=N,v=T/4):v=T/(2*Math.PI)*Math.asin(N/b),b*Math.pow(2,-10*w)*Math.sin((w*M-v)*(2*Math.PI)/T)+N+C)},ElasticEaseInOut(w,C,N,M,b,T){let v=0;return w===0?C:(w/=M/2)===2?C+N:(T||(T=M*(.3*1.5)),!b||b<Math.abs(N)?(b=N,v=T/4):v=T/(2*Math.PI)*Math.asin(N/b),w<1?-.5*(b*Math.pow(2,10*(w-=1))*Math.sin((w*M-v)*(2*Math.PI)/T))+C:b*Math.pow(2,-10*(w-=1))*Math.sin((w*M-v)*(2*Math.PI)/T)*.5+N+C)},BounceEaseOut(w,C,N,M){return(w/=M)<1/2.75?N*(7.5625*w*w)+C:w<2/2.75?N*(7.5625*(w-=1.5/2.75)*w+.75)+C:w<2.5/2.75?N*(7.5625*(w-=2.25/2.75)*w+.9375)+C:N*(7.5625*(w-=2.625/2.75)*w+.984375)+C},BounceEaseIn(w,C,N,M){return N-i.Easings.BounceEaseOut(M-w,0,N,M)+C},BounceEaseInOut(w,C,N,M){return w<M/2?i.Easings.BounceEaseIn(w*2,0,N,M)*.5+C:i.Easings.BounceEaseOut(w*2-M,0,N,M)*.5+N*.5+C},EaseIn(w,C,N,M){return N*(w/=M)*w+C},EaseOut(w,C,N,M){return-N*(w/=M)*(w-2)+C},EaseInOut(w,C,N,M){return(w/=M/2)<1?N/2*w*w+C:-N/2*(--w*(w-2)-1)+C},StrongEaseIn(w,C,N,M){return N*(w/=M)*w*w*w*w+C},StrongEaseOut(w,C,N,M){return N*((w=w/M-1)*w*w*w*w+1)+C},StrongEaseInOut(w,C,N,M){return(w/=M/2)<1?N/2*w*w*w*w*w+C:N/2*((w-=2)*w*w*w*w+2)+C},Linear(w,C,N,M){return N*w/M+C}}})(m0)),m0}var Ug;function j0(){return Ug||(Ug=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Konva=void 0;const t=Ke(),o=qt(),a=nn(),d=rf(),u=Jy(),f=Mm(),p=Zy(),m=ep(),_=$0(),k=An(),P=tp(),x=$y(),w=Rm(),C=nf();i.Konva=o.Util._assign(t.Konva,{Util:o.Util,Transform:o.Transform,Node:a.Node,Container:d.Container,Stage:u.Stage,stages:u.stages,Layer:f.Layer,FastLayer:p.FastLayer,Group:m.Group,DD:_.DD,Shape:k.Shape,shapes:k.shapes,Animation:P.Animation,Tween:x.Tween,Easings:x.Easings,Context:w.Context,Canvas:C.Canvas}),i.default=i.Konva})(u0)),u0}var gc={},bg;function ev(){if(bg)return gc;bg=1,Object.defineProperty(gc,"__esModule",{value:!0}),gc.Arc=void 0;const i=et(),t=An(),o=Ke(),a=nt(),d=Ke();let u=class extends t.Shape{_sceneFunc(p){const m=o.Konva.getAngle(this.angle()),_=this.clockwise();p.beginPath(),p.arc(0,0,this.outerRadius(),0,m,_),p.arc(0,0,this.innerRadius(),m,0,!_),p.closePath(),p.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(p){this.outerRadius(p/2)}setHeight(p){this.outerRadius(p/2)}getSelfRect(){const p=this.innerRadius(),m=this.outerRadius(),_=this.clockwise(),k=o.Konva.getAngle(_?360-this.angle():this.angle()),P=Math.cos(Math.min(k,Math.PI)),x=1,w=Math.sin(Math.min(Math.max(Math.PI,k),3*Math.PI/2)),C=Math.sin(Math.min(k,Math.PI/2)),N=P*(P>0?p:m),M=x*m,b=w*(w>0?p:m),T=C*(C>0?m:p);return{x:N,y:_?-1*T:b,width:M-N,height:T-b}}};return gc.Arc=u,u.prototype._centroid=!0,u.prototype.className="Arc",u.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],(0,d._registerNode)(u),i.Factory.addGetterSetter(u,"innerRadius",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(u,"outerRadius",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(u,"angle",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(u,"clockwise",!1,(0,a.getBooleanValidator)()),gc}var mc={},yc={},jg;function Dm(){if(jg)return yc;jg=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.Line=void 0;const i=et(),t=Ke(),o=An(),a=nt();function d(p,m,_,k,P,x,w){const C=Math.sqrt(Math.pow(_-p,2)+Math.pow(k-m,2)),N=Math.sqrt(Math.pow(P-_,2)+Math.pow(x-k,2)),M=w*C/(C+N),b=w*N/(C+N),T=_-M*(P-p),v=k-M*(x-m),L=_+b*(P-p),D=k+b*(x-m);return[T,v,L,D]}function u(p,m){const _=p.length,k=[];for(let P=2;P<_-2;P+=2){const x=d(p[P-2],p[P-1],p[P],p[P+1],p[P+2],p[P+3],m);isNaN(x[0])||(k.push(x[0]),k.push(x[1]),k.push(p[P]),k.push(p[P+1]),k.push(x[2]),k.push(x[3]))}return k}class f extends o.Shape{constructor(m){super(m),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(m){const _=this.points(),k=_.length,P=this.tension(),x=this.closed(),w=this.bezier();if(!k)return;let C=0;if(m.beginPath(),m.moveTo(_[0],_[1]),P!==0&&k>4){const N=this.getTensionPoints(),M=N.length;for(C=x?0:4,x||m.quadraticCurveTo(N[0],N[1],N[2],N[3]);C<M-2;)m.bezierCurveTo(N[C++],N[C++],N[C++],N[C++],N[C++],N[C++]);x||m.quadraticCurveTo(N[M-2],N[M-1],_[k-2],_[k-1])}else if(w)for(C=2;C<k;)m.bezierCurveTo(_[C++],_[C++],_[C++],_[C++],_[C++],_[C++]);else for(C=2;C<k;C+=2)m.lineTo(_[C],_[C+1]);x?(m.closePath(),m.fillStrokeShape(this)):m.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():u(this.points(),this.tension())}_getTensionPointsClosed(){const m=this.points(),_=m.length,k=this.tension(),P=d(m[_-2],m[_-1],m[0],m[1],m[2],m[3],k),x=d(m[_-4],m[_-3],m[_-2],m[_-1],m[0],m[1],k),w=u(m,k);return[P[2],P[3]].concat(w).concat([x[0],x[1],m[_-2],m[_-1],x[2],x[3],P[0],P[1],m[0],m[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let m=this.points();if(m.length<4)return{x:m[0]||0,y:m[1]||0,width:0,height:0};this.tension()!==0?m=[m[0],m[1],...this._getTensionPoints(),m[m.length-2],m[m.length-1]]:m=this.points();let _=m[0],k=m[0],P=m[1],x=m[1],w,C;for(let N=0;N<m.length/2;N++)w=m[N*2],C=m[N*2+1],_=Math.min(_,w),k=Math.max(k,w),P=Math.min(P,C),x=Math.max(x,C);return{x:_,y:P,width:k-_,height:x-P}}}return yc.Line=f,f.prototype.className="Line",f.prototype._attrsAffectingSize=["points","bezier","tension"],(0,t._registerNode)(f),i.Factory.addGetterSetter(f,"closed",!1),i.Factory.addGetterSetter(f,"bezier",!1),i.Factory.addGetterSetter(f,"tension",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(f,"points",[],(0,a.getNumberArrayValidator)()),yc}var vc={},y0={},Bg;function tv(){return Bg||(Bg=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.t2length=i.getQuadraticArcLength=i.getCubicArcLength=i.binomialCoefficients=i.cValues=i.tValues=void 0,i.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],i.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],i.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const t=(f,p,m)=>{let _,k;const x=m/2;_=0;for(let w=0;w<20;w++)k=x*i.tValues[20][w]+x,_+=i.cValues[20][w]*a(f,p,k);return x*_};i.getCubicArcLength=t;const o=(f,p,m)=>{m===void 0&&(m=1);const _=f[0]-2*f[1]+f[2],k=p[0]-2*p[1]+p[2],P=2*f[1]-2*f[0],x=2*p[1]-2*p[0],w=4*(_*_+k*k),C=4*(_*P+k*x),N=P*P+x*x;if(w===0)return m*Math.sqrt(Math.pow(f[2]-f[0],2)+Math.pow(p[2]-p[0],2));const M=C/(2*w),b=N/w,T=m+M,v=b-M*M,L=T*T+v>0?Math.sqrt(T*T+v):0,D=M*M+v>0?Math.sqrt(M*M+v):0,j=M+Math.sqrt(M*M+v)!==0?v*Math.log(Math.abs((T+L)/(M+D))):0;return Math.sqrt(w)/2*(T*L-M*D+j)};i.getQuadraticArcLength=o;function a(f,p,m){const _=d(1,m,f),k=d(1,m,p),P=_*_+k*k;return Math.sqrt(P)}const d=(f,p,m)=>{const _=m.length-1;let k,P;if(_===0)return 0;if(f===0){P=0;for(let x=0;x<=_;x++)P+=i.binomialCoefficients[_][x]*Math.pow(1-p,_-x)*Math.pow(p,x)*m[x];return P}else{k=new Array(_);for(let x=0;x<_;x++)k[x]=_*(m[x+1]-m[x]);return d(f-1,p,k)}},u=(f,p,m)=>{let _=1,k=f/p,P=(f-m(k))/p,x=0;for(;_>.001;){const w=m(k+P),C=Math.abs(f-w)/p;if(C<_)_=C,k+=P;else{const N=m(k-P),M=Math.abs(f-N)/p;M<_?(_=M,k-=P):P/=2}if(x++,x>500)break}return k};i.t2length=u})(y0)),y0}var Gg;function np(){if(Gg)return vc;Gg=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.Path=void 0;const i=et(),t=Ke(),o=An(),a=tv();let d=class Dr extends o.Shape{constructor(f){super(f),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Dr.parsePathData(this.data()),this.pathLength=Dr.getPathLength(this.dataArray)}_sceneFunc(f){const p=this.dataArray;f.beginPath();let m=!1;for(let _=0;_<p.length;_++){const k=p[_].command,P=p[_].points;switch(k){case"L":f.lineTo(P[0],P[1]);break;case"M":f.moveTo(P[0],P[1]);break;case"C":f.bezierCurveTo(P[0],P[1],P[2],P[3],P[4],P[5]);break;case"Q":f.quadraticCurveTo(P[0],P[1],P[2],P[3]);break;case"A":const x=P[0],w=P[1],C=P[2],N=P[3],M=P[4],b=P[5],T=P[6],v=P[7],L=C>N?C:N,D=C>N?1:C/N,j=C>N?N/C:1;f.translate(x,w),f.rotate(T),f.scale(D,j),f.arc(0,0,L,M,M+b,1-v),f.scale(1/D,1/j),f.rotate(-T),f.translate(-x,-w);break;case"z":m=!0,f.closePath();break}}!m&&!this.hasFill()?f.strokeShape(this):f.fillStrokeShape(this)}getSelfRect(){let f=[];this.dataArray.forEach(function(w){if(w.command==="A"){const C=w.points[4],N=w.points[5],M=w.points[4]+N;let b=Math.PI/180;if(Math.abs(C-M)<b&&(b=Math.abs(C-M)),N<0)for(let T=C-b;T>M;T-=b){const v=Dr.getPointOnEllipticalArc(w.points[0],w.points[1],w.points[2],w.points[3],T,0);f.push(v.x,v.y)}else for(let T=C+b;T<M;T+=b){const v=Dr.getPointOnEllipticalArc(w.points[0],w.points[1],w.points[2],w.points[3],T,0);f.push(v.x,v.y)}}else if(w.command==="C")for(let C=0;C<=1;C+=.01){const N=Dr.getPointOnCubicBezier(C,w.start.x,w.start.y,w.points[0],w.points[1],w.points[2],w.points[3],w.points[4],w.points[5]);f.push(N.x,N.y)}else f=f.concat(w.points)});let p=f[0],m=f[0],_=f[1],k=f[1],P,x;for(let w=0;w<f.length/2;w++)P=f[w*2],x=f[w*2+1],isNaN(P)||(p=Math.min(p,P),m=Math.max(m,P)),isNaN(x)||(_=Math.min(_,x),k=Math.max(k,x));return{x:p,y:_,width:m-p,height:k-_}}getLength(){return this.pathLength}getPointAtLength(f){return Dr.getPointAtLengthOfDataArray(f,this.dataArray)}static getLineLength(f,p,m,_){return Math.sqrt((m-f)*(m-f)+(_-p)*(_-p))}static getPathLength(f){let p=0;for(let m=0;m<f.length;++m)p+=f[m].pathLength;return p}static getPointAtLengthOfDataArray(f,p){let m,_=0,k=p.length;if(!k)return null;for(;_<k&&f>p[_].pathLength;)f-=p[_].pathLength,++_;if(_===k)return m=p[_-1].points.slice(-2),{x:m[0],y:m[1]};if(f<.01)return p[_].command==="M"?(m=p[_].points.slice(0,2),{x:m[0],y:m[1]}):{x:p[_].start.x,y:p[_].start.y};const P=p[_],x=P.points;switch(P.command){case"L":return Dr.getPointOnLine(f,P.start.x,P.start.y,x[0],x[1]);case"C":return Dr.getPointOnCubicBezier((0,a.t2length)(f,Dr.getPathLength(p),L=>(0,a.getCubicArcLength)([P.start.x,x[0],x[2],x[4]],[P.start.y,x[1],x[3],x[5]],L)),P.start.x,P.start.y,x[0],x[1],x[2],x[3],x[4],x[5]);case"Q":return Dr.getPointOnQuadraticBezier((0,a.t2length)(f,Dr.getPathLength(p),L=>(0,a.getQuadraticArcLength)([P.start.x,x[0],x[2]],[P.start.y,x[1],x[3]],L)),P.start.x,P.start.y,x[0],x[1],x[2],x[3]);case"A":const w=x[0],C=x[1],N=x[2],M=x[3],b=x[5],T=x[6];let v=x[4];return v+=b*f/P.pathLength,Dr.getPointOnEllipticalArc(w,C,N,M,v,T)}return null}static getPointOnLine(f,p,m,_,k,P,x){P=P??p,x=x??m;const w=this.getLineLength(p,m,_,k);if(w<1e-10)return{x:p,y:m};if(_===p)return{x:P,y:x+(k>m?f:-f)};const C=(k-m)/(_-p),N=Math.sqrt(f*f/(1+C*C))*(_<p?-1:1),M=C*N;if(Math.abs(x-m-C*(P-p))<1e-10)return{x:P+N,y:x+M};const b=((P-p)*(_-p)+(x-m)*(k-m))/(w*w),T=p+b*(_-p),v=m+b*(k-m),L=this.getLineLength(P,x,T,v),D=Math.sqrt(f*f-L*L),j=Math.sqrt(D*D/(1+C*C))*(_<p?-1:1),H=C*j;return{x:T+j,y:v+H}}static getPointOnCubicBezier(f,p,m,_,k,P,x,w,C){function N(D){return D*D*D}function M(D){return 3*D*D*(1-D)}function b(D){return 3*D*(1-D)*(1-D)}function T(D){return(1-D)*(1-D)*(1-D)}const v=w*N(f)+P*M(f)+_*b(f)+p*T(f),L=C*N(f)+x*M(f)+k*b(f)+m*T(f);return{x:v,y:L}}static getPointOnQuadraticBezier(f,p,m,_,k,P,x){function w(T){return T*T}function C(T){return 2*T*(1-T)}function N(T){return(1-T)*(1-T)}const M=P*w(f)+_*C(f)+p*N(f),b=x*w(f)+k*C(f)+m*N(f);return{x:M,y:b}}static getPointOnEllipticalArc(f,p,m,_,k,P){const x=Math.cos(P),w=Math.sin(P),C={x:m*Math.cos(k),y:_*Math.sin(k)};return{x:f+(C.x*x-C.y*w),y:p+(C.x*w+C.y*x)}}static parsePathData(f){if(!f)return[];let p=f;const m=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];p=p.replace(new RegExp(" ","g"),",");for(let M=0;M<m.length;M++)p=p.replace(new RegExp(m[M],"g"),"|"+m[M]);const _=p.split("|"),k=[],P=[];let x=0,w=0;const C=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let N;for(let M=1;M<_.length;M++){let b=_[M],T=b.charAt(0);for(b=b.slice(1),P.length=0;N=C.exec(b);)P.push(N[0]);const v=[];for(let L=0,D=P.length;L<D;L++){if(P[L]==="00"){v.push(0,0);continue}const j=parseFloat(P[L]);isNaN(j)?v.push(0):v.push(j)}for(;v.length>0&&!isNaN(v[0]);){let L="",D=[];const j=x,H=w;let I,z,B,q,K,ee,ne,$,pe,A;switch(T){case"l":x+=v.shift(),w+=v.shift(),L="L",D.push(x,w);break;case"L":x=v.shift(),w=v.shift(),D.push(x,w);break;case"m":const U=v.shift(),W=v.shift();if(x+=U,w+=W,L="M",k.length>2&&k[k.length-1].command==="z"){for(let G=k.length-2;G>=0;G--)if(k[G].command==="M"){x=k[G].points[0]+U,w=k[G].points[1]+W;break}}D.push(x,w),T="l";break;case"M":x=v.shift(),w=v.shift(),L="M",D.push(x,w),T="L";break;case"h":x+=v.shift(),L="L",D.push(x,w);break;case"H":x=v.shift(),L="L",D.push(x,w);break;case"v":w+=v.shift(),L="L",D.push(x,w);break;case"V":w=v.shift(),L="L",D.push(x,w);break;case"C":D.push(v.shift(),v.shift(),v.shift(),v.shift()),x=v.shift(),w=v.shift(),D.push(x,w);break;case"c":D.push(x+v.shift(),w+v.shift(),x+v.shift(),w+v.shift()),x+=v.shift(),w+=v.shift(),L="C",D.push(x,w);break;case"S":z=x,B=w,I=k[k.length-1],I.command==="C"&&(z=x+(x-I.points[2]),B=w+(w-I.points[3])),D.push(z,B,v.shift(),v.shift()),x=v.shift(),w=v.shift(),L="C",D.push(x,w);break;case"s":z=x,B=w,I=k[k.length-1],I.command==="C"&&(z=x+(x-I.points[2]),B=w+(w-I.points[3])),D.push(z,B,x+v.shift(),w+v.shift()),x+=v.shift(),w+=v.shift(),L="C",D.push(x,w);break;case"Q":D.push(v.shift(),v.shift()),x=v.shift(),w=v.shift(),D.push(x,w);break;case"q":D.push(x+v.shift(),w+v.shift()),x+=v.shift(),w+=v.shift(),L="Q",D.push(x,w);break;case"T":z=x,B=w,I=k[k.length-1],I.command==="Q"&&(z=x+(x-I.points[0]),B=w+(w-I.points[1])),x=v.shift(),w=v.shift(),L="Q",D.push(z,B,x,w);break;case"t":z=x,B=w,I=k[k.length-1],I.command==="Q"&&(z=x+(x-I.points[0]),B=w+(w-I.points[1])),x+=v.shift(),w+=v.shift(),L="Q",D.push(z,B,x,w);break;case"A":q=v.shift(),K=v.shift(),ee=v.shift(),ne=v.shift(),$=v.shift(),pe=x,A=w,x=v.shift(),w=v.shift(),L="A",D=this.convertEndpointToCenterParameterization(pe,A,x,w,ne,$,q,K,ee);break;case"a":q=v.shift(),K=v.shift(),ee=v.shift(),ne=v.shift(),$=v.shift(),pe=x,A=w,x+=v.shift(),w+=v.shift(),L="A",D=this.convertEndpointToCenterParameterization(pe,A,x,w,ne,$,q,K,ee);break}k.push({command:L||T,points:D,start:{x:j,y:H},pathLength:this.calcLength(j,H,L||T,D)})}(T==="z"||T==="Z")&&k.push({command:"z",points:[],start:void 0,pathLength:0})}return k}static calcLength(f,p,m,_){let k,P,x,w;const C=Dr;switch(m){case"L":return C.getLineLength(f,p,_[0],_[1]);case"C":return(0,a.getCubicArcLength)([f,_[0],_[2],_[4]],[p,_[1],_[3],_[5]],1);case"Q":return(0,a.getQuadraticArcLength)([f,_[0],_[2]],[p,_[1],_[3]],1);case"A":k=0;const N=_[4],M=_[5],b=_[4]+M;let T=Math.PI/180;if(Math.abs(N-b)<T&&(T=Math.abs(N-b)),P=C.getPointOnEllipticalArc(_[0],_[1],_[2],_[3],N,0),M<0)for(w=N-T;w>b;w-=T)x=C.getPointOnEllipticalArc(_[0],_[1],_[2],_[3],w,0),k+=C.getLineLength(P.x,P.y,x.x,x.y),P=x;else for(w=N+T;w<b;w+=T)x=C.getPointOnEllipticalArc(_[0],_[1],_[2],_[3],w,0),k+=C.getLineLength(P.x,P.y,x.x,x.y),P=x;return x=C.getPointOnEllipticalArc(_[0],_[1],_[2],_[3],b,0),k+=C.getLineLength(P.x,P.y,x.x,x.y),k}return 0}static convertEndpointToCenterParameterization(f,p,m,_,k,P,x,w,C){const N=C*(Math.PI/180),M=Math.cos(N)*(f-m)/2+Math.sin(N)*(p-_)/2,b=-1*Math.sin(N)*(f-m)/2+Math.cos(N)*(p-_)/2,T=M*M/(x*x)+b*b/(w*w);T>1&&(x*=Math.sqrt(T),w*=Math.sqrt(T));let v=Math.sqrt((x*x*(w*w)-x*x*(b*b)-w*w*(M*M))/(x*x*(b*b)+w*w*(M*M)));k===P&&(v*=-1),isNaN(v)&&(v=0);const L=v*x*b/w,D=v*-w*M/x,j=(f+m)/2+Math.cos(N)*L-Math.sin(N)*D,H=(p+_)/2+Math.sin(N)*L+Math.cos(N)*D,I=function($){return Math.sqrt($[0]*$[0]+$[1]*$[1])},z=function($,pe){return($[0]*pe[0]+$[1]*pe[1])/(I($)*I(pe))},B=function($,pe){return($[0]*pe[1]<$[1]*pe[0]?-1:1)*Math.acos(z($,pe))},q=B([1,0],[(M-L)/x,(b-D)/w]),K=[(M-L)/x,(b-D)/w],ee=[(-1*M-L)/x,(-1*b-D)/w];let ne=B(K,ee);return z(K,ee)<=-1&&(ne=Math.PI),z(K,ee)>=1&&(ne=0),P===0&&ne>0&&(ne=ne-2*Math.PI),P===1&&ne<0&&(ne=ne+2*Math.PI),[j,H,x,w,q,ne,N,P]}};return vc.Path=d,d.prototype.className="Path",d.prototype._attrsAffectingSize=["data"],(0,t._registerNode)(d),i.Factory.addGetterSetter(d,"data"),vc}var Vg;function nv(){if(Vg)return mc;Vg=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.Arrow=void 0;const i=et(),t=Dm(),o=nt(),a=Ke(),d=np();let u=class extends t.Line{_sceneFunc(p){super._sceneFunc(p);const m=Math.PI*2,_=this.points();let k=_;const P=this.tension()!==0&&_.length>4;P&&(k=this.getTensionPoints());const x=this.pointerLength(),w=_.length;let C,N;if(P){const T=[k[k.length-4],k[k.length-3],k[k.length-2],k[k.length-1],_[w-2],_[w-1]],v=d.Path.calcLength(k[k.length-4],k[k.length-3],"C",T),L=d.Path.getPointOnQuadraticBezier(Math.min(1,1-x/v),T[0],T[1],T[2],T[3],T[4],T[5]);C=_[w-2]-L.x,N=_[w-1]-L.y}else C=_[w-2]-_[w-4],N=_[w-1]-_[w-3];const M=(Math.atan2(N,C)+m)%m,b=this.pointerWidth();this.pointerAtEnding()&&(p.save(),p.beginPath(),p.translate(_[w-2],_[w-1]),p.rotate(M),p.moveTo(0,0),p.lineTo(-x,b/2),p.lineTo(-x,-b/2),p.closePath(),p.restore(),this.__fillStroke(p)),this.pointerAtBeginning()&&(p.save(),p.beginPath(),p.translate(_[0],_[1]),P?(C=(k[0]+k[2])/2-_[0],N=(k[1]+k[3])/2-_[1]):(C=_[2]-_[0],N=_[3]-_[1]),p.rotate((Math.atan2(-N,-C)+m)%m),p.moveTo(0,0),p.lineTo(-x,b/2),p.lineTo(-x,-b/2),p.closePath(),p.restore(),this.__fillStroke(p))}__fillStroke(p){const m=this.dashEnabled();m&&(this.attrs.dashEnabled=!1,p.setLineDash([])),p.fillStrokeShape(this),m&&(this.attrs.dashEnabled=!0)}getSelfRect(){const p=super.getSelfRect(),m=this.pointerWidth()/2;return{x:p.x,y:p.y-m,width:p.width,height:p.height+m*2}}};return mc.Arrow=u,u.prototype.className="Arrow",(0,a._registerNode)(u),i.Factory.addGetterSetter(u,"pointerLength",10,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(u,"pointerWidth",10,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(u,"pointerAtBeginning",!1),i.Factory.addGetterSetter(u,"pointerAtEnding",!0),mc}var _c={},Hg;function rv(){if(Hg)return _c;Hg=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.Circle=void 0;const i=et(),t=An(),o=nt(),a=Ke();class d extends t.Shape{_sceneFunc(f){f.beginPath(),f.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),f.closePath(),f.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(f){this.radius()!==f/2&&this.radius(f/2)}setHeight(f){this.radius()!==f/2&&this.radius(f/2)}}return _c.Circle=d,d.prototype._centroid=!0,d.prototype.className="Circle",d.prototype._attrsAffectingSize=["radius"],(0,a._registerNode)(d),i.Factory.addGetterSetter(d,"radius",0,(0,o.getNumberValidator)()),_c}var Sc={},Wg;function iv(){if(Wg)return Sc;Wg=1,Object.defineProperty(Sc,"__esModule",{value:!0}),Sc.Ellipse=void 0;const i=et(),t=An(),o=nt(),a=Ke();class d extends t.Shape{_sceneFunc(f){const p=this.radiusX(),m=this.radiusY();f.beginPath(),f.save(),p!==m&&f.scale(1,m/p),f.arc(0,0,p,0,Math.PI*2,!1),f.restore(),f.closePath(),f.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(f){this.radiusX(f/2)}setHeight(f){this.radiusY(f/2)}}return Sc.Ellipse=d,d.prototype.className="Ellipse",d.prototype._centroid=!0,d.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,a._registerNode)(d),i.Factory.addComponentsGetterSetter(d,"radius",["x","y"]),i.Factory.addGetterSetter(d,"radiusX",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(d,"radiusY",0,(0,o.getNumberValidator)()),Sc}var wc={},Yg;function sv(){if(Yg)return wc;Yg=1,Object.defineProperty(wc,"__esModule",{value:!0}),wc.Image=void 0;const i=qt(),t=et(),o=An(),a=Ke(),d=nt();class u extends o.Shape{constructor(p){super(p),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",m=>{this._removeImageLoad(m.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const p=this.image();p&&p.complete||p&&p.readyState===4||p&&p.addEventListener&&p.addEventListener("load",this._loadListener)}_removeImageLoad(p){p&&p.removeEventListener&&p.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const p=!!this.cornerRadius(),m=this.hasShadow();return p&&m?!0:super._useBufferCanvas(!0)}_sceneFunc(p){const m=this.getWidth(),_=this.getHeight(),k=this.cornerRadius(),P=this.attrs.image;let x;if(P){const w=this.attrs.cropWidth,C=this.attrs.cropHeight;w&&C?x=[P,this.cropX(),this.cropY(),w,C,0,0,m,_]:x=[P,0,0,m,_]}(this.hasFill()||this.hasStroke()||k)&&(p.beginPath(),k?i.Util.drawRoundedRectPath(p,m,_,k):p.rect(0,0,m,_),p.closePath(),p.fillStrokeShape(this)),P&&(k&&p.clip(),p.drawImage.apply(p,x))}_hitFunc(p){const m=this.width(),_=this.height(),k=this.cornerRadius();p.beginPath(),k?i.Util.drawRoundedRectPath(p,m,_,k):p.rect(0,0,m,_),p.closePath(),p.fillStrokeShape(this)}getWidth(){var p,m;return(p=this.attrs.width)!==null&&p!==void 0?p:(m=this.image())===null||m===void 0?void 0:m.width}getHeight(){var p,m;return(p=this.attrs.height)!==null&&p!==void 0?p:(m=this.image())===null||m===void 0?void 0:m.height}static fromURL(p,m,_=null){const k=i.Util.createImageElement();k.onload=function(){const P=new u({image:k});m(P)},k.onerror=_,k.crossOrigin="Anonymous",k.src=p}}return wc.Image=u,u.prototype.className="Image",(0,a._registerNode)(u),t.Factory.addGetterSetter(u,"cornerRadius",0,(0,d.getNumberOrArrayOfNumbersValidator)(4)),t.Factory.addGetterSetter(u,"image"),t.Factory.addComponentsGetterSetter(u,"crop",["x","y","width","height"]),t.Factory.addGetterSetter(u,"cropX",0,(0,d.getNumberValidator)()),t.Factory.addGetterSetter(u,"cropY",0,(0,d.getNumberValidator)()),t.Factory.addGetterSetter(u,"cropWidth",0,(0,d.getNumberValidator)()),t.Factory.addGetterSetter(u,"cropHeight",0,(0,d.getNumberValidator)()),wc}var Cl={},qg;function ov(){if(qg)return Cl;qg=1,Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.Tag=Cl.Label=void 0;const i=et(),t=An(),o=ep(),a=nt(),d=Ke(),u=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],f="Change.konva",p="none",m="up",_="right",k="down",P="left",x=u.length;class w extends o.Group{constructor(M){super(M),this.on("add.konva",function(b){this._addListeners(b.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(M){let b=this,T;const v=function(){b._sync()};for(T=0;T<x;T++)M.on(u[T]+f,v)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let M=this.getText(),b=this.getTag(),T,v,L,D,j,H,I;if(M&&b){switch(T=M.width(),v=M.height(),L=b.pointerDirection(),D=b.pointerWidth(),I=b.pointerHeight(),j=0,H=0,L){case m:j=T/2,H=-1*I;break;case _:j=T+D,H=v/2;break;case k:j=T/2,H=v+I;break;case P:j=-1*D,H=v/2;break}b.setAttrs({x:-1*j,y:-1*H,width:T,height:v}),M.setAttrs({x:-1*j,y:-1*H})}}}Cl.Label=w,w.prototype.className="Label",(0,d._registerNode)(w);class C extends t.Shape{_sceneFunc(M){const b=this.width(),T=this.height(),v=this.pointerDirection(),L=this.pointerWidth(),D=this.pointerHeight(),j=this.cornerRadius();let H=0,I=0,z=0,B=0;typeof j=="number"?H=I=z=B=Math.min(j,b/2,T/2):(H=Math.min(j[0]||0,b/2,T/2),I=Math.min(j[1]||0,b/2,T/2),B=Math.min(j[2]||0,b/2,T/2),z=Math.min(j[3]||0,b/2,T/2)),M.beginPath(),M.moveTo(H,0),v===m&&(M.lineTo((b-L)/2,0),M.lineTo(b/2,-1*D),M.lineTo((b+L)/2,0)),M.lineTo(b-I,0),M.arc(b-I,I,I,Math.PI*3/2,0,!1),v===_&&(M.lineTo(b,(T-D)/2),M.lineTo(b+L,T/2),M.lineTo(b,(T+D)/2)),M.lineTo(b,T-B),M.arc(b-B,T-B,B,0,Math.PI/2,!1),v===k&&(M.lineTo((b+L)/2,T),M.lineTo(b/2,T+D),M.lineTo((b-L)/2,T)),M.lineTo(z,T),M.arc(z,T-z,z,Math.PI/2,Math.PI,!1),v===P&&(M.lineTo(0,(T+D)/2),M.lineTo(-1*L,T/2),M.lineTo(0,(T-D)/2)),M.lineTo(0,H),M.arc(H,H,H,Math.PI,Math.PI*3/2,!1),M.closePath(),M.fillStrokeShape(this)}getSelfRect(){let M=0,b=0,T=this.pointerWidth(),v=this.pointerHeight(),L=this.pointerDirection(),D=this.width(),j=this.height();return L===m?(b-=v,j+=v):L===k?j+=v:L===P?(M-=T*1.5,D+=T):L===_&&(D+=T*1.5),{x:M,y:b,width:D,height:j}}}return Cl.Tag=C,C.prototype.className="Tag",(0,d._registerNode)(C),i.Factory.addGetterSetter(C,"pointerDirection",p),i.Factory.addGetterSetter(C,"pointerWidth",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(C,"pointerHeight",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(C,"cornerRadius",0,(0,a.getNumberOrArrayOfNumbersValidator)(4)),Cl}var kc={},Xg;function Im(){if(Xg)return kc;Xg=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.Rect=void 0;const i=et(),t=An(),o=Ke(),a=qt(),d=nt();class u extends t.Shape{_sceneFunc(p){const m=this.cornerRadius(),_=this.width(),k=this.height();p.beginPath(),m?a.Util.drawRoundedRectPath(p,_,k,m):p.rect(0,0,_,k),p.closePath(),p.fillStrokeShape(this)}}return kc.Rect=u,u.prototype.className="Rect",(0,o._registerNode)(u),i.Factory.addGetterSetter(u,"cornerRadius",0,(0,d.getNumberOrArrayOfNumbersValidator)(4)),kc}var xc={},Kg;function lv(){if(Kg)return xc;Kg=1,Object.defineProperty(xc,"__esModule",{value:!0}),xc.RegularPolygon=void 0;const i=et(),t=An(),o=nt(),a=Ke();let d=class extends t.Shape{_sceneFunc(f){const p=this._getPoints();f.beginPath(),f.moveTo(p[0].x,p[0].y);for(let m=1;m<p.length;m++)f.lineTo(p[m].x,p[m].y);f.closePath(),f.fillStrokeShape(this)}_getPoints(){const f=this.attrs.sides,p=this.attrs.radius||0,m=[];for(let _=0;_<f;_++)m.push({x:p*Math.sin(_*2*Math.PI/f),y:-1*p*Math.cos(_*2*Math.PI/f)});return m}getSelfRect(){const f=this._getPoints();let p=f[0].x,m=f[0].y,_=f[0].x,k=f[0].y;return f.forEach(P=>{p=Math.min(p,P.x),m=Math.max(m,P.x),_=Math.min(_,P.y),k=Math.max(k,P.y)}),{x:p,y:_,width:m-p,height:k-_}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(f){this.radius(f/2)}setHeight(f){this.radius(f/2)}};return xc.RegularPolygon=d,d.prototype.className="RegularPolygon",d.prototype._centroid=!0,d.prototype._attrsAffectingSize=["radius"],(0,a._registerNode)(d),i.Factory.addGetterSetter(d,"radius",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(d,"sides",0,(0,o.getNumberValidator)()),xc}var Cc={},Qg;function av(){if(Qg)return Cc;Qg=1,Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.Ring=void 0;const i=et(),t=An(),o=nt(),a=Ke(),d=Math.PI*2;let u=class extends t.Shape{_sceneFunc(p){p.beginPath(),p.arc(0,0,this.innerRadius(),0,d,!1),p.moveTo(this.outerRadius(),0),p.arc(0,0,this.outerRadius(),d,0,!0),p.closePath(),p.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(p){this.outerRadius(p/2)}setHeight(p){this.outerRadius(p/2)}};return Cc.Ring=u,u.prototype.className="Ring",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,a._registerNode)(u),i.Factory.addGetterSetter(u,"innerRadius",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(u,"outerRadius",0,(0,o.getNumberValidator)()),Cc}var Ec={},Jg;function uv(){if(Jg)return Ec;Jg=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.Sprite=void 0;const i=et(),t=An(),o=tp(),a=nt(),d=Ke();let u=class extends t.Shape{constructor(p){super(p),this._updated=!0,this.anim=new o.Animation(()=>{const m=this._updated;return this._updated=!1,m}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(p){const m=this.animation(),_=this.frameIndex(),k=_*4,P=this.animations()[m],x=this.frameOffsets(),w=P[k+0],C=P[k+1],N=P[k+2],M=P[k+3],b=this.image();if((this.hasFill()||this.hasStroke())&&(p.beginPath(),p.rect(0,0,N,M),p.closePath(),p.fillStrokeShape(this)),b)if(x){const T=x[m],v=_*2;p.drawImage(b,w,C,N,M,T[v+0],T[v+1],N,M)}else p.drawImage(b,w,C,N,M,0,0,N,M)}_hitFunc(p){const m=this.animation(),_=this.frameIndex(),k=_*4,P=this.animations()[m],x=this.frameOffsets(),w=P[k+2],C=P[k+3];if(p.beginPath(),x){const N=x[m],M=_*2;p.rect(N[M+0],N[M+1],w,C)}else p.rect(0,0,w,C);p.closePath(),p.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const p=this;this.interval=setInterval(function(){p._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const p=this.getLayer();this.anim.setLayers(p),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const p=this.frameIndex(),m=this.animation(),_=this.animations(),k=_[m],P=k.length/4;p<P-1?this.frameIndex(p+1):this.frameIndex(0)}};return Ec.Sprite=u,u.prototype.className="Sprite",(0,d._registerNode)(u),i.Factory.addGetterSetter(u,"animation"),i.Factory.addGetterSetter(u,"animations"),i.Factory.addGetterSetter(u,"frameOffsets"),i.Factory.addGetterSetter(u,"image"),i.Factory.addGetterSetter(u,"frameIndex",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(u,"frameRate",17,(0,a.getNumberValidator)()),i.Factory.backCompat(u,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Ec}var Pc={},Zg;function cv(){if(Zg)return Pc;Zg=1,Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.Star=void 0;const i=et(),t=An(),o=nt(),a=Ke();let d=class extends t.Shape{_sceneFunc(f){const p=this.innerRadius(),m=this.outerRadius(),_=this.numPoints();f.beginPath(),f.moveTo(0,0-m);for(let k=1;k<_*2;k++){const P=k%2===0?m:p,x=P*Math.sin(k*Math.PI/_),w=-1*P*Math.cos(k*Math.PI/_);f.lineTo(x,w)}f.closePath(),f.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(f){this.outerRadius(f/2)}setHeight(f){this.outerRadius(f/2)}};return Pc.Star=d,d.prototype.className="Star",d.prototype._centroid=!0,d.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,a._registerNode)(d),i.Factory.addGetterSetter(d,"numPoints",5,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(d,"innerRadius",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(d,"outerRadius",0,(0,o.getNumberValidator)()),Pc}var Ua={},$g;function Am(){if($g)return Ua;$g=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.Text=void 0,Ua.stringToArray=f;const i=qt(),t=et(),o=An(),a=Ke(),d=nt(),u=Ke();function f(Q){return[...Q].reduce((Z,he,me,le)=>{if(new RegExp("\\p{Emoji}","u").test(he)){const Y=le[me+1];Y&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(Y)?(Z.push(he+Y),le[me+1]=""):Z.push(he)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(he+(le[me+1]||""))?Z.push(he+le[me+1]):me>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(he)?Z[Z.length-1]+=he:he&&Z.push(he);return Z},[])}const p="auto",m="center",_="inherit",k="justify",P="Change.konva",x="2d",w="-",C="left",N="text",M="Text",b="top",T="bottom",v="middle",L="normal",D="px ",j=" ",H="right",I="rtl",z="word",B="char",q="none",K="",ee=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],ne=ee.length;function $(Q){return Q.split(",").map(Z=>{Z=Z.trim();const he=Z.indexOf(" ")>=0,me=Z.indexOf('"')>=0||Z.indexOf("'")>=0;return he&&!me&&(Z=`"${Z}"`),Z}).join(", ")}let pe;function A(){return pe||(pe=i.Util.createCanvasElement().getContext(x),pe)}function U(Q){Q.fillText(this._partialText,this._partialTextX,this._partialTextY)}function W(Q){Q.setAttr("miterLimit",2),Q.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function G(Q){return Q=Q||{},!Q.fillLinearGradientColorStops&&!Q.fillRadialGradientColorStops&&!Q.fillPatternImage&&(Q.fill=Q.fill||"black"),Q}class F extends o.Shape{constructor(Z){super(G(Z)),this._partialTextX=0,this._partialTextY=0;for(let he=0;he<ne;he++)this.on(ee[he]+P,this._setTextData);this._setTextData()}_sceneFunc(Z){const he=this.textArr,me=he.length;if(!this.text())return;let le=this.padding(),Y=this.fontSize(),se=this.lineHeight()*Y,ye=this.verticalAlign(),xe=this.direction(),Pe=0,be=this.align(),Oe=this.getWidth(),rt=this.letterSpacing(),Ge=this.fill(),jt=this.textDecoration(),ot=jt.indexOf("underline")!==-1,Et=jt.indexOf("line-through")!==-1,Hr;xe=xe===_?Z.direction:xe;let Dt=se/2,Sr=v;if(a.Konva._fixTextRendering){const ht=this.measureSize("M");Sr="alphabetic",Dt=(ht.fontBoundingBoxAscent-ht.fontBoundingBoxDescent)/2+se/2}for(xe===I&&Z.setAttr("direction",xe),Z.setAttr("font",this._getContextFont()),Z.setAttr("textBaseline",Sr),Z.setAttr("textAlign",C),ye===v?Pe=(this.getHeight()-me*se-le*2)/2:ye===T&&(Pe=this.getHeight()-me*se-le*2),Z.translate(le,Pe+le),Hr=0;Hr<me;Hr++){let ht=0,Xn=0;const dn=he[Hr],Wr=dn.text,hn=dn.width,wr=dn.lastInParagraph;if(Z.save(),be===H?ht+=Oe-hn-le*2:be===m&&(ht+=(Oe-hn-le*2)/2),ot){Z.save(),Z.beginPath();const kn=a.Konva._fixTextRendering?Math.round(Y/4):Math.round(Y/2),or=ht,Bt=Dt+Xn+kn;Z.moveTo(or,Bt);const Gt=be===k&&!wr?Oe-le*2:hn;Z.lineTo(or+Math.round(Gt),Bt),Z.lineWidth=Y/15;const ns=this._getLinearGradient();Z.strokeStyle=ns||Ge,Z.stroke(),Z.restore()}if(Et){Z.save(),Z.beginPath();const kn=a.Konva._fixTextRendering?-Math.round(Y/4):0;Z.moveTo(ht,Dt+Xn+kn);const or=be===k&&!wr?Oe-le*2:hn;Z.lineTo(ht+Math.round(or),Dt+Xn+kn),Z.lineWidth=Y/15;const Bt=this._getLinearGradient();Z.strokeStyle=Bt||Ge,Z.stroke(),Z.restore()}if(xe!==I&&(rt!==0||be===k)){const kn=Wr.split(" ").length-1,or=f(Wr);for(let Bt=0;Bt<or.length;Bt++){const Gt=or[Bt];Gt===" "&&!wr&&be===k&&(ht+=(Oe-le*2-hn)/kn),this._partialTextX=ht,this._partialTextY=Dt+Xn,this._partialText=Gt,Z.fillStrokeShape(this),ht+=this.measureSize(Gt).width+rt}}else rt!==0&&Z.setAttr("letterSpacing",`${rt}px`),this._partialTextX=ht,this._partialTextY=Dt+Xn,this._partialText=Wr,Z.fillStrokeShape(this);Z.restore(),me>1&&(Dt+=se)}}_hitFunc(Z){const he=this.getWidth(),me=this.getHeight();Z.beginPath(),Z.rect(0,0,he,me),Z.closePath(),Z.fillStrokeShape(this)}setText(Z){const he=i.Util._isString(Z)?Z:Z==null?"":Z+"";return this._setAttr(N,he),this}getWidth(){return this.attrs.width===p||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===p||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return i.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(Z){var he,me,le,Y,se,ye,xe,Pe,be,Oe,rt;let Ge=A(),jt=this.fontSize(),ot;Ge.save(),Ge.font=this._getContextFont(),ot=Ge.measureText(Z),Ge.restore();const Et=jt/100;return{actualBoundingBoxAscent:(he=ot.actualBoundingBoxAscent)!==null&&he!==void 0?he:71.58203125*Et,actualBoundingBoxDescent:(me=ot.actualBoundingBoxDescent)!==null&&me!==void 0?me:0,actualBoundingBoxLeft:(le=ot.actualBoundingBoxLeft)!==null&&le!==void 0?le:-7.421875*Et,actualBoundingBoxRight:(Y=ot.actualBoundingBoxRight)!==null&&Y!==void 0?Y:75.732421875*Et,alphabeticBaseline:(se=ot.alphabeticBaseline)!==null&&se!==void 0?se:0,emHeightAscent:(ye=ot.emHeightAscent)!==null&&ye!==void 0?ye:100*Et,emHeightDescent:(xe=ot.emHeightDescent)!==null&&xe!==void 0?xe:-20*Et,fontBoundingBoxAscent:(Pe=ot.fontBoundingBoxAscent)!==null&&Pe!==void 0?Pe:91*Et,fontBoundingBoxDescent:(be=ot.fontBoundingBoxDescent)!==null&&be!==void 0?be:21*Et,hangingBaseline:(Oe=ot.hangingBaseline)!==null&&Oe!==void 0?Oe:72.80000305175781*Et,ideographicBaseline:(rt=ot.ideographicBaseline)!==null&&rt!==void 0?rt:-21*Et,width:ot.width,height:jt}}_getContextFont(){return this.fontStyle()+j+this.fontVariant()+j+(this.fontSize()+D)+$(this.fontFamily())}_addTextLine(Z){this.align()===k&&(Z=Z.trim());const me=this._getTextWidth(Z);return this.textArr.push({text:Z,width:me,lastInParagraph:!1})}_getTextWidth(Z){const he=this.letterSpacing(),me=Z.length;return A().measureText(Z).width+he*me}_setTextData(){let Z=this.text().split(`
`),he=+this.fontSize(),me=0,le=this.lineHeight()*he,Y=this.attrs.width,se=this.attrs.height,ye=Y!==p&&Y!==void 0,xe=se!==p&&se!==void 0,Pe=this.padding(),be=Y-Pe*2,Oe=se-Pe*2,rt=0,Ge=this.wrap(),jt=Ge!==q,ot=Ge!==B&&jt,Et=this.ellipsis();this.textArr=[],A().font=this._getContextFont();const Hr=Et?this._getTextWidth(K):0;for(let Dt=0,Sr=Z.length;Dt<Sr;++Dt){let ht=Z[Dt],Xn=this._getTextWidth(ht);if(ye&&Xn>be)for(;ht.length>0;){let dn=0,Wr=f(ht).length,hn="",wr=0;for(;dn<Wr;){const kn=dn+Wr>>>1,or=f(ht),Bt=or.slice(0,kn+1).join(""),Gt=this._getTextWidth(Bt);(Et&&xe&&rt+le>Oe?Gt+Hr:Gt)<=be?(dn=kn+1,hn=Bt,wr=Gt):Wr=kn}if(hn){if(ot){const Bt=f(ht),Gt=f(hn),ns=Bt[Gt.length],Vo=ns===j||ns===w;let rs;if(Vo&&wr<=be)rs=Gt.length;else{const lu=Gt.lastIndexOf(j),Ho=Gt.lastIndexOf(w);rs=Math.max(lu,Ho)+1}rs>0&&(dn=rs,hn=Bt.slice(0,dn).join(""),wr=this._getTextWidth(hn))}if(hn=hn.trimRight(),this._addTextLine(hn),me=Math.max(me,wr),rt+=le,this._shouldHandleEllipsis(rt)){this._tryToAddEllipsisToLastLine();break}if(ht=f(ht).slice(dn).join("").trimLeft(),ht.length>0&&(Xn=this._getTextWidth(ht),Xn<=be)){this._addTextLine(ht),rt+=le,me=Math.max(me,Xn);break}}else break}else this._addTextLine(ht),rt+=le,me=Math.max(me,Xn),this._shouldHandleEllipsis(rt)&&Dt<Sr-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),xe&&rt+le>Oe)break}this.textHeight=he,this.textWidth=me}_shouldHandleEllipsis(Z){const he=+this.fontSize(),me=this.lineHeight()*he,le=this.attrs.height,Y=le!==p&&le!==void 0,se=this.padding(),ye=le-se*2;return!(this.wrap()!==q)||Y&&Z+me>ye}_tryToAddEllipsisToLastLine(){const Z=this.attrs.width,he=Z!==p&&Z!==void 0,me=this.padding(),le=Z-me*2,Y=this.ellipsis(),se=this.textArr[this.textArr.length-1];!se||!Y||(he&&(this._getTextWidth(se.text+K)<le||(se.text=se.text.slice(0,se.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(se.text+K))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const Z=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,he=this.hasShadow();return Z&&he?!0:super._useBufferCanvas()}}return Ua.Text=F,F.prototype._fillFunc=U,F.prototype._strokeFunc=W,F.prototype.className=M,F.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,u._registerNode)(F),t.Factory.overWriteSetter(F,"width",(0,d.getNumberOrAutoValidator)()),t.Factory.overWriteSetter(F,"height",(0,d.getNumberOrAutoValidator)()),t.Factory.addGetterSetter(F,"direction",_),t.Factory.addGetterSetter(F,"fontFamily","Arial"),t.Factory.addGetterSetter(F,"fontSize",12,(0,d.getNumberValidator)()),t.Factory.addGetterSetter(F,"fontStyle",L),t.Factory.addGetterSetter(F,"fontVariant",L),t.Factory.addGetterSetter(F,"padding",0,(0,d.getNumberValidator)()),t.Factory.addGetterSetter(F,"align",C),t.Factory.addGetterSetter(F,"verticalAlign",b),t.Factory.addGetterSetter(F,"lineHeight",1,(0,d.getNumberValidator)()),t.Factory.addGetterSetter(F,"wrap",z),t.Factory.addGetterSetter(F,"ellipsis",!1,(0,d.getBooleanValidator)()),t.Factory.addGetterSetter(F,"letterSpacing",0,(0,d.getNumberValidator)()),t.Factory.addGetterSetter(F,"text","",(0,d.getStringValidator)()),t.Factory.addGetterSetter(F,"textDecoration",""),Ua}var Nc={},e1;function dv(){if(e1)return Nc;e1=1,Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.TextPath=void 0;const i=qt(),t=et(),o=An(),a=np(),d=Am(),u=nt(),f=Ke(),p="",m="normal";function _(x){x.fillText(this.partialText,0,0)}function k(x){x.strokeText(this.partialText,0,0)}let P=class extends o.Shape{constructor(w){super(w),this.dummyCanvas=i.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return a.Path.getPathLength(this.dataArray)}_getPointAtLength(w){if(!this.attrs.data)return null;const C=this.pathLength;return w-1>C?null:a.Path.getPointAtLengthOfDataArray(w,this.dataArray)}_readDataAttribute(){this.dataArray=a.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(w){w.setAttr("font",this._getContextFont()),w.setAttr("textBaseline",this.textBaseline()),w.setAttr("textAlign","left"),w.save();const C=this.textDecoration(),N=this.fill(),M=this.fontSize(),b=this.glyphInfo;C==="underline"&&w.beginPath();for(let T=0;T<b.length;T++){w.save();const v=b[T].p0;w.translate(v.x,v.y),w.rotate(b[T].rotation),this.partialText=b[T].text,w.fillStrokeShape(this),C==="underline"&&(T===0&&w.moveTo(0,M/2+1),w.lineTo(M,M/2+1)),w.restore()}C==="underline"&&(w.strokeStyle=N,w.lineWidth=M/20,w.stroke()),w.restore()}_hitFunc(w){w.beginPath();const C=this.glyphInfo;if(C.length>=1){const N=C[0].p0;w.moveTo(N.x,N.y)}for(let N=0;N<C.length;N++){const M=C[N].p1;w.lineTo(M.x,M.y)}w.setAttr("lineWidth",this.fontSize()),w.setAttr("strokeStyle",this.colorKey),w.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return i.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(w){return d.Text.prototype.setText.call(this,w)}_getContextFont(){return d.Text.prototype._getContextFont.call(this)}_getTextSize(w){const N=this.dummyCanvas.getContext("2d");N.save(),N.font=this._getContextFont();const M=N.measureText(w);return N.restore(),{width:M.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:w,height:C}=this._getTextSize(this.attrs.text);if(this.textWidth=w,this.textHeight=C,this.glyphInfo=[],!this.attrs.data)return null;const N=this.letterSpacing(),M=this.align(),b=this.kerningFunc(),T=Math.max(this.textWidth+((this.attrs.text||"").length-1)*N,0);let v=0;M==="center"&&(v=Math.max(0,this.pathLength/2-T/2)),M==="right"&&(v=Math.max(0,this.pathLength-T));const L=(0,d.stringToArray)(this.text());let D=v;for(let j=0;j<L.length;j++){const H=this._getPointAtLength(D);if(!H)return;let I=this._getTextSize(L[j]).width+N;if(L[j]===" "&&M==="justify"){const ne=this.text().split(" ").length-1;I+=(this.pathLength-T)/ne}const z=this._getPointAtLength(D+I);if(!z)return;const B=a.Path.getLineLength(H.x,H.y,z.x,z.y);let q=0;if(b)try{q=b(L[j-1],L[j])*this.fontSize()}catch{q=0}H.x+=q,z.x+=q,this.textWidth+=q;const K=a.Path.getPointOnLine(q+B/2,H.x,H.y,z.x,z.y),ee=Math.atan2(z.y-H.y,z.x-H.x);this.glyphInfo.push({transposeX:K.x,transposeY:K.y,text:L[j],rotation:ee,p0:H,p1:z}),D+=I}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const w=[];this.glyphInfo.forEach(function(D){w.push(D.p0.x),w.push(D.p0.y),w.push(D.p1.x),w.push(D.p1.y)});let C=w[0]||0,N=w[0]||0,M=w[1]||0,b=w[1]||0,T,v;for(let D=0;D<w.length/2;D++)T=w[D*2],v=w[D*2+1],C=Math.min(C,T),N=Math.max(N,T),M=Math.min(M,v),b=Math.max(b,v);const L=this.fontSize();return{x:C-L/2,y:M-L/2,width:N-C+L,height:b-M+L}}destroy(){return i.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return Nc.TextPath=P,P.prototype._fillFunc=_,P.prototype._strokeFunc=k,P.prototype._fillFuncHit=_,P.prototype._strokeFuncHit=k,P.prototype.className="TextPath",P.prototype._attrsAffectingSize=["text","fontSize","data"],(0,f._registerNode)(P),t.Factory.addGetterSetter(P,"data"),t.Factory.addGetterSetter(P,"fontFamily","Arial"),t.Factory.addGetterSetter(P,"fontSize",12,(0,u.getNumberValidator)()),t.Factory.addGetterSetter(P,"fontStyle",m),t.Factory.addGetterSetter(P,"align","left"),t.Factory.addGetterSetter(P,"letterSpacing",0,(0,u.getNumberValidator)()),t.Factory.addGetterSetter(P,"textBaseline","middle"),t.Factory.addGetterSetter(P,"fontVariant",m),t.Factory.addGetterSetter(P,"text",p),t.Factory.addGetterSetter(P,"textDecoration",""),t.Factory.addGetterSetter(P,"kerningFunc",void 0),Nc}var Tc={},t1;function hv(){if(t1)return Tc;t1=1,Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.Transformer=void 0;const i=qt(),t=et(),o=nn(),a=An(),d=Im(),u=ep(),f=Ke(),p=nt(),m=Ke(),_="tr-konva",k=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(I=>I+`.${_}`).join(" "),P="nodesRect",x=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],w={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},C="ontouchstart"in f.Konva._global;function N(I,z,B){if(I==="rotater")return B;z+=i.Util.degToRad(w[I]||0);const q=(i.Util.radToDeg(z)%360+360)%360;return i.Util._inRange(q,315+22.5,360)||i.Util._inRange(q,0,22.5)?"ns-resize":i.Util._inRange(q,45-22.5,45+22.5)?"nesw-resize":i.Util._inRange(q,90-22.5,90+22.5)?"ew-resize":i.Util._inRange(q,135-22.5,135+22.5)?"nwse-resize":i.Util._inRange(q,180-22.5,180+22.5)?"ns-resize":i.Util._inRange(q,225-22.5,225+22.5)?"nesw-resize":i.Util._inRange(q,270-22.5,270+22.5)?"ew-resize":i.Util._inRange(q,315-22.5,315+22.5)?"nwse-resize":(i.Util.error("Transformer has unknown angle for cursor detection: "+q),"pointer")}const M=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function b(I){return{x:I.x+I.width/2*Math.cos(I.rotation)+I.height/2*Math.sin(-I.rotation),y:I.y+I.height/2*Math.cos(I.rotation)+I.width/2*Math.sin(I.rotation)}}function T(I,z,B){const q=B.x+(I.x-B.x)*Math.cos(z)-(I.y-B.y)*Math.sin(z),K=B.y+(I.x-B.x)*Math.sin(z)+(I.y-B.y)*Math.cos(z);return{...I,rotation:I.rotation+z,x:q,y:K}}function v(I,z){const B=b(I);return T(I,z,B)}function L(I,z,B){let q=z;for(let K=0;K<I.length;K++){const ee=f.Konva.getAngle(I[K]),ne=Math.abs(ee-z)%(Math.PI*2);Math.min(ne,Math.PI*2-ne)<B&&(q=ee)}return q}let D=0;class j extends u.Group{constructor(z){super(z),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(k,this.update),this.getNode()&&this.update()}attachTo(z){return this.setNode(z),this}setNode(z){return i.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([z])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return _+this._id}setNodes(z=[]){this._nodes&&this._nodes.length&&this.detach();const B=z.filter(K=>K.isAncestorOf(this)?(i.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=z=B,z.length===1&&this.useSingleNodeRotation()?this.rotation(z[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(K=>{const ee=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(K._attrsAffectingSize.length){const ne=K._attrsAffectingSize.map($=>$+"Change."+this._getEventNamespace()).join(" ");K.on(ne,ee)}K.on(x.map(ne=>ne+`.${this._getEventNamespace()}`).join(" "),ee),K.on(`absoluteTransformChange.${this._getEventNamespace()}`,ee),this._proxyDrag(K)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(z){let B;z.on(`dragstart.${this._getEventNamespace()}`,q=>{B=z.getAbsolutePosition(),!this.isDragging()&&z!==this.findOne(".back")&&this.startDrag(q,!1)}),z.on(`dragmove.${this._getEventNamespace()}`,q=>{if(!B)return;const K=z.getAbsolutePosition(),ee=K.x-B.x,ne=K.y-B.y;this.nodes().forEach($=>{if($===z||$.isDragging())return;const pe=$.getAbsolutePosition();$.setAbsolutePosition({x:pe.x+ee,y:pe.y+ne}),$.startDrag(q)}),B=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(z=>{z.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(P),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(P,this.__getNodeRect)}__getNodeShape(z,B=this.rotation(),q){const K=z.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),ee=z.getAbsoluteScale(q),ne=z.getAbsolutePosition(q),$=K.x*ee.x-z.offsetX()*ee.x,pe=K.y*ee.y-z.offsetY()*ee.y,A=(f.Konva.getAngle(z.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),U={x:ne.x+$*Math.cos(A)+pe*Math.sin(-A),y:ne.y+pe*Math.cos(A)+$*Math.sin(A),width:K.width*ee.x,height:K.height*ee.y,rotation:A};return T(U,-f.Konva.getAngle(B),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const B=[];this.nodes().map(A=>{const U=A.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),W=[{x:U.x,y:U.y},{x:U.x+U.width,y:U.y},{x:U.x+U.width,y:U.y+U.height},{x:U.x,y:U.y+U.height}],G=A.getAbsoluteTransform();W.forEach(function(F){const Q=G.point(F);B.push(Q)})});const q=new i.Transform;q.rotate(-f.Konva.getAngle(this.rotation()));let K=1/0,ee=1/0,ne=-1/0,$=-1/0;B.forEach(function(A){const U=q.point(A);K===void 0&&(K=ne=U.x,ee=$=U.y),K=Math.min(K,U.x),ee=Math.min(ee,U.y),ne=Math.max(ne,U.x),$=Math.max($,U.y)}),q.invert();const pe=q.point({x:K,y:ee});return{x:pe.x,y:pe.y,width:ne-K,height:$-ee,rotation:f.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),M.forEach(z=>{this._createAnchor(z)}),this._createAnchor("rotater")}_createAnchor(z){const B=new d.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:z+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:C?10:"auto"}),q=this;B.on("mousedown touchstart",function(K){q._handleMouseDown(K)}),B.on("dragstart",K=>{B.stopDrag(),K.cancelBubble=!0}),B.on("dragend",K=>{K.cancelBubble=!0}),B.on("mouseenter",()=>{const K=f.Konva.getAngle(this.rotation()),ee=this.rotateAnchorCursor(),ne=N(z,K,ee);B.getStage().content&&(B.getStage().content.style.cursor=ne),this._cursorChange=!0}),B.on("mouseout",()=>{B.getStage().content&&(B.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(B)}_createBack(){const z=new a.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(B,q){const K=q.getParent(),ee=K.padding();B.beginPath(),B.rect(-ee,-ee,q.width()+ee*2,q.height()+ee*2),B.moveTo(q.width()/2,-ee),K.rotateEnabled()&&K.rotateLineVisible()&&B.lineTo(q.width()/2,-K.rotateAnchorOffset()*i.Util._sign(q.height())-ee),B.fillStrokeShape(q)},hitFunc:(B,q)=>{if(!this.shouldOverdrawWholeArea())return;const K=this.padding();B.beginPath(),B.rect(-K,-K,q.width()+K*2,q.height()+K*2),B.fillStrokeShape(q)}});this.add(z),this._proxyDrag(z),z.on("dragstart",B=>{B.cancelBubble=!0}),z.on("dragmove",B=>{B.cancelBubble=!0}),z.on("dragend",B=>{B.cancelBubble=!0}),this.on("dragmove",B=>{this.update()})}_handleMouseDown(z){if(this._transforming)return;this._movingAnchorName=z.target.name().split(" ")[0];const B=this._getNodeRect(),q=B.width,K=B.height,ee=Math.sqrt(Math.pow(q,2)+Math.pow(K,2));this.sin=Math.abs(K/ee),this.cos=Math.abs(q/ee),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const ne=z.target.getAbsolutePosition(),$=z.target.getStage().getPointerPosition();this._anchorDragOffset={x:$.x-ne.x,y:$.y-ne.y},D++,this._fire("transformstart",{evt:z.evt,target:this.getNode()}),this._nodes.forEach(pe=>{pe._fire("transformstart",{evt:z.evt,target:pe})})}_handleMouseMove(z){let B,q,K;const ee=this.findOne("."+this._movingAnchorName),ne=ee.getStage();ne.setPointersPositions(z);const $=ne.getPointerPosition();let pe={x:$.x-this._anchorDragOffset.x,y:$.y-this._anchorDragOffset.y};const A=ee.getAbsolutePosition();this.anchorDragBoundFunc()&&(pe=this.anchorDragBoundFunc()(A,pe,z)),ee.setAbsolutePosition(pe);const U=ee.getAbsolutePosition();if(A.x===U.x&&A.y===U.y)return;if(this._movingAnchorName==="rotater"){const le=this._getNodeRect();B=ee.x()-le.width/2,q=-ee.y()+le.height/2;let Y=Math.atan2(-q,B)+Math.PI/2;le.height<0&&(Y-=Math.PI);const ye=f.Konva.getAngle(this.rotation())+Y,xe=f.Konva.getAngle(this.rotationSnapTolerance()),be=L(this.rotationSnaps(),ye,xe)-le.rotation,Oe=v(le,be);this._fitNodesInto(Oe,z);return}const W=this.shiftBehavior();let G;W==="inverted"?G=this.keepRatio()&&!z.shiftKey:W==="none"?G=this.keepRatio():G=this.keepRatio()||z.shiftKey;let F=this.centeredScaling()||z.altKey;if(this._movingAnchorName==="top-left"){if(G){const le=F?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};K=Math.sqrt(Math.pow(le.x-ee.x(),2)+Math.pow(le.y-ee.y(),2));const Y=this.findOne(".top-left").x()>le.x?-1:1,se=this.findOne(".top-left").y()>le.y?-1:1;B=K*this.cos*Y,q=K*this.sin*se,this.findOne(".top-left").x(le.x-B),this.findOne(".top-left").y(le.y-q)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(ee.y());else if(this._movingAnchorName==="top-right"){if(G){const le=F?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};K=Math.sqrt(Math.pow(ee.x()-le.x,2)+Math.pow(le.y-ee.y(),2));const Y=this.findOne(".top-right").x()<le.x?-1:1,se=this.findOne(".top-right").y()>le.y?-1:1;B=K*this.cos*Y,q=K*this.sin*se,this.findOne(".top-right").x(le.x+B),this.findOne(".top-right").y(le.y-q)}var Q=ee.position();this.findOne(".top-left").y(Q.y),this.findOne(".bottom-right").x(Q.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(ee.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(ee.x());else if(this._movingAnchorName==="bottom-left"){if(G){const le=F?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};K=Math.sqrt(Math.pow(le.x-ee.x(),2)+Math.pow(ee.y()-le.y,2));const Y=le.x<ee.x()?-1:1,se=ee.y()<le.y?-1:1;B=K*this.cos*Y,q=K*this.sin*se,ee.x(le.x-B),ee.y(le.y+q)}Q=ee.position(),this.findOne(".top-left").x(Q.x),this.findOne(".bottom-right").y(Q.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(ee.y());else if(this._movingAnchorName==="bottom-right"){if(G){const le=F?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};K=Math.sqrt(Math.pow(ee.x()-le.x,2)+Math.pow(ee.y()-le.y,2));const Y=this.findOne(".bottom-right").x()<le.x?-1:1,se=this.findOne(".bottom-right").y()<le.y?-1:1;B=K*this.cos*Y,q=K*this.sin*se,this.findOne(".bottom-right").x(le.x+B),this.findOne(".bottom-right").y(le.y+q)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(F=this.centeredScaling()||z.altKey,F){const le=this.findOne(".top-left"),Y=this.findOne(".bottom-right"),se=le.x(),ye=le.y(),xe=this.getWidth()-Y.x(),Pe=this.getHeight()-Y.y();Y.move({x:-se,y:-ye}),le.move({x:xe,y:Pe})}const Z=this.findOne(".top-left").getAbsolutePosition();B=Z.x,q=Z.y;const he=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),me=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:B,y:q,width:he,height:me,rotation:f.Konva.getAngle(this.rotation())},z)}_handleMouseUp(z){this._removeEvents(z)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(z){var B;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const q=this.getNode();D--,this._fire("transformend",{evt:z,target:q}),(B=this.getLayer())===null||B===void 0||B.batchDraw(),q&&this._nodes.forEach(K=>{var ee;K._fire("transformend",{evt:z,target:K}),(ee=K.getLayer())===null||ee===void 0||ee.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(z,B){const q=this._getNodeRect(),K=1;if(i.Util._inRange(z.width,-this.padding()*2-K,K)){this.update();return}if(i.Util._inRange(z.height,-this.padding()*2-K,K)){this.update();return}const ee=new i.Transform;if(ee.rotate(f.Konva.getAngle(this.rotation())),this._movingAnchorName&&z.width<0&&this._movingAnchorName.indexOf("left")>=0){const G=ee.point({x:-this.padding()*2,y:0});z.x+=G.x,z.y+=G.y,z.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=G.x,this._anchorDragOffset.y-=G.y}else if(this._movingAnchorName&&z.width<0&&this._movingAnchorName.indexOf("right")>=0){const G=ee.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=G.x,this._anchorDragOffset.y-=G.y,z.width+=this.padding()*2}if(this._movingAnchorName&&z.height<0&&this._movingAnchorName.indexOf("top")>=0){const G=ee.point({x:0,y:-this.padding()*2});z.x+=G.x,z.y+=G.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=G.x,this._anchorDragOffset.y-=G.y,z.height+=this.padding()*2}else if(this._movingAnchorName&&z.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const G=ee.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=G.x,this._anchorDragOffset.y-=G.y,z.height+=this.padding()*2}if(this.boundBoxFunc()){const G=this.boundBoxFunc()(q,z);G?z=G:i.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const ne=1e7,$=new i.Transform;$.translate(q.x,q.y),$.rotate(q.rotation),$.scale(q.width/ne,q.height/ne);const pe=new i.Transform,A=z.width/ne,U=z.height/ne;this.flipEnabled()===!1?(pe.translate(z.x,z.y),pe.rotate(z.rotation),pe.translate(z.width<0?z.width:0,z.height<0?z.height:0),pe.scale(Math.abs(A),Math.abs(U))):(pe.translate(z.x,z.y),pe.rotate(z.rotation),pe.scale(A,U));const W=pe.multiply($.invert());this._nodes.forEach(G=>{var F;const Q=G.getParent().getAbsoluteTransform(),Z=G.getTransform().copy();Z.translate(G.offsetX(),G.offsetY());const he=new i.Transform;he.multiply(Q.copy().invert()).multiply(W).multiply(Q).multiply(Z);const me=he.decompose();G.setAttrs(me),(F=G.getLayer())===null||F===void 0||F.batchDraw()}),this.rotation(i.Util._getRotation(z.rotation)),this._nodes.forEach(G=>{this._fire("transform",{evt:B,target:G}),G._fire("transform",{evt:B,target:G})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(z,B){this.findOne(z).setAttrs(B)}update(){var z;const B=this._getNodeRect();this.rotation(i.Util._getRotation(B.rotation));const q=B.width,K=B.height,ee=this.enabledAnchors(),ne=this.resizeEnabled(),$=this.padding(),pe=this.anchorSize(),A=this.find("._anchor");A.forEach(W=>{W.setAttrs({width:pe,height:pe,offsetX:pe/2,offsetY:pe/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:pe/2+$,offsetY:pe/2+$,visible:ne&&ee.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:q/2,y:0,offsetY:pe/2+$,visible:ne&&ee.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:q,y:0,offsetX:pe/2-$,offsetY:pe/2+$,visible:ne&&ee.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:K/2,offsetX:pe/2+$,visible:ne&&ee.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:q,y:K/2,offsetX:pe/2-$,visible:ne&&ee.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:K,offsetX:pe/2+$,offsetY:pe/2-$,visible:ne&&ee.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:q/2,y:K,offsetY:pe/2-$,visible:ne&&ee.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:q,y:K,offsetX:pe/2-$,offsetY:pe/2-$,visible:ne&&ee.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:q/2,y:-this.rotateAnchorOffset()*i.Util._sign(K)-$,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:q,height:K,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const U=this.anchorStyleFunc();U&&A.forEach(W=>{U(W)}),(z=this.getLayer())===null||z===void 0||z.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const z=this.findOne("."+this._movingAnchorName);z&&z.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),u.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return o.Node.prototype.toObject.call(this)}clone(z){return o.Node.prototype.clone.call(this,z)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}Tc.Transformer=j,j.isTransforming=()=>D>0;function H(I){return I instanceof Array||i.Util.warn("enabledAnchors value should be an array"),I instanceof Array&&I.forEach(function(z){M.indexOf(z)===-1&&i.Util.warn("Unknown anchor name: "+z+". Available names are: "+M.join(", "))}),I||[]}return j.prototype.className="Transformer",(0,m._registerNode)(j),t.Factory.addGetterSetter(j,"enabledAnchors",M,H),t.Factory.addGetterSetter(j,"flipEnabled",!0,(0,p.getBooleanValidator)()),t.Factory.addGetterSetter(j,"resizeEnabled",!0),t.Factory.addGetterSetter(j,"anchorSize",10,(0,p.getNumberValidator)()),t.Factory.addGetterSetter(j,"rotateEnabled",!0),t.Factory.addGetterSetter(j,"rotateLineVisible",!0),t.Factory.addGetterSetter(j,"rotationSnaps",[]),t.Factory.addGetterSetter(j,"rotateAnchorOffset",50,(0,p.getNumberValidator)()),t.Factory.addGetterSetter(j,"rotateAnchorCursor","crosshair"),t.Factory.addGetterSetter(j,"rotationSnapTolerance",5,(0,p.getNumberValidator)()),t.Factory.addGetterSetter(j,"borderEnabled",!0),t.Factory.addGetterSetter(j,"anchorStroke","rgb(0, 161, 255)"),t.Factory.addGetterSetter(j,"anchorStrokeWidth",1,(0,p.getNumberValidator)()),t.Factory.addGetterSetter(j,"anchorFill","white"),t.Factory.addGetterSetter(j,"anchorCornerRadius",0,(0,p.getNumberValidator)()),t.Factory.addGetterSetter(j,"borderStroke","rgb(0, 161, 255)"),t.Factory.addGetterSetter(j,"borderStrokeWidth",1,(0,p.getNumberValidator)()),t.Factory.addGetterSetter(j,"borderDash"),t.Factory.addGetterSetter(j,"keepRatio",!0),t.Factory.addGetterSetter(j,"shiftBehavior","default"),t.Factory.addGetterSetter(j,"centeredScaling",!1),t.Factory.addGetterSetter(j,"ignoreStroke",!1),t.Factory.addGetterSetter(j,"padding",0,(0,p.getNumberValidator)()),t.Factory.addGetterSetter(j,"nodes"),t.Factory.addGetterSetter(j,"node"),t.Factory.addGetterSetter(j,"boundBoxFunc"),t.Factory.addGetterSetter(j,"anchorDragBoundFunc"),t.Factory.addGetterSetter(j,"anchorStyleFunc"),t.Factory.addGetterSetter(j,"shouldOverdrawWholeArea",!1),t.Factory.addGetterSetter(j,"useSingleNodeRotation",!0),t.Factory.backCompat(j,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Tc}var Rc={},n1;function fv(){if(n1)return Rc;n1=1,Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.Wedge=void 0;const i=et(),t=An(),o=Ke(),a=nt(),d=Ke();let u=class extends t.Shape{_sceneFunc(p){p.beginPath(),p.arc(0,0,this.radius(),0,o.Konva.getAngle(this.angle()),this.clockwise()),p.lineTo(0,0),p.closePath(),p.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(p){this.radius(p/2)}setHeight(p){this.radius(p/2)}};return Rc.Wedge=u,u.prototype.className="Wedge",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["radius"],(0,d._registerNode)(u),i.Factory.addGetterSetter(u,"radius",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(u,"angle",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(u,"clockwise",!1),i.Factory.backCompat(u,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Rc}var Lc={},r1;function pv(){if(r1)return Lc;r1=1,Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.Blur=void 0;const i=et(),t=nn(),o=nt();function a(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const d=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],u=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function f(m,_){const k=m.data,P=m.width,x=m.height;let w,C,N,M,b,T,v,L,D,j,H,I,z,B,q,K,ee,ne,$,pe;const A=_+_+1,U=P-1,W=x-1,G=_+1,F=G*(G+1)/2,Q=new a,Z=d[_],he=u[_];let me=null,le=Q,Y=null,se=null;for(let ye=1;ye<A;ye++)le=le.next=new a,ye===G&&(me=le);le.next=Q,N=C=0;for(let ye=0;ye<x;ye++){I=z=B=q=M=b=T=v=0,L=G*(K=k[C]),D=G*(ee=k[C+1]),j=G*(ne=k[C+2]),H=G*($=k[C+3]),M+=F*K,b+=F*ee,T+=F*ne,v+=F*$,le=Q;for(let xe=0;xe<G;xe++)le.r=K,le.g=ee,le.b=ne,le.a=$,le=le.next;for(let xe=1;xe<G;xe++)w=C+((U<xe?U:xe)<<2),M+=(le.r=K=k[w])*(pe=G-xe),b+=(le.g=ee=k[w+1])*pe,T+=(le.b=ne=k[w+2])*pe,v+=(le.a=$=k[w+3])*pe,I+=K,z+=ee,B+=ne,q+=$,le=le.next;Y=Q,se=me;for(let xe=0;xe<P;xe++)k[C+3]=$=v*Z>>he,$!==0?($=255/$,k[C]=(M*Z>>he)*$,k[C+1]=(b*Z>>he)*$,k[C+2]=(T*Z>>he)*$):k[C]=k[C+1]=k[C+2]=0,M-=L,b-=D,T-=j,v-=H,L-=Y.r,D-=Y.g,j-=Y.b,H-=Y.a,w=N+((w=xe+_+1)<U?w:U)<<2,I+=Y.r=k[w],z+=Y.g=k[w+1],B+=Y.b=k[w+2],q+=Y.a=k[w+3],M+=I,b+=z,T+=B,v+=q,Y=Y.next,L+=K=se.r,D+=ee=se.g,j+=ne=se.b,H+=$=se.a,I-=K,z-=ee,B-=ne,q-=$,se=se.next,C+=4;N+=P}for(let ye=0;ye<P;ye++){z=B=q=I=b=T=v=M=0,C=ye<<2,L=G*(K=k[C]),D=G*(ee=k[C+1]),j=G*(ne=k[C+2]),H=G*($=k[C+3]),M+=F*K,b+=F*ee,T+=F*ne,v+=F*$,le=Q;for(let Pe=0;Pe<G;Pe++)le.r=K,le.g=ee,le.b=ne,le.a=$,le=le.next;let xe=P;for(let Pe=1;Pe<=_;Pe++)C=xe+ye<<2,M+=(le.r=K=k[C])*(pe=G-Pe),b+=(le.g=ee=k[C+1])*pe,T+=(le.b=ne=k[C+2])*pe,v+=(le.a=$=k[C+3])*pe,I+=K,z+=ee,B+=ne,q+=$,le=le.next,Pe<W&&(xe+=P);C=ye,Y=Q,se=me;for(let Pe=0;Pe<x;Pe++)w=C<<2,k[w+3]=$=v*Z>>he,$>0?($=255/$,k[w]=(M*Z>>he)*$,k[w+1]=(b*Z>>he)*$,k[w+2]=(T*Z>>he)*$):k[w]=k[w+1]=k[w+2]=0,M-=L,b-=D,T-=j,v-=H,L-=Y.r,D-=Y.g,j-=Y.b,H-=Y.a,w=ye+((w=Pe+G)<W?w:W)*P<<2,M+=I+=Y.r=k[w],b+=z+=Y.g=k[w+1],T+=B+=Y.b=k[w+2],v+=q+=Y.a=k[w+3],Y=Y.next,L+=K=se.r,D+=ee=se.g,j+=ne=se.b,H+=$=se.a,I-=K,z-=ee,B-=ne,q-=$,se=se.next,C+=P}}const p=function(_){const k=Math.round(this.blurRadius());k>0&&f(_,k)};return Lc.Blur=p,i.Factory.addGetterSetter(t.Node,"blurRadius",0,(0,o.getNumberValidator)(),i.Factory.afterSetFilter),Lc}var Mc={},i1;function gv(){if(i1)return Mc;i1=1,Object.defineProperty(Mc,"__esModule",{value:!0}),Mc.Brighten=void 0;const i=et(),t=nn(),o=nt(),a=function(d){const u=this.brightness()*255,f=d.data,p=f.length;for(let m=0;m<p;m+=4)f[m]+=u,f[m+1]+=u,f[m+2]+=u};return Mc.Brighten=a,i.Factory.addGetterSetter(t.Node,"brightness",0,(0,o.getNumberValidator)(),i.Factory.afterSetFilter),Mc}var Dc={},s1;function mv(){if(s1)return Dc;s1=1,Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.Contrast=void 0;const i=et(),t=nn(),o=nt(),a=function(d){const u=Math.pow((this.contrast()+100)/100,2),f=d.data,p=f.length;let m=150,_=150,k=150;for(let P=0;P<p;P+=4)m=f[P],_=f[P+1],k=f[P+2],m/=255,m-=.5,m*=u,m+=.5,m*=255,_/=255,_-=.5,_*=u,_+=.5,_*=255,k/=255,k-=.5,k*=u,k+=.5,k*=255,m=m<0?0:m>255?255:m,_=_<0?0:_>255?255:_,k=k<0?0:k>255?255:k,f[P]=m,f[P+1]=_,f[P+2]=k};return Dc.Contrast=a,i.Factory.addGetterSetter(t.Node,"contrast",0,(0,o.getNumberValidator)(),i.Factory.afterSetFilter),Dc}var Ic={},o1;function yv(){if(o1)return Ic;o1=1,Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.Emboss=void 0;const i=et(),t=nn(),o=qt(),a=nt(),d=function(u){const f=this.embossStrength()*10,p=this.embossWhiteLevel()*255,m=this.embossDirection(),_=this.embossBlend(),k=u.data,P=u.width,x=u.height,w=P*4;let C=0,N=0,M=x;switch(m){case"top-left":C=-1,N=-1;break;case"top":C=-1,N=0;break;case"top-right":C=-1,N=1;break;case"right":C=0,N=1;break;case"bottom-right":C=1,N=1;break;case"bottom":C=1,N=0;break;case"bottom-left":C=1,N=-1;break;case"left":C=0,N=-1;break;default:o.Util.error("Unknown emboss direction: "+m)}do{const b=(M-1)*w;let T=C;M+T<1&&(T=0),M+T>x&&(T=0);const v=(M-1+T)*P*4;let L=P;do{const D=b+(L-1)*4;let j=N;L+j<1&&(j=0),L+j>P&&(j=0);const H=v+(L-1+j)*4,I=k[D]-k[H],z=k[D+1]-k[H+1],B=k[D+2]-k[H+2];let q=I;const K=q>0?q:-q,ee=z>0?z:-z,ne=B>0?B:-B;if(ee>K&&(q=z),ne>K&&(q=B),q*=f,_){const $=k[D]+q,pe=k[D+1]+q,A=k[D+2]+q;k[D]=$>255?255:$<0?0:$,k[D+1]=pe>255?255:pe<0?0:pe,k[D+2]=A>255?255:A<0?0:A}else{let $=p-q;$<0?$=0:$>255&&($=255),k[D]=k[D+1]=k[D+2]=$}}while(--L)}while(--M)};return Ic.Emboss=d,i.Factory.addGetterSetter(t.Node,"embossStrength",.5,(0,a.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(t.Node,"embossWhiteLevel",.5,(0,a.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(t.Node,"embossDirection","top-left",void 0,i.Factory.afterSetFilter),i.Factory.addGetterSetter(t.Node,"embossBlend",!1,void 0,i.Factory.afterSetFilter),Ic}var Ac={},l1;function vv(){if(l1)return Ac;l1=1,Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.Enhance=void 0;const i=et(),t=nn(),o=nt();function a(u,f,p,m,_){const k=p-f,P=_-m;if(k===0)return m+P/2;if(P===0)return m;let x=(u-f)/k;return x=P*x+m,x}const d=function(u){const f=u.data,p=f.length;let m=f[0],_=m,k,P=f[1],x=P,w,C=f[2],N=C,M;const b=this.enhance();if(b===0)return;for(let I=0;I<p;I+=4)k=f[I+0],k<m?m=k:k>_&&(_=k),w=f[I+1],w<P?P=w:w>x&&(x=w),M=f[I+2],M<C?C=M:M>N&&(N=M);_===m&&(_=255,m=0),x===P&&(x=255,P=0),N===C&&(N=255,C=0);let T,v,L,D,j,H;if(b>0)T=_+b*(255-_),v=m-b*(m-0),L=x+b*(255-x),D=P-b*(P-0),j=N+b*(255-N),H=C-b*(C-0);else{const I=(_+m)*.5;T=_+b*(_-I),v=m+b*(m-I);const z=(x+P)*.5;L=x+b*(x-z),D=P+b*(P-z);const B=(N+C)*.5;j=N+b*(N-B),H=C+b*(C-B)}for(let I=0;I<p;I+=4)f[I+0]=a(f[I+0],m,_,v,T),f[I+1]=a(f[I+1],P,x,D,L),f[I+2]=a(f[I+2],C,N,H,j)};return Ac.Enhance=d,i.Factory.addGetterSetter(t.Node,"enhance",0,(0,o.getNumberValidator)(),i.Factory.afterSetFilter),Ac}var Fc={},a1;function _v(){if(a1)return Fc;a1=1,Object.defineProperty(Fc,"__esModule",{value:!0}),Fc.Grayscale=void 0;const i=function(t){const o=t.data,a=o.length;for(let d=0;d<a;d+=4){const u=.34*o[d]+.5*o[d+1]+.16*o[d+2];o[d]=u,o[d+1]=u,o[d+2]=u}};return Fc.Grayscale=i,Fc}var Oc={},u1;function Sv(){if(u1)return Oc;u1=1,Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.HSL=void 0;const i=et(),t=nn(),o=nt();i.Factory.addGetterSetter(t.Node,"hue",0,(0,o.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(t.Node,"saturation",0,(0,o.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(t.Node,"luminance",0,(0,o.getNumberValidator)(),i.Factory.afterSetFilter);const a=function(d){const u=d.data,f=u.length,p=1,m=Math.pow(2,this.saturation()),_=Math.abs(this.hue()+360)%360,k=this.luminance()*127,P=p*m*Math.cos(_*Math.PI/180),x=p*m*Math.sin(_*Math.PI/180),w=.299*p+.701*P+.167*x,C=.587*p-.587*P+.33*x,N=.114*p-.114*P-.497*x,M=.299*p-.299*P-.328*x,b=.587*p+.413*P+.035*x,T=.114*p-.114*P+.293*x,v=.299*p-.3*P+1.25*x,L=.587*p-.586*P-1.05*x,D=.114*p+.886*P-.2*x;let j,H,I,z;for(let B=0;B<f;B+=4)j=u[B+0],H=u[B+1],I=u[B+2],z=u[B+3],u[B+0]=w*j+C*H+N*I+k,u[B+1]=M*j+b*H+T*I+k,u[B+2]=v*j+L*H+D*I+k,u[B+3]=z};return Oc.HSL=a,Oc}var zc={},c1;function wv(){if(c1)return zc;c1=1,Object.defineProperty(zc,"__esModule",{value:!0}),zc.HSV=void 0;const i=et(),t=nn(),o=nt(),a=function(d){const u=d.data,f=u.length,p=Math.pow(2,this.value()),m=Math.pow(2,this.saturation()),_=Math.abs(this.hue()+360)%360,k=p*m*Math.cos(_*Math.PI/180),P=p*m*Math.sin(_*Math.PI/180),x=.299*p+.701*k+.167*P,w=.587*p-.587*k+.33*P,C=.114*p-.114*k-.497*P,N=.299*p-.299*k-.328*P,M=.587*p+.413*k+.035*P,b=.114*p-.114*k+.293*P,T=.299*p-.3*k+1.25*P,v=.587*p-.586*k-1.05*P,L=.114*p+.886*k-.2*P;for(let D=0;D<f;D+=4){const j=u[D+0],H=u[D+1],I=u[D+2],z=u[D+3];u[D+0]=x*j+w*H+C*I,u[D+1]=N*j+M*H+b*I,u[D+2]=T*j+v*H+L*I,u[D+3]=z}};return zc.HSV=a,i.Factory.addGetterSetter(t.Node,"hue",0,(0,o.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(t.Node,"saturation",0,(0,o.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(t.Node,"value",0,(0,o.getNumberValidator)(),i.Factory.afterSetFilter),zc}var Uc={},d1;function kv(){if(d1)return Uc;d1=1,Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.Invert=void 0;const i=function(t){const o=t.data,a=o.length;for(let d=0;d<a;d+=4)o[d]=255-o[d],o[d+1]=255-o[d+1],o[d+2]=255-o[d+2]};return Uc.Invert=i,Uc}var bc={},h1;function xv(){if(h1)return bc;h1=1,Object.defineProperty(bc,"__esModule",{value:!0}),bc.Kaleidoscope=void 0;const i=et(),t=nn(),o=qt(),a=nt(),d=function(p,m,_){const k=p.data,P=m.data,x=p.width,w=p.height,C=_.polarCenterX||x/2,N=_.polarCenterY||w/2;let M=Math.sqrt(C*C+N*N),b=x-C,T=w-N;const v=Math.sqrt(b*b+T*T);M=v>M?v:M;const L=w,D=x,j=360/D*Math.PI/180;for(let H=0;H<D;H+=1){const I=Math.sin(H*j),z=Math.cos(H*j);for(let B=0;B<L;B+=1){b=Math.floor(C+M*B/L*z),T=Math.floor(N+M*B/L*I);let q=(T*x+b)*4;const K=k[q+0],ee=k[q+1],ne=k[q+2],$=k[q+3];q=(H+B*x)*4,P[q+0]=K,P[q+1]=ee,P[q+2]=ne,P[q+3]=$}}},u=function(p,m,_){const k=p.data,P=m.data,x=p.width,w=p.height,C=_.polarCenterX||x/2,N=_.polarCenterY||w/2;let M=Math.sqrt(C*C+N*N),b=x-C,T=w-N;const v=Math.sqrt(b*b+T*T);M=v>M?v:M;const L=w,D=x,j=0;let H,I;for(b=0;b<x;b+=1)for(T=0;T<w;T+=1){const z=b-C,B=T-N,q=Math.sqrt(z*z+B*B)*L/M;let K=(Math.atan2(B,z)*180/Math.PI+360+j)%360;K=K*D/360,H=Math.floor(K),I=Math.floor(q);let ee=(I*x+H)*4;const ne=k[ee+0],$=k[ee+1],pe=k[ee+2],A=k[ee+3];ee=(T*x+b)*4,P[ee+0]=ne,P[ee+1]=$,P[ee+2]=pe,P[ee+3]=A}},f=function(p){const m=p.width,_=p.height;let k,P,x,w,C,N,M,b,T,v,L=Math.round(this.kaleidoscopePower());const D=Math.round(this.kaleidoscopeAngle()),j=Math.floor(m*(D%360)/360);if(L<1)return;const H=o.Util.createCanvasElement();H.width=m,H.height=_;const I=H.getContext("2d").getImageData(0,0,m,_);o.Util.releaseCanvas(H),d(p,I,{polarCenterX:m/2,polarCenterY:_/2});let z=m/Math.pow(2,L);for(;z<=8;)z=z*2,L-=1;z=Math.ceil(z);let B=z,q=0,K=B,ee=1;for(j+z>m&&(q=B,K=0,ee=-1),P=0;P<_;P+=1)for(k=q;k!==K;k+=ee)x=Math.round(k+j)%m,T=(m*P+x)*4,C=I.data[T+0],N=I.data[T+1],M=I.data[T+2],b=I.data[T+3],v=(m*P+k)*4,I.data[v+0]=C,I.data[v+1]=N,I.data[v+2]=M,I.data[v+3]=b;for(P=0;P<_;P+=1)for(B=Math.floor(z),w=0;w<L;w+=1){for(k=0;k<B+1;k+=1)T=(m*P+k)*4,C=I.data[T+0],N=I.data[T+1],M=I.data[T+2],b=I.data[T+3],v=(m*P+B*2-k-1)*4,I.data[v+0]=C,I.data[v+1]=N,I.data[v+2]=M,I.data[v+3]=b;B*=2}u(I,p,{})};return bc.Kaleidoscope=f,i.Factory.addGetterSetter(t.Node,"kaleidoscopePower",2,(0,a.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(t.Node,"kaleidoscopeAngle",0,(0,a.getNumberValidator)(),i.Factory.afterSetFilter),bc}var jc={},f1;function Cv(){if(f1)return jc;f1=1,Object.defineProperty(jc,"__esModule",{value:!0}),jc.Mask=void 0;const i=et(),t=nn(),o=nt();function a(x,w,C){let N=(C*x.width+w)*4;const M=[];return M.push(x.data[N++],x.data[N++],x.data[N++],x.data[N++]),M}function d(x,w){return Math.sqrt(Math.pow(x[0]-w[0],2)+Math.pow(x[1]-w[1],2)+Math.pow(x[2]-w[2],2))}function u(x){const w=[0,0,0];for(let C=0;C<x.length;C++)w[0]+=x[C][0],w[1]+=x[C][1],w[2]+=x[C][2];return w[0]/=x.length,w[1]/=x.length,w[2]/=x.length,w}function f(x,w){const C=a(x,0,0),N=a(x,x.width-1,0),M=a(x,0,x.height-1),b=a(x,x.width-1,x.height-1),T=w||10;if(d(C,N)<T&&d(N,b)<T&&d(b,M)<T&&d(M,C)<T){const v=u([N,C,b,M]),L=[];for(let D=0;D<x.width*x.height;D++){const j=d(v,[x.data[D*4],x.data[D*4+1],x.data[D*4+2]]);L[D]=j<T?0:255}return L}}function p(x,w){for(let C=0;C<x.width*x.height;C++)x.data[4*C+3]=w[C]}function m(x,w,C){const N=[1,1,1,1,0,1,1,1,1],M=Math.round(Math.sqrt(N.length)),b=Math.floor(M/2),T=[];for(let v=0;v<C;v++)for(let L=0;L<w;L++){const D=v*w+L;let j=0;for(let H=0;H<M;H++)for(let I=0;I<M;I++){const z=v+H-b,B=L+I-b;if(z>=0&&z<C&&B>=0&&B<w){const q=z*w+B,K=N[H*M+I];j+=x[q]*K}}T[D]=j===2040?255:0}return T}function _(x,w,C){const N=[1,1,1,1,1,1,1,1,1],M=Math.round(Math.sqrt(N.length)),b=Math.floor(M/2),T=[];for(let v=0;v<C;v++)for(let L=0;L<w;L++){const D=v*w+L;let j=0;for(let H=0;H<M;H++)for(let I=0;I<M;I++){const z=v+H-b,B=L+I-b;if(z>=0&&z<C&&B>=0&&B<w){const q=z*w+B,K=N[H*M+I];j+=x[q]*K}}T[D]=j>=1020?255:0}return T}function k(x,w,C){const N=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],M=Math.round(Math.sqrt(N.length)),b=Math.floor(M/2),T=[];for(let v=0;v<C;v++)for(let L=0;L<w;L++){const D=v*w+L;let j=0;for(let H=0;H<M;H++)for(let I=0;I<M;I++){const z=v+H-b,B=L+I-b;if(z>=0&&z<C&&B>=0&&B<w){const q=z*w+B,K=N[H*M+I];j+=x[q]*K}}T[D]=j}return T}const P=function(x){const w=this.threshold();let C=f(x,w);return C&&(C=m(C,x.width,x.height),C=_(C,x.width,x.height),C=k(C,x.width,x.height),p(x,C)),x};return jc.Mask=P,i.Factory.addGetterSetter(t.Node,"threshold",0,(0,o.getNumberValidator)(),i.Factory.afterSetFilter),jc}var Bc={},p1;function Ev(){if(p1)return Bc;p1=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.Noise=void 0;const i=et(),t=nn(),o=nt(),a=function(d){const u=this.noise()*255,f=d.data,p=f.length,m=u/2;for(let _=0;_<p;_+=4)f[_+0]+=m-2*m*Math.random(),f[_+1]+=m-2*m*Math.random(),f[_+2]+=m-2*m*Math.random()};return Bc.Noise=a,i.Factory.addGetterSetter(t.Node,"noise",.2,(0,o.getNumberValidator)(),i.Factory.afterSetFilter),Bc}var Gc={},g1;function Pv(){if(g1)return Gc;g1=1,Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.Pixelate=void 0;const i=et(),t=qt(),o=nn(),a=nt(),d=function(u){let f=Math.ceil(this.pixelSize()),p=u.width,m=u.height,_=Math.ceil(p/f),k=Math.ceil(m/f),P=u.data;if(f<=0){t.Util.error("pixelSize value can not be <= 0");return}for(let x=0;x<_;x+=1)for(let w=0;w<k;w+=1){let C=0,N=0,M=0,b=0;const T=x*f,v=T+f,L=w*f,D=L+f;let j=0;for(let H=T;H<v;H+=1)if(!(H>=p))for(let I=L;I<D;I+=1){if(I>=m)continue;const z=(p*I+H)*4;C+=P[z+0],N+=P[z+1],M+=P[z+2],b+=P[z+3],j+=1}C=C/j,N=N/j,M=M/j,b=b/j;for(let H=T;H<v;H+=1)if(!(H>=p))for(let I=L;I<D;I+=1){if(I>=m)continue;const z=(p*I+H)*4;P[z+0]=C,P[z+1]=N,P[z+2]=M,P[z+3]=b}}};return Gc.Pixelate=d,i.Factory.addGetterSetter(o.Node,"pixelSize",8,(0,a.getNumberValidator)(),i.Factory.afterSetFilter),Gc}var Vc={},m1;function Nv(){if(m1)return Vc;m1=1,Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.Posterize=void 0;const i=et(),t=nn(),o=nt(),a=function(d){const u=Math.round(this.levels()*254)+1,f=d.data,p=f.length,m=255/u;for(let _=0;_<p;_+=1)f[_]=Math.floor(f[_]/m)*m};return Vc.Posterize=a,i.Factory.addGetterSetter(t.Node,"levels",.5,(0,o.getNumberValidator)(),i.Factory.afterSetFilter),Vc}var Hc={},y1;function Tv(){if(y1)return Hc;y1=1,Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.RGB=void 0;const i=et(),t=nn(),o=nt(),a=function(d){const u=d.data,f=u.length,p=this.red(),m=this.green(),_=this.blue();for(let k=0;k<f;k+=4){const P=(.34*u[k]+.5*u[k+1]+.16*u[k+2])/255;u[k]=P*p,u[k+1]=P*m,u[k+2]=P*_,u[k+3]=u[k+3]}};return Hc.RGB=a,i.Factory.addGetterSetter(t.Node,"red",0,function(d){return this._filterUpToDate=!1,d>255?255:d<0?0:Math.round(d)}),i.Factory.addGetterSetter(t.Node,"green",0,function(d){return this._filterUpToDate=!1,d>255?255:d<0?0:Math.round(d)}),i.Factory.addGetterSetter(t.Node,"blue",0,o.RGBComponent,i.Factory.afterSetFilter),Hc}var Wc={},v1;function Rv(){if(v1)return Wc;v1=1,Object.defineProperty(Wc,"__esModule",{value:!0}),Wc.RGBA=void 0;const i=et(),t=nn(),o=nt(),a=function(d){const u=d.data,f=u.length,p=this.red(),m=this.green(),_=this.blue(),k=this.alpha();for(let P=0;P<f;P+=4){const x=1-k;u[P]=p*k+u[P]*x,u[P+1]=m*k+u[P+1]*x,u[P+2]=_*k+u[P+2]*x}};return Wc.RGBA=a,i.Factory.addGetterSetter(t.Node,"red",0,function(d){return this._filterUpToDate=!1,d>255?255:d<0?0:Math.round(d)}),i.Factory.addGetterSetter(t.Node,"green",0,function(d){return this._filterUpToDate=!1,d>255?255:d<0?0:Math.round(d)}),i.Factory.addGetterSetter(t.Node,"blue",0,o.RGBComponent,i.Factory.afterSetFilter),i.Factory.addGetterSetter(t.Node,"alpha",1,function(d){return this._filterUpToDate=!1,d>1?1:d<0?0:d}),Wc}var Yc={},_1;function Lv(){if(_1)return Yc;_1=1,Object.defineProperty(Yc,"__esModule",{value:!0}),Yc.Sepia=void 0;const i=function(t){const o=t.data,a=o.length;for(let d=0;d<a;d+=4){const u=o[d+0],f=o[d+1],p=o[d+2];o[d+0]=Math.min(255,u*.393+f*.769+p*.189),o[d+1]=Math.min(255,u*.349+f*.686+p*.168),o[d+2]=Math.min(255,u*.272+f*.534+p*.131)}};return Yc.Sepia=i,Yc}var qc={},S1;function Mv(){if(S1)return qc;S1=1,Object.defineProperty(qc,"__esModule",{value:!0}),qc.Solarize=void 0;const i=function(t){const o=t.data,a=t.width,d=t.height,u=a*4;let f=d;do{const p=(f-1)*u;let m=a;do{const _=p+(m-1)*4;let k=o[_],P=o[_+1],x=o[_+2];k>127&&(k=255-k),P>127&&(P=255-P),x>127&&(x=255-x),o[_]=k,o[_+1]=P,o[_+2]=x}while(--m)}while(--f)};return qc.Solarize=i,qc}var Xc={},w1;function Dv(){if(w1)return Xc;w1=1,Object.defineProperty(Xc,"__esModule",{value:!0}),Xc.Threshold=void 0;const i=et(),t=nn(),o=nt(),a=function(d){const u=this.threshold()*255,f=d.data,p=f.length;for(let m=0;m<p;m+=1)f[m]=f[m]<u?0:255};return Xc.Threshold=a,i.Factory.addGetterSetter(t.Node,"threshold",.5,(0,o.getNumberValidator)(),i.Factory.afterSetFilter),Xc}var k1;function Iv(){if(k1)return ac;k1=1,Object.defineProperty(ac,"__esModule",{value:!0}),ac.Konva=void 0;const i=j0(),t=ev(),o=nv(),a=rv(),d=iv(),u=sv(),f=ov(),p=Dm(),m=np(),_=Im(),k=lv(),P=av(),x=uv(),w=cv(),C=Am(),N=dv(),M=hv(),b=fv(),T=pv(),v=gv(),L=mv(),D=yv(),j=vv(),H=_v(),I=Sv(),z=wv(),B=kv(),q=xv(),K=Cv(),ee=Ev(),ne=Pv(),$=Nv(),pe=Tv(),A=Rv(),U=Lv(),W=Mv(),G=Dv();return ac.Konva=i.Konva.Util._assign(i.Konva,{Arc:t.Arc,Arrow:o.Arrow,Circle:a.Circle,Ellipse:d.Ellipse,Image:u.Image,Label:f.Label,Tag:f.Tag,Line:p.Line,Path:m.Path,Rect:_.Rect,RegularPolygon:k.RegularPolygon,Ring:P.Ring,Sprite:x.Sprite,Star:w.Star,Text:C.Text,TextPath:N.TextPath,Transformer:M.Transformer,Wedge:b.Wedge,Filters:{Blur:T.Blur,Brighten:v.Brighten,Contrast:L.Contrast,Emboss:D.Emboss,Enhance:j.Enhance,Grayscale:H.Grayscale,HSL:I.HSL,HSV:z.HSV,Invert:B.Invert,Kaleidoscope:q.Kaleidoscope,Mask:K.Mask,Noise:ee.Noise,Pixelate:ne.Pixelate,Posterize:$.Posterize,RGB:pe.RGB,RGBA:A.RGBA,Sepia:U.Sepia,Solarize:W.Solarize,Threshold:G.Threshold}}),ac}var Av=Fh.exports,x1;function Fv(){if(x1)return Fh.exports;x1=1,Object.defineProperty(Av,"__esModule",{value:!0});const i=Iv();return Fh.exports=i.Konva,Fh.exports}Fv();var Lh={exports:{}},C1;function Ov(){return C1||(C1=1,(function(i,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;var o=j0();Object.defineProperty(t,"Konva",{enumerable:!0,get:function(){return o.Konva}});const a=j0();i.exports=a.Konva})(Lh,Lh.exports)),Lh.exports}var zv=Ov();const Zc=ad(zv);var v0={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0,E1;function Uv(){return E1||(E1=1,_0=function(t){var o={},a=eu(),d=Z0(),u=Object.assign;function f(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,c=1;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,m=Symbol.for("react.element"),_=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),C=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),L=Symbol.for("react.offscreen"),D=Symbol.iterator;function j(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}function H(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case _:return"Portal";case x:return"Profiler";case P:return"StrictMode";case M:return"Suspense";case b:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case C:return(r.displayName||"Context")+".Consumer";case w:return(r._context.displayName||"Context")+".Provider";case N:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case T:return s=r.displayName||null,s!==null?s:H(r.type)||"Memo";case v:s=r._payload,r=r._init;try{return H(r(s))}catch{}}return null}function I(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(s);case 8:return s===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function z(r){var s=r,c=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(c=s.return),r=s.return;while(r)}return s.tag===3?c:null}function B(r){if(z(r)!==r)throw Error(f(188))}function q(r){var s=r.alternate;if(!s){if(s=z(r),s===null)throw Error(f(188));return s!==r?null:r}for(var c=r,g=s;;){var S=c.return;if(S===null)break;var R=S.alternate;if(R===null){if(g=S.return,g!==null){c=g;continue}break}if(S.child===R.child){for(R=S.child;R;){if(R===c)return B(S),r;if(R===g)return B(S),s;R=R.sibling}throw Error(f(188))}if(c.return!==g.return)c=S,g=R;else{for(var V=!1,ie=S.child;ie;){if(ie===c){V=!0,c=S,g=R;break}if(ie===g){V=!0,g=S,c=R;break}ie=ie.sibling}if(!V){for(ie=R.child;ie;){if(ie===c){V=!0,c=R,g=S;break}if(ie===g){V=!0,g=R,c=S;break}ie=ie.sibling}if(!V)throw Error(f(189))}}if(c.alternate!==g)throw Error(f(190))}if(c.tag!==3)throw Error(f(188));return c.stateNode.current===c?r:s}function K(r){return r=q(r),r!==null?ee(r):null}function ee(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=ee(r);if(s!==null)return s;r=r.sibling}return null}function ne(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){if(r.tag!==4){var s=ne(r);if(s!==null)return s}r=r.sibling}return null}var $=Array.isArray,pe=t.getPublicInstance,A=t.getRootHostContext,U=t.getChildHostContext,W=t.prepareForCommit,G=t.resetAfterCommit,F=t.createInstance,Q=t.appendInitialChild,Z=t.finalizeInitialChildren,he=t.prepareUpdate,me=t.shouldSetTextContent,le=t.createTextInstance,Y=t.scheduleTimeout,se=t.cancelTimeout,ye=t.noTimeout,xe=t.isPrimaryRenderer,Pe=t.supportsMutation,be=t.supportsPersistence,Oe=t.supportsHydration,rt=t.getInstanceFromNode,Ge=t.preparePortalMount,jt=t.getCurrentEventPriority,ot=t.detachDeletedInstance,Et=t.supportsMicrotasks,Hr=t.scheduleMicrotask,Dt=t.supportsTestSelectors,Sr=t.findFiberRoot,ht=t.getBoundingRect,Xn=t.getTextContent,dn=t.isHiddenSubtree,Wr=t.matchAccessibilityRole,hn=t.setFocusIfFocusable,wr=t.setupIntersectionObserver,kn=t.appendChild,or=t.appendChildToContainer,Bt=t.commitTextUpdate,Gt=t.commitMount,ns=t.commitUpdate,Vo=t.insertBefore,rs=t.insertInContainerBefore,lu=t.removeChild,Ho=t.removeChildFromContainer,Fl=t.resetTextContent,au=t.hideInstance,uu=t.hideTextInstance,cu=t.unhideInstance,Bs=t.unhideTextInstance,Gs=t.clearContainer,yd=t.cloneInstance,du=t.createContainerChildSet,hu=t.appendChildToContainerChildSet,vd=t.finalizeContainerChildren,Ol=t.replaceContainerChildren,zl=t.cloneHiddenInstance,fu=t.cloneHiddenTextInstance,Wo=t.canHydrateInstance,pu=t.canHydrateTextInstance,Yo=t.canHydrateSuspenseInstance,_d=t.isSuspenseInstancePending,is=t.isSuspenseInstanceFallback,Ul=t.getSuspenseInstanceFallbackErrorDetails,bl=t.registerSuspenseInstanceRetry,Vs=t.getNextHydratableSibling,Sf=t.getFirstHydratableChild,wf=t.getFirstHydratableChildWithinContainer,kf=t.getFirstHydratableChildWithinSuspenseInstance,ss=t.hydrateInstance,Sd=t.hydrateTextInstance,wd=t.hydrateSuspenseInstance,xf=t.getNextHydratableInstanceAfterSuspenseInstance,kd=t.commitHydratedContainer,xd=t.commitHydratedSuspenseInstance,Cd=t.clearSuspenseBoundary,Ed=t.clearSuspenseBoundaryFromContainer,Cf=t.shouldDeleteUnhydratedTailInstances,Ef=t.didNotMatchHydratedContainerTextInstance,Ot=t.didNotMatchHydratedTextInstance,gu;function os(r){if(gu===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);gu=s&&s[1]||""}return`
`+gu+r}var jl=!1;function Hs(r,s){if(!r||jl)return"";jl=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(ke){var g=ke}Reflect.construct(r,[],s)}else{try{s.call()}catch(ke){g=ke}r.call(s.prototype)}else{try{throw Error()}catch(ke){g=ke}r()}}catch(ke){if(ke&&g&&typeof ke.stack=="string"){for(var S=ke.stack.split(`
`),R=g.stack.split(`
`),V=S.length-1,ie=R.length-1;1<=V&&0<=ie&&S[V]!==R[ie];)ie--;for(;1<=V&&0<=ie;V--,ie--)if(S[V]!==R[ie]){if(V!==1||ie!==1)do if(V--,ie--,0>ie||S[V]!==R[ie]){var fe=`
`+S[V].replace(" at new "," at ");return r.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",r.displayName)),fe}while(1<=V&&0<=ie);break}}}finally{jl=!1,Error.prepareStackTrace=c}return(r=r?r.displayName||r.name:"")?os(r):""}var Pf=Object.prototype.hasOwnProperty,Bl=[],ui=-1;function fn(r){return{current:r}}function St(r){0>ui||(r.current=Bl[ui],Bl[ui]=null,ui--)}function Qe(r,s){ui++,Bl[ui]=r.current,r.current=s}var Ti={},xn=fn(Ti),Kn=fn(!1),Yr=Ti;function ci(r,s){var c=r.type.contextTypes;if(!c)return Ti;var g=r.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===s)return g.__reactInternalMemoizedMaskedChildContext;var S={},R;for(R in c)S[R]=s[R];return g&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=S),S}function rn(r){return r=r.childContextTypes,r!=null}function ls(){St(Kn),St(xn)}function Pd(r,s,c){if(xn.current!==Ti)throw Error(f(168));Qe(xn,s),Qe(Kn,c)}function Nd(r,s,c){var g=r.stateNode;if(s=s.childContextTypes,typeof g.getChildContext!="function")return c;g=g.getChildContext();for(var S in g)if(!(S in s))throw Error(f(108,I(r)||"Unknown",S));return u({},c,g)}function Ws(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ti,Yr=xn.current,Qe(xn,r),Qe(Kn,Kn.current),!0}function mu(r,s,c){var g=r.stateNode;if(!g)throw Error(f(169));c?(r=Nd(r,s,Yr),g.__reactInternalMemoizedMergedChildContext=r,St(Kn),St(xn),Qe(xn,r)):St(Kn),Qe(Kn,c)}var lr=Math.clz32?Math.clz32:yu,qo=Math.log,Nf=Math.LN2;function yu(r){return r>>>=0,r===0?32:31-(qo(r)/Nf|0)|0}var st=64,Xo=4194304;function Ys(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function qs(r,s){var c=r.pendingLanes;if(c===0)return 0;var g=0,S=r.suspendedLanes,R=r.pingedLanes,V=c&268435455;if(V!==0){var ie=V&~S;ie!==0?g=Ys(ie):(R&=V,R!==0&&(g=Ys(R)))}else V=c&~S,V!==0?g=Ys(V):R!==0&&(g=Ys(R));if(g===0)return 0;if(s!==0&&s!==g&&(s&S)===0&&(S=g&-g,R=s&-s,S>=R||S===16&&(R&4194240)!==0))return s;if((g&4)!==0&&(g|=c&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=g;0<s;)c=31-lr(s),S=1<<c,g|=r[c],s&=~S;return g}function Td(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rd(r,s){for(var c=r.suspendedLanes,g=r.pingedLanes,S=r.expirationTimes,R=r.pendingLanes;0<R;){var V=31-lr(R),ie=1<<V,fe=S[V];fe===-1?((ie&c)===0||(ie&g)!==0)&&(S[V]=Td(ie,s)):fe<=s&&(r.expiredLanes|=ie),R&=~ie}}function Gl(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Vl(){var r=st;return st<<=1,(st&4194240)===0&&(st=64),r}function Xs(r){for(var s=[],c=0;31>c;c++)s.push(r);return s}function kr(r,s,c){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-lr(s),r[s]=c}function Ri(r,s){var c=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var g=r.eventTimes;for(r=r.expirationTimes;0<c;){var S=31-lr(c),R=1<<S;s[S]=0,g[S]=-1,r[S]=-1,c&=~R}}function qr(r,s){var c=r.entangledLanes|=s;for(r=r.entanglements;c;){var g=31-lr(c),S=1<<g;S&s|r[g]&s&&(r[g]|=s),c&=~S}}var Je=0;function Ks(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Xr=d.unstable_scheduleCallback,Ld=d.unstable_cancelCallback,Md=d.unstable_shouldYield,Ko=d.unstable_requestPaint,sn=d.unstable_now,Hl=d.unstable_ImmediatePriority,Wl=d.unstable_UserBlockingPriority,Yl=d.unstable_NormalPriority,Tf=d.unstable_IdlePriority,Li=null,Qn=null;function Qs(r){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(Li,r,void 0,(r.current.flags&128)===128)}catch{}}function ql(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Ar=typeof Object.is=="function"?Object.is:ql,di=null,Js=!1,Zs=!1;function Xl(r){di===null?di=[r]:di.push(r)}function Dd(r){Js=!0,Xl(r)}function pn(){if(!Zs&&di!==null){Zs=!0;var r=0,s=Je;try{var c=di;for(Je=1;r<c.length;r++){var g=c[r];do g=g(!0);while(g!==null)}di=null,Js=!1}catch(S){throw di!==null&&(di=di.slice(r+1)),Xr(Hl,pn),S}finally{Je=s,Zs=!1}}return null}var Mi=[],hi=0,Qo=null,as=0,On=[],ar=0,Xt=null,Jn=1,Fr="";function Or(r,s){Mi[hi++]=as,Mi[hi++]=Qo,Qo=r,as=s}function Id(r,s,c){On[ar++]=Jn,On[ar++]=Fr,On[ar++]=Xt,Xt=r;var g=Jn;r=Fr;var S=32-lr(g)-1;g&=~(1<<S),c+=1;var R=32-lr(s)+S;if(30<R){var V=S-S%5;R=(g&(1<<V)-1).toString(32),g>>=V,S-=V,Jn=1<<32-lr(s)+S|c<<S|g,Fr=R+r}else Jn=1<<R|c<<S|g,Fr=r}function Jo(r){r.return!==null&&(Or(r,1),Id(r,1,0))}function Zo(r){for(;r===Qo;)Qo=Mi[--hi],Mi[hi]=null,as=Mi[--hi],Mi[hi]=null;for(;r===Xt;)Xt=On[--ar],On[ar]=null,Fr=On[--ar],On[ar]=null,Jn=On[--ar],On[ar]=null}var gn=null,zn=null,wt=!1,$o=!1,zr=null;function Ad(r,s){var c=vr(5,null,null,0);c.elementType="DELETED",c.stateNode=s,c.return=r,s=r.deletions,s===null?(r.deletions=[c],r.flags|=16):s.push(c)}function Kl(r,s){switch(r.tag){case 5:return s=Wo(s,r.type,r.pendingProps),s!==null?(r.stateNode=s,gn=r,zn=Sf(s),!0):!1;case 6:return s=pu(s,r.pendingProps),s!==null?(r.stateNode=s,gn=r,zn=null,!0):!1;case 13:if(s=Yo(s),s!==null){var c=Xt!==null?{id:Jn,overflow:Fr}:null;return r.memoizedState={dehydrated:s,treeContext:c,retryLane:1073741824},c=vr(18,null,null,0),c.stateNode=s,c.return=r,r.child=c,gn=r,zn=null,!0}return!1;default:return!1}}function vu(r){return(r.mode&1)!==0&&(r.flags&128)===0}function _u(r){if(wt){var s=zn;if(s){var c=s;if(!Kl(r,s)){if(vu(r))throw Error(f(418));s=Vs(c);var g=gn;s&&Kl(r,s)?Ad(g,c):(r.flags=r.flags&-4097|2,wt=!1,gn=r)}}else{if(vu(r))throw Error(f(418));r.flags=r.flags&-4097|2,wt=!1,gn=r}}}function Fd(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;gn=r}function Ql(r){if(!Oe||r!==gn)return!1;if(!wt)return Fd(r),wt=!0,!1;if(r.tag!==3&&(r.tag!==5||Cf(r.type)&&!me(r.type,r.memoizedProps))){var s=zn;if(s){if(vu(r))throw Od(),Error(f(418));for(;s;)Ad(r,s),s=Vs(s)}}if(Fd(r),r.tag===13){if(!Oe)throw Error(f(316));if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(f(317));zn=xf(r)}else zn=gn?Vs(r.stateNode):null;return!0}function Od(){for(var r=zn;r;)r=Vs(r)}function us(){Oe&&(zn=gn=null,$o=wt=!1)}function Su(r){zr===null?zr=[r]:zr.push(r)}var Rf=p.ReactCurrentBatchConfig;function Jl(r,s){if(Ar(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var c=Object.keys(r),g=Object.keys(s);if(c.length!==g.length)return!1;for(g=0;g<c.length;g++){var S=c[g];if(!Pf.call(s,S)||!Ar(r[S],s[S]))return!1}return!0}function Lf(r){switch(r.tag){case 5:return os(r.type);case 16:return os("Lazy");case 13:return os("Suspense");case 19:return os("SuspenseList");case 0:case 2:case 15:return r=Hs(r.type,!1),r;case 11:return r=Hs(r.type.render,!1),r;case 1:return r=Hs(r.type,!0),r;default:return""}}function cs(r,s,c){if(r=c.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(f(309));var g=c.stateNode}if(!g)throw Error(f(147,r));var S=g,R=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===R?s.ref:(s=function(V){var ie=S.refs;V===null?delete ie[R]:ie[R]=V},s._stringRef=R,s)}if(typeof r!="string")throw Error(f(284));if(!c._owner)throw Error(f(290,r))}return r}function Zl(r,s){throw r=Object.prototype.toString.call(s),Error(f(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function zd(r){var s=r._init;return s(r._payload)}function Ud(r){function s(ce,oe){if(r){var ge=ce.deletions;ge===null?(ce.deletions=[oe],ce.flags|=16):ge.push(oe)}}function c(ce,oe){if(!r)return null;for(;oe!==null;)s(ce,oe),oe=oe.sibling;return null}function g(ce,oe){for(ce=new Map;oe!==null;)oe.key!==null?ce.set(oe.key,oe):ce.set(oe.index,oe),oe=oe.sibling;return ce}function S(ce,oe){return ce=Ki(ce,oe),ce.index=0,ce.sibling=null,ce}function R(ce,oe,ge){return ce.index=ge,r?(ge=ce.alternate,ge!==null?(ge=ge.index,ge<oe?(ce.flags|=2,oe):ge):(ce.flags|=2,oe)):(ce.flags|=1048576,oe)}function V(ce){return r&&ce.alternate===null&&(ce.flags|=2),ce}function ie(ce,oe,ge,Te){return oe===null||oe.tag!==6?(oe=Co(ge,ce.mode,Te),oe.return=ce,oe):(oe=S(oe,ge),oe.return=ce,oe)}function fe(ce,oe,ge,Te){var ze=ge.type;return ze===k?Le(ce,oe,ge.props.children,Te,ge.key):oe!==null&&(oe.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===v&&zd(ze)===oe.type)?(Te=S(oe,ge.props),Te.ref=cs(ce,oe,ge),Te.return=ce,Te):(Te=La(ge.type,ge.key,ge.props,null,ce.mode,Te),Te.ref=cs(ce,oe,ge),Te.return=ce,Te)}function ke(ce,oe,ge,Te){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==ge.containerInfo||oe.stateNode.implementation!==ge.implementation?(oe=Ma(ge,ce.mode,Te),oe.return=ce,oe):(oe=S(oe,ge.children||[]),oe.return=ce,oe)}function Le(ce,oe,ge,Te,ze){return oe===null||oe.tag!==7?(oe=vn(ge,ce.mode,Te,ze),oe.return=ce,oe):(oe=S(oe,ge),oe.return=ce,oe)}function He(ce,oe,ge){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=Co(""+oe,ce.mode,ge),oe.return=ce,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case m:return ge=La(oe.type,oe.key,oe.props,null,ce.mode,ge),ge.ref=cs(ce,null,oe),ge.return=ce,ge;case _:return oe=Ma(oe,ce.mode,ge),oe.return=ce,oe;case v:var Te=oe._init;return He(ce,Te(oe._payload),ge)}if($(oe)||j(oe))return oe=vn(oe,ce.mode,ge,null),oe.return=ce,oe;Zl(ce,oe)}return null}function Ne(ce,oe,ge,Te){var ze=oe!==null?oe.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ze!==null?null:ie(ce,oe,""+ge,Te);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case m:return ge.key===ze?fe(ce,oe,ge,Te):null;case _:return ge.key===ze?ke(ce,oe,ge,Te):null;case v:return ze=ge._init,Ne(ce,oe,ze(ge._payload),Te)}if($(ge)||j(ge))return ze!==null?null:Le(ce,oe,ge,Te,null);Zl(ce,ge)}return null}function _t(ce,oe,ge,Te,ze){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return ce=ce.get(ge)||null,ie(oe,ce,""+Te,ze);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case m:return ce=ce.get(Te.key===null?ge:Te.key)||null,fe(oe,ce,Te,ze);case _:return ce=ce.get(Te.key===null?ge:Te.key)||null,ke(oe,ce,Te,ze);case v:var Xe=Te._init;return _t(ce,oe,ge,Xe(Te._payload),ze)}if($(Te)||j(Te))return ce=ce.get(ge)||null,Le(oe,ce,Te,ze,null);Zl(oe,Te)}return null}function ct(ce,oe,ge,Te){for(var ze=null,Xe=null,We=oe,tt=oe=0,$t=null;We!==null&&tt<ge.length;tt++){We.index>tt?($t=We,We=null):$t=We.sibling;var $e=Ne(ce,We,ge[tt],Te);if($e===null){We===null&&(We=$t);break}r&&We&&$e.alternate===null&&s(ce,We),oe=R($e,oe,tt),Xe===null?ze=$e:Xe.sibling=$e,Xe=$e,We=$t}if(tt===ge.length)return c(ce,We),wt&&Or(ce,tt),ze;if(We===null){for(;tt<ge.length;tt++)We=He(ce,ge[tt],Te),We!==null&&(oe=R(We,oe,tt),Xe===null?ze=We:Xe.sibling=We,Xe=We);return wt&&Or(ce,tt),ze}for(We=g(ce,We);tt<ge.length;tt++)$t=_t(We,ce,tt,ge[tt],Te),$t!==null&&(r&&$t.alternate!==null&&We.delete($t.key===null?tt:$t.key),oe=R($t,oe,tt),Xe===null?ze=$t:Xe.sibling=$t,Xe=$t);return r&&We.forEach(function(Rn){return s(ce,Rn)}),wt&&Or(ce,tt),ze}function Vn(ce,oe,ge,Te){var ze=j(ge);if(typeof ze!="function")throw Error(f(150));if(ge=ze.call(ge),ge==null)throw Error(f(151));for(var Xe=ze=null,We=oe,tt=oe=0,$t=null,$e=ge.next();We!==null&&!$e.done;tt++,$e=ge.next()){We.index>tt?($t=We,We=null):$t=We.sibling;var Rn=Ne(ce,We,$e.value,Te);if(Rn===null){We===null&&(We=$t);break}r&&We&&Rn.alternate===null&&s(ce,We),oe=R(Rn,oe,tt),Xe===null?ze=Rn:Xe.sibling=Rn,Xe=Rn,We=$t}if($e.done)return c(ce,We),wt&&Or(ce,tt),ze;if(We===null){for(;!$e.done;tt++,$e=ge.next())$e=He(ce,$e.value,Te),$e!==null&&(oe=R($e,oe,tt),Xe===null?ze=$e:Xe.sibling=$e,Xe=$e);return wt&&Or(ce,tt),ze}for(We=g(ce,We);!$e.done;tt++,$e=ge.next())$e=_t(We,ce,tt,$e.value,Te),$e!==null&&(r&&$e.alternate!==null&&We.delete($e.key===null?tt:$e.key),oe=R($e,oe,tt),Xe===null?ze=$e:Xe.sibling=$e,Xe=$e);return r&&We.forEach(function(Ff){return s(ce,Ff)}),wt&&Or(ce,tt),ze}function ri(ce,oe,ge,Te){if(typeof ge=="object"&&ge!==null&&ge.type===k&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case m:e:{for(var ze=ge.key,Xe=oe;Xe!==null;){if(Xe.key===ze){if(ze=ge.type,ze===k){if(Xe.tag===7){c(ce,Xe.sibling),oe=S(Xe,ge.props.children),oe.return=ce,ce=oe;break e}}else if(Xe.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===v&&zd(ze)===Xe.type){c(ce,Xe.sibling),oe=S(Xe,ge.props),oe.ref=cs(ce,Xe,ge),oe.return=ce,ce=oe;break e}c(ce,Xe);break}else s(ce,Xe);Xe=Xe.sibling}ge.type===k?(oe=vn(ge.props.children,ce.mode,Te,ge.key),oe.return=ce,ce=oe):(Te=La(ge.type,ge.key,ge.props,null,ce.mode,Te),Te.ref=cs(ce,oe,ge),Te.return=ce,ce=Te)}return V(ce);case _:e:{for(Xe=ge.key;oe!==null;){if(oe.key===Xe)if(oe.tag===4&&oe.stateNode.containerInfo===ge.containerInfo&&oe.stateNode.implementation===ge.implementation){c(ce,oe.sibling),oe=S(oe,ge.children||[]),oe.return=ce,ce=oe;break e}else{c(ce,oe);break}else s(ce,oe);oe=oe.sibling}oe=Ma(ge,ce.mode,Te),oe.return=ce,ce=oe}return V(ce);case v:return Xe=ge._init,ri(ce,oe,Xe(ge._payload),Te)}if($(ge))return ct(ce,oe,ge,Te);if(j(ge))return Vn(ce,oe,ge,Te);Zl(ce,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"?(ge=""+ge,oe!==null&&oe.tag===6?(c(ce,oe.sibling),oe=S(oe,ge),oe.return=ce,ce=oe):(c(ce,oe),oe=Co(ge,ce.mode,Te),oe.return=ce,ce=oe),V(ce)):c(ce,oe)}return ri}var ds=Ud(!0),bd=Ud(!1),$l=fn(null),ea=null,$s=null,wu=null;function ku(){wu=$s=ea=null}function jd(r,s,c){xe?(Qe($l,s._currentValue),s._currentValue=c):(Qe($l,s._currentValue2),s._currentValue2=c)}function el(r){var s=$l.current;St($l),xe?r._currentValue=s:r._currentValue2=s}function hs(r,s,c){for(;r!==null;){var g=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,g!==null&&(g.childLanes|=s)):g!==null&&(g.childLanes&s)!==s&&(g.childLanes|=s),r===c)break;r=r.return}}function eo(r,s){ea=r,wu=$s=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Qt=!0),r.firstContext=null)}function ur(r){var s=xe?r._currentValue:r._currentValue2;if(wu!==r)if(r={context:r,memoizedValue:s,next:null},$s===null){if(ea===null)throw Error(f(308));$s=r,ea.dependencies={lanes:0,firstContext:r}}else $s=$s.next=r;return s}var Di=null;function ta(r){Di===null?Di=[r]:Di.push(r)}function xu(r,s,c,g){var S=s.interleaved;return S===null?(c.next=c,ta(s)):(c.next=S.next,S.next=c),s.interleaved=c,Ur(r,g)}function Ur(r,s){r.lanes|=s;var c=r.alternate;for(c!==null&&(c.lanes|=s),c=r,r=r.return;r!==null;)r.childLanes|=s,c=r.alternate,c!==null&&(c.childLanes|=s),c=r,r=r.return;return c.tag===3?c.stateNode:null}var cr=!1;function Cu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bd(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function fi(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function pi(r,s,c){var g=r.updateQueue;if(g===null)return null;if(g=g.shared,(Ye&2)!==0){var S=g.pending;return S===null?s.next=s:(s.next=S.next,S.next=s),g.pending=s,Ur(r,c)}return S=g.interleaved,S===null?(s.next=s,ta(g)):(s.next=S.next,S.next=s),g.interleaved=s,Ur(r,c)}function tl(r,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194240)!==0)){var g=s.lanes;g&=r.pendingLanes,c|=g,s.lanes=c,qr(r,c)}}function to(r,s){var c=r.updateQueue,g=r.alternate;if(g!==null&&(g=g.updateQueue,c===g)){var S=null,R=null;if(c=c.firstBaseUpdate,c!==null){do{var V={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};R===null?S=R=V:R=R.next=V,c=c.next}while(c!==null);R===null?S=R=s:R=R.next=s}else S=R=s;c={baseState:g.baseState,firstBaseUpdate:S,lastBaseUpdate:R,shared:g.shared,effects:g.effects},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=s:r.next=s,c.lastBaseUpdate=s}function Ii(r,s,c,g){var S=r.updateQueue;cr=!1;var R=S.firstBaseUpdate,V=S.lastBaseUpdate,ie=S.shared.pending;if(ie!==null){S.shared.pending=null;var fe=ie,ke=fe.next;fe.next=null,V===null?R=ke:V.next=ke,V=fe;var Le=r.alternate;Le!==null&&(Le=Le.updateQueue,ie=Le.lastBaseUpdate,ie!==V&&(ie===null?Le.firstBaseUpdate=ke:ie.next=ke,Le.lastBaseUpdate=fe))}if(R!==null){var He=S.baseState;V=0,Le=ke=fe=null,ie=R;do{var Ne=ie.lane,_t=ie.eventTime;if((g&Ne)===Ne){Le!==null&&(Le=Le.next={eventTime:_t,lane:0,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null});e:{var ct=r,Vn=ie;switch(Ne=s,_t=c,Vn.tag){case 1:if(ct=Vn.payload,typeof ct=="function"){He=ct.call(_t,He,Ne);break e}He=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=Vn.payload,Ne=typeof ct=="function"?ct.call(_t,He,Ne):ct,Ne==null)break e;He=u({},He,Ne);break e;case 2:cr=!0}}ie.callback!==null&&ie.lane!==0&&(r.flags|=64,Ne=S.effects,Ne===null?S.effects=[ie]:Ne.push(ie))}else _t={eventTime:_t,lane:Ne,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},Le===null?(ke=Le=_t,fe=He):Le=Le.next=_t,V|=Ne;if(ie=ie.next,ie===null){if(ie=S.shared.pending,ie===null)break;Ne=ie,ie=Ne.next,Ne.next=null,S.lastBaseUpdate=Ne,S.shared.pending=null}}while(!0);if(Le===null&&(fe=He),S.baseState=fe,S.firstBaseUpdate=ke,S.lastBaseUpdate=Le,s=S.shared.interleaved,s!==null){S=s;do V|=S.lane,S=S.next;while(S!==s)}else R===null&&(S.shared.lanes=0);_i|=V,r.lanes=V,r.memoizedState=He}}function Gd(r,s,c){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var g=r[s],S=g.callback;if(S!==null){if(g.callback=null,g=c,typeof S!="function")throw Error(f(191,S));S.call(g)}}}var Ai={},xr=fn(Ai),no=fn(Ai),Fi=fn(Ai);function Cr(r){if(r===Ai)throw Error(f(174));return r}function na(r,s){Qe(Fi,s),Qe(no,r),Qe(xr,Ai),r=A(s),St(xr),Qe(xr,r)}function fs(){St(xr),St(no),St(Fi)}function Eu(r){var s=Cr(Fi.current),c=Cr(xr.current);s=U(c,r.type,s),c!==s&&(Qe(no,r),Qe(xr,s))}function Pu(r){no.current===r&&(St(xr),St(no))}var Mt=fn(0);function ra(r){for(var s=r;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||_d(c)||is(c)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Nu=[];function Tu(){for(var r=0;r<Nu.length;r++){var s=Nu[r];xe?s._workInProgressVersionPrimary=null:s._workInProgressVersionSecondary=null}Nu.length=0}var Zn=p.ReactCurrentDispatcher,ps=p.ReactCurrentBatchConfig,Oi=0,Pt=null,Vt=null,Kt=null,ro=!1,nl=!1,rl=0,io=0;function on(){throw Error(f(321))}function gs(r,s){if(s===null)return!1;for(var c=0;c<s.length&&c<r.length;c++)if(!Ar(r[c],s[c]))return!1;return!0}function il(r,s,c,g,S,R){if(Oi=R,Pt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Zn.current=r===null||r.memoizedState===null?Uu:bu,r=c(g,S),nl){R=0;do{if(nl=!1,rl=0,25<=R)throw Error(f(301));R+=1,Kt=Vt=null,s.updateQueue=null,Zn.current=ju,r=c(g,S)}while(nl)}if(Zn.current=Ss,s=Vt!==null&&Vt.next!==null,Oi=0,Kt=Vt=Pt=null,ro=!1,s)throw Error(f(300));return r}function ia(){var r=rl!==0;return rl=0,r}function dr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Pt.memoizedState=Kt=r:Kt=Kt.next=r,Kt}function mn(){if(Vt===null){var r=Pt.alternate;r=r!==null?r.memoizedState:null}else r=Vt.next;var s=Kt===null?Pt.memoizedState:Kt.next;if(s!==null)Kt=s,Vt=r;else{if(r===null)throw Error(f(310));Vt=r,r={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Kt===null?Pt.memoizedState=Kt=r:Kt=Kt.next=r}return Kt}function ms(r,s){return typeof s=="function"?s(r):s}function sa(r){var s=mn(),c=s.queue;if(c===null)throw Error(f(311));c.lastRenderedReducer=r;var g=Vt,S=g.baseQueue,R=c.pending;if(R!==null){if(S!==null){var V=S.next;S.next=R.next,R.next=V}g.baseQueue=S=R,c.pending=null}if(S!==null){R=S.next,g=g.baseState;var ie=V=null,fe=null,ke=R;do{var Le=ke.lane;if((Oi&Le)===Le)fe!==null&&(fe=fe.next={lane:0,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null}),g=ke.hasEagerState?ke.eagerState:r(g,ke.action);else{var He={lane:Le,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null};fe===null?(ie=fe=He,V=g):fe=fe.next=He,Pt.lanes|=Le,_i|=Le}ke=ke.next}while(ke!==null&&ke!==R);fe===null?V=g:fe.next=ie,Ar(g,s.memoizedState)||(Qt=!0),s.memoizedState=g,s.baseState=V,s.baseQueue=fe,c.lastRenderedState=g}if(r=c.interleaved,r!==null){S=r;do R=S.lane,Pt.lanes|=R,_i|=R,S=S.next;while(S!==r)}else S===null&&(c.lanes=0);return[s.memoizedState,c.dispatch]}function so(r){var s=mn(),c=s.queue;if(c===null)throw Error(f(311));c.lastRenderedReducer=r;var g=c.dispatch,S=c.pending,R=s.memoizedState;if(S!==null){c.pending=null;var V=S=S.next;do R=r(R,V.action),V=V.next;while(V!==S);Ar(R,s.memoizedState)||(Qt=!0),s.memoizedState=R,s.baseQueue===null&&(s.baseState=R),c.lastRenderedState=R}return[R,g]}function Ru(){}function Lu(r,s){var c=Pt,g=mn(),S=s(),R=!Ar(g.memoizedState,S);if(R&&(g.memoizedState=S,Qt=!0),g=g.queue,aa(Iu.bind(null,c,g,r),[r]),g.getSnapshot!==s||R||Kt!==null&&Kt.memoizedState.tag&1){if(c.flags|=2048,ys(9,Du.bind(null,c,g,S,s),void 0,null),gt===null)throw Error(f(349));(Oi&30)!==0||Mu(c,s,S)}return S}function Mu(r,s,c){r.flags|=16384,r={getSnapshot:s,value:c},s=Pt.updateQueue,s===null?(s={lastEffect:null,stores:null},Pt.updateQueue=s,s.stores=[r]):(c=s.stores,c===null?s.stores=[r]:c.push(r))}function Du(r,s,c,g){s.value=c,s.getSnapshot=g,Au(s)&&gi(r)}function Iu(r,s,c){return c(function(){Au(s)&&gi(r)})}function Au(r){var s=r.getSnapshot;r=r.value;try{var c=s();return!Ar(r,c)}catch{return!0}}function gi(r){var s=Ur(r,1);s!==null&&Nn(s,r,1,-1)}function oa(r){var s=dr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:r},s.queue=r,r=r.dispatch=Mf.bind(null,Pt,r),[s.memoizedState,r]}function ys(r,s,c,g){return r={tag:r,create:s,destroy:c,deps:g,next:null},s=Pt.updateQueue,s===null?(s={lastEffect:null,stores:null},Pt.updateQueue=s,s.lastEffect=r.next=r):(c=s.lastEffect,c===null?s.lastEffect=r.next=r:(g=c.next,c.next=r,r.next=g,s.lastEffect=r)),r}function Vd(){return mn().memoizedState}function la(r,s,c,g){var S=dr();Pt.flags|=r,S.memoizedState=ys(1|s,c,void 0,g===void 0?null:g)}function zi(r,s,c,g){var S=mn();g=g===void 0?null:g;var R=void 0;if(Vt!==null){var V=Vt.memoizedState;if(R=V.destroy,g!==null&&gs(g,V.deps)){S.memoizedState=ys(s,c,R,g);return}}Pt.flags|=r,S.memoizedState=ys(1|s,c,R,g)}function Hd(r,s){return la(8390656,8,r,s)}function aa(r,s){return zi(2048,8,r,s)}function Fu(r,s){return zi(4,2,r,s)}function mt(r,s){return zi(4,4,r,s)}function ua(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function sl(r,s,c){return c=c!=null?c.concat([r]):null,zi(4,4,ua.bind(null,s,r),c)}function vs(){}function Ou(r,s){var c=mn();s=s===void 0?null:s;var g=c.memoizedState;return g!==null&&s!==null&&gs(s,g[1])?g[0]:(c.memoizedState=[r,s],r)}function ca(r,s){var c=mn();s=s===void 0?null:s;var g=c.memoizedState;return g!==null&&s!==null&&gs(s,g[1])?g[0]:(r=r(),c.memoizedState=[r,s],r)}function oo(r,s,c){return(Oi&21)===0?(r.baseState&&(r.baseState=!1,Qt=!0),r.memoizedState=c):(Ar(c,s)||(c=Vl(),Pt.lanes|=c,_i|=c,r.baseState=!0),s)}function da(r,s){var c=Je;Je=c!==0&&4>c?c:4,r(!0);var g=ps.transition;ps.transition={};try{r(!1),s()}finally{Je=c,ps.transition=g}}function _s(){return mn().memoizedState}function Wd(r,s,c){var g=Zt(r);if(c={lane:g,action:c,hasEagerState:!1,eagerState:null,next:null},Yd(r))zu(s,c);else if(c=xu(r,s,c,g),c!==null){var S=kt();Nn(c,r,g,S),ol(c,s,g)}}function Mf(r,s,c){var g=Zt(r),S={lane:g,action:c,hasEagerState:!1,eagerState:null,next:null};if(Yd(r))zu(s,S);else{var R=r.alternate;if(r.lanes===0&&(R===null||R.lanes===0)&&(R=s.lastRenderedReducer,R!==null))try{var V=s.lastRenderedState,ie=R(V,c);if(S.hasEagerState=!0,S.eagerState=ie,Ar(ie,V)){var fe=s.interleaved;fe===null?(S.next=S,ta(s)):(S.next=fe.next,fe.next=S),s.interleaved=S;return}}catch{}finally{}c=xu(r,s,S,g),c!==null&&(S=kt(),Nn(c,r,g,S),ol(c,s,g))}}function Yd(r){var s=r.alternate;return r===Pt||s!==null&&s===Pt}function zu(r,s){nl=ro=!0;var c=r.pending;c===null?s.next=s:(s.next=c.next,c.next=s),r.pending=s}function ol(r,s,c){if((c&4194240)!==0){var g=s.lanes;g&=r.pendingLanes,c|=g,s.lanes=c,qr(r,c)}}var Ss={readContext:ur,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},Uu={readContext:ur,useCallback:function(r,s){return dr().memoizedState=[r,s===void 0?null:s],r},useContext:ur,useEffect:Hd,useImperativeHandle:function(r,s,c){return c=c!=null?c.concat([r]):null,la(4194308,4,ua.bind(null,s,r),c)},useLayoutEffect:function(r,s){return la(4194308,4,r,s)},useInsertionEffect:function(r,s){return la(4,2,r,s)},useMemo:function(r,s){var c=dr();return s=s===void 0?null:s,r=r(),c.memoizedState=[r,s],r},useReducer:function(r,s,c){var g=dr();return s=c!==void 0?c(s):s,g.memoizedState=g.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},g.queue=r,r=r.dispatch=Wd.bind(null,Pt,r),[g.memoizedState,r]},useRef:function(r){var s=dr();return r={current:r},s.memoizedState=r},useState:oa,useDebugValue:vs,useDeferredValue:function(r){return dr().memoizedState=r},useTransition:function(){var r=oa(!1),s=r[0];return r=da.bind(null,r[1]),dr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,c){var g=Pt,S=dr();if(wt){if(c===void 0)throw Error(f(407));c=c()}else{if(c=s(),gt===null)throw Error(f(349));(Oi&30)!==0||Mu(g,s,c)}S.memoizedState=c;var R={value:c,getSnapshot:s};return S.queue=R,Hd(Iu.bind(null,g,R,r),[r]),g.flags|=2048,ys(9,Du.bind(null,g,R,c,s),void 0,null),c},useId:function(){var r=dr(),s=gt.identifierPrefix;if(wt){var c=Fr,g=Jn;c=(g&~(1<<32-lr(g)-1)).toString(32)+c,s=":"+s+"R"+c,c=rl++,0<c&&(s+="H"+c.toString(32)),s+=":"}else c=io++,s=":"+s+"r"+c.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},bu={readContext:ur,useCallback:Ou,useContext:ur,useEffect:aa,useImperativeHandle:sl,useInsertionEffect:Fu,useLayoutEffect:mt,useMemo:ca,useReducer:sa,useRef:Vd,useState:function(){return sa(ms)},useDebugValue:vs,useDeferredValue:function(r){var s=mn();return oo(s,Vt.memoizedState,r)},useTransition:function(){var r=sa(ms)[0],s=mn().memoizedState;return[r,s]},useMutableSource:Ru,useSyncExternalStore:Lu,useId:_s,unstable_isNewReconciler:!1},ju={readContext:ur,useCallback:Ou,useContext:ur,useEffect:aa,useImperativeHandle:sl,useInsertionEffect:Fu,useLayoutEffect:mt,useMemo:ca,useReducer:so,useRef:Vd,useState:function(){return so(ms)},useDebugValue:vs,useDeferredValue:function(r){var s=mn();return Vt===null?s.memoizedState=r:oo(s,Vt.memoizedState,r)},useTransition:function(){var r=so(ms)[0],s=mn().memoizedState;return[r,s]},useMutableSource:Ru,useSyncExternalStore:Lu,useId:_s,unstable_isNewReconciler:!1};function hr(r,s){if(r&&r.defaultProps){s=u({},s),r=r.defaultProps;for(var c in r)s[c]===void 0&&(s[c]=r[c]);return s}return s}function Bu(r,s,c,g){s=r.memoizedState,c=c(g,s),c=c==null?s:u({},s,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var ll={isMounted:function(r){return(r=r._reactInternals)?z(r)===r:!1},enqueueSetState:function(r,s,c){r=r._reactInternals;var g=kt(),S=Zt(r),R=fi(g,S);R.payload=s,c!=null&&(R.callback=c),s=pi(r,R,S),s!==null&&(Nn(s,r,S,g),tl(s,r,S))},enqueueReplaceState:function(r,s,c){r=r._reactInternals;var g=kt(),S=Zt(r),R=fi(g,S);R.tag=1,R.payload=s,c!=null&&(R.callback=c),s=pi(r,R,S),s!==null&&(Nn(s,r,S,g),tl(s,r,S))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var c=kt(),g=Zt(r),S=fi(c,g);S.tag=2,s!=null&&(S.callback=s),s=pi(r,S,g),s!==null&&(Nn(s,r,g,c),tl(s,r,g))}};function qd(r,s,c,g,S,R,V){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(g,R,V):s.prototype&&s.prototype.isPureReactComponent?!Jl(c,g)||!Jl(S,R):!0}function Xd(r,s,c){var g=!1,S=Ti,R=s.contextType;return typeof R=="object"&&R!==null?R=ur(R):(S=rn(s)?Yr:xn.current,g=s.contextTypes,R=(g=g!=null)?ci(r,S):Ti),s=new s(c,R),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ll,r.stateNode=s,s._reactInternals=r,g&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=S,r.__reactInternalMemoizedMaskedChildContext=R),s}function ha(r,s,c,g){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,g),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,g),s.state!==r&&ll.enqueueReplaceState(s,s.state,null)}function Kr(r,s,c,g){var S=r.stateNode;S.props=c,S.state=r.memoizedState,S.refs={},Cu(r);var R=s.contextType;typeof R=="object"&&R!==null?S.context=ur(R):(R=rn(s)?Yr:xn.current,S.context=ci(r,R)),S.state=r.memoizedState,R=s.getDerivedStateFromProps,typeof R=="function"&&(Bu(r,s,R,c),S.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(s=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),s!==S.state&&ll.enqueueReplaceState(S,S.state,null),Ii(r,c,S,g),S.state=r.memoizedState),typeof S.componentDidMount=="function"&&(r.flags|=4194308)}function ws(r,s){try{var c="",g=s;do c+=Lf(g),g=g.return;while(g);var S=c}catch(R){S=`
Error generating stack: `+R.message+`
`+R.stack}return{value:r,source:s,stack:S,digest:null}}function Ui(r,s,c){return{value:r,source:null,stack:c??null,digest:s??null}}function Er(r,s){try{console.error(s.value)}catch(c){setTimeout(function(){throw c})}}var al=typeof WeakMap=="function"?WeakMap:Map;function Qr(r,s,c){c=fi(-1,c),c.tag=3,c.payload={element:null};var g=s.value;return c.callback=function(){At||(At=!0,Ht=g),Er(r,s)},c}function fa(r,s,c){c=fi(-1,c),c.tag=3;var g=r.type.getDerivedStateFromError;if(typeof g=="function"){var S=s.value;c.payload=function(){return g(S)},c.callback=function(){Er(r,s)}}var R=r.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(c.callback=function(){Er(r,s),typeof g!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var V=s.stack;this.componentDidCatch(s.value,{componentStack:V!==null?V:""})}),c}function Kd(r,s,c){var g=r.pingCache;if(g===null){g=r.pingCache=new al;var S=new Set;g.set(s,S)}else S=g.get(s),S===void 0&&(S=new Set,g.set(s,S));S.has(c)||(S.add(c),r=rh.bind(null,r,s,c),s.then(r,r))}function Qd(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function bi(r,s,c,g,S){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(s=fi(-1,1),s.tag=2,pi(c,s,1))),c.lanes|=1),r):(r.flags|=65536,r.lanes=S,r)}var ul=p.ReactCurrentOwner,Qt=!1;function ln(r,s,c,g){s.child=r===null?bd(s,null,c,g):ds(s,r.child,c,g)}function pa(r,s,c,g,S){c=c.render;var R=s.ref;return eo(s,S),g=il(r,s,c,g,R,S),c=ia(),r!==null&&!Qt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~S,yi(r,s,S)):(wt&&c&&Jo(s),s.flags|=1,ln(r,s,g,S),s.child)}function ks(r,s,c,g,S){if(r===null){var R=c.type;return typeof R=="function"&&!ko(R)&&R.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(s.tag=15,s.type=R,mi(r,s,R,g,S)):(r=La(c.type,null,g,s,s.mode,S),r.ref=s.ref,r.return=s,s.child=r)}if(R=r.child,(r.lanes&S)===0){var V=R.memoizedProps;if(c=c.compare,c=c!==null?c:Jl,c(V,g)&&r.ref===s.ref)return yi(r,s,S)}return s.flags|=1,r=Ki(R,g),r.ref=s.ref,r.return=s,s.child=r}function mi(r,s,c,g,S){if(r!==null){var R=r.memoizedProps;if(Jl(R,g)&&r.ref===s.ref)if(Qt=!1,s.pendingProps=g=R,(r.lanes&S)!==0)(r.flags&131072)!==0&&(Qt=!0);else return s.lanes=r.lanes,yi(r,s,S)}return Jr(r,s,c,g,S)}function yt(r,s,c){var g=s.pendingProps,S=g.children,R=r!==null?r.memoizedState:null;if(g.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Wi,Jt),Jt|=c;else{if((c&1073741824)===0)return r=R!==null?R.baseLanes|c:c,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Qe(Wi,Jt),Jt|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=R!==null?R.baseLanes:c,Qe(Wi,Jt),Jt|=g}else R!==null?(g=R.baseLanes|c,s.memoizedState=null):g=c,Qe(Wi,Jt),Jt|=g;return ln(r,s,S,c),s.child}function pt(r,s){var c=s.ref;(r===null&&c!==null||r!==null&&r.ref!==c)&&(s.flags|=512,s.flags|=2097152)}function Jr(r,s,c,g,S){var R=rn(c)?Yr:xn.current;return R=ci(s,R),eo(s,S),c=il(r,s,c,g,R,S),g=ia(),r!==null&&!Qt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~S,yi(r,s,S)):(wt&&g&&Jo(s),s.flags|=1,ln(r,s,c,S),s.child)}function yn(r,s,c,g,S){if(rn(c)){var R=!0;Ws(s)}else R=!1;if(eo(s,S),s.stateNode===null)cl(r,s),Xd(s,c,g),Kr(s,c,g,S),g=!0;else if(r===null){var V=s.stateNode,ie=s.memoizedProps;V.props=ie;var fe=V.context,ke=c.contextType;typeof ke=="object"&&ke!==null?ke=ur(ke):(ke=rn(c)?Yr:xn.current,ke=ci(s,ke));var Le=c.getDerivedStateFromProps,He=typeof Le=="function"||typeof V.getSnapshotBeforeUpdate=="function";He||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(ie!==g||fe!==ke)&&ha(s,V,g,ke),cr=!1;var Ne=s.memoizedState;V.state=Ne,Ii(s,g,V,S),fe=s.memoizedState,ie!==g||Ne!==fe||Kn.current||cr?(typeof Le=="function"&&(Bu(s,c,Le,g),fe=s.memoizedState),(ie=cr||qd(s,c,ie,g,Ne,fe,ke))?(He||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(s.flags|=4194308)):(typeof V.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=g,s.memoizedState=fe),V.props=g,V.state=fe,V.context=ke,g=ie):(typeof V.componentDidMount=="function"&&(s.flags|=4194308),g=!1)}else{V=s.stateNode,Bd(r,s),ie=s.memoizedProps,ke=s.type===s.elementType?ie:hr(s.type,ie),V.props=ke,He=s.pendingProps,Ne=V.context,fe=c.contextType,typeof fe=="object"&&fe!==null?fe=ur(fe):(fe=rn(c)?Yr:xn.current,fe=ci(s,fe));var _t=c.getDerivedStateFromProps;(Le=typeof _t=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(ie!==He||Ne!==fe)&&ha(s,V,g,fe),cr=!1,Ne=s.memoizedState,V.state=Ne,Ii(s,g,V,S);var ct=s.memoizedState;ie!==He||Ne!==ct||Kn.current||cr?(typeof _t=="function"&&(Bu(s,c,_t,g),ct=s.memoizedState),(ke=cr||qd(s,c,ke,g,Ne,ct,fe)||!1)?(Le||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(g,ct,fe),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(g,ct,fe)),typeof V.componentDidUpdate=="function"&&(s.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof V.componentDidUpdate!="function"||ie===r.memoizedProps&&Ne===r.memoizedState||(s.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||ie===r.memoizedProps&&Ne===r.memoizedState||(s.flags|=1024),s.memoizedProps=g,s.memoizedState=ct),V.props=g,V.state=ct,V.context=fe,g=ke):(typeof V.componentDidUpdate!="function"||ie===r.memoizedProps&&Ne===r.memoizedState||(s.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||ie===r.memoizedProps&&Ne===r.memoizedState||(s.flags|=1024),g=!1)}return Cn(r,s,c,g,R,S)}function Cn(r,s,c,g,S,R){pt(r,s);var V=(s.flags&128)!==0;if(!g&&!V)return S&&mu(s,c,!1),yi(r,s,R);g=s.stateNode,ul.current=s;var ie=V&&typeof c.getDerivedStateFromError!="function"?null:g.render();return s.flags|=1,r!==null&&V?(s.child=ds(s,r.child,null,R),s.child=ds(s,null,ie,R)):ln(r,s,ie,R),s.memoizedState=g.state,S&&mu(s,c,!0),s.child}function ji(r){var s=r.stateNode;s.pendingContext?Pd(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Pd(r,s.context,!1),na(r,s.containerInfo)}function xs(r,s,c,g,S){return us(),Su(S),s.flags|=256,ln(r,s,c,g),s.child}var En={dehydrated:null,treeContext:null,retryLane:0};function lo(r){return{baseLanes:r,cachePool:null,transitions:null}}function Gu(r,s,c){var g=s.pendingProps,S=Mt.current,R=!1,V=(s.flags&128)!==0,ie;if((ie=V)||(ie=r!==null&&r.memoizedState===null?!1:(S&2)!==0),ie?(R=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(S|=1),Qe(Mt,S&1),r===null)return _u(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:is(r)?s.lanes=8:s.lanes=1073741824,null):(V=g.children,r=g.fallback,R?(g=s.mode,R=s.child,V={mode:"hidden",children:V},(g&1)===0&&R!==null?(R.childLanes=0,R.pendingProps=V):R=xo(V,g,0,null),r=vn(r,g,c,null),R.return=s,r.return=s,R.sibling=r,s.child=R,s.child.memoizedState=lo(c),s.memoizedState=En,r):ga(s,V));if(S=r.memoizedState,S!==null&&(ie=S.dehydrated,ie!==null))return Jd(r,s,V,g,ie,S,c);if(R){R=g.fallback,V=s.mode,S=r.child,ie=S.sibling;var fe={mode:"hidden",children:g.children};return(V&1)===0&&s.child!==S?(g=s.child,g.childLanes=0,g.pendingProps=fe,s.deletions=null):(g=Ki(S,fe),g.subtreeFlags=S.subtreeFlags&14680064),ie!==null?R=Ki(ie,R):(R=vn(R,V,c,null),R.flags|=2),R.return=s,g.return=s,g.sibling=R,s.child=g,g=R,R=s.child,V=r.child.memoizedState,V=V===null?lo(c):{baseLanes:V.baseLanes|c,cachePool:null,transitions:V.transitions},R.memoizedState=V,R.childLanes=r.childLanes&~c,s.memoizedState=En,g}return R=r.child,r=R.sibling,g=Ki(R,{mode:"visible",children:g.children}),(s.mode&1)===0&&(g.lanes=c),g.return=s,g.sibling=null,r!==null&&(c=s.deletions,c===null?(s.deletions=[r],s.flags|=16):c.push(r)),s.child=g,s.memoizedState=null,g}function ga(r,s){return s=xo({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Cs(r,s,c,g){return g!==null&&Su(g),ds(s,r.child,null,c),r=ga(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Jd(r,s,c,g,S,R,V){if(c)return s.flags&256?(s.flags&=-257,g=Ui(Error(f(422))),Cs(r,s,V,g)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(R=g.fallback,S=s.mode,g=xo({mode:"visible",children:g.children},S,0,null),R=vn(R,S,V,null),R.flags|=2,g.return=s,R.return=s,g.sibling=R,s.child=g,(s.mode&1)!==0&&ds(s,r.child,null,V),s.child.memoizedState=lo(V),s.memoizedState=En,R);if((s.mode&1)===0)return Cs(r,s,V,null);if(is(S))return g=Ul(S).digest,R=Error(f(419)),g=Ui(R,g,void 0),Cs(r,s,V,g);if(c=(V&r.childLanes)!==0,Qt||c){if(g=gt,g!==null){switch(V&-V){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(g.suspendedLanes|V))!==0?0:S,S!==0&&S!==R.retryLane&&(R.retryLane=S,Ur(r,S),Nn(g,r,S,-1))}return wo(),g=Ui(Error(f(421))),Cs(r,s,V,g)}return _d(S)?(s.flags|=128,s.child=r.child,s=sh.bind(null,r),bl(S,s),null):(r=R.treeContext,Oe&&(zn=kf(S),gn=s,wt=!0,zr=null,$o=!1,r!==null&&(On[ar++]=Jn,On[ar++]=Fr,On[ar++]=Xt,Jn=r.id,Fr=r.overflow,Xt=s)),s=ga(s,g.children),s.flags|=4096,s)}function Zr(r,s,c){r.lanes|=s;var g=r.alternate;g!==null&&(g.lanes|=s),hs(r.return,s,c)}function ao(r,s,c,g,S){var R=r.memoizedState;R===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:g,tail:c,tailMode:S}:(R.isBackwards=s,R.rendering=null,R.renderingStartTime=0,R.last=g,R.tail=c,R.tailMode=S)}function ma(r,s,c){var g=s.pendingProps,S=g.revealOrder,R=g.tail;if(ln(r,s,g.children,c),g=Mt.current,(g&2)!==0)g=g&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Zr(r,c,s);else if(r.tag===19)Zr(r,c,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}g&=1}if(Qe(Mt,g),(s.mode&1)===0)s.memoizedState=null;else switch(S){case"forwards":for(c=s.child,S=null;c!==null;)r=c.alternate,r!==null&&ra(r)===null&&(S=c),c=c.sibling;c=S,c===null?(S=s.child,s.child=null):(S=c.sibling,c.sibling=null),ao(s,!1,S,c,R);break;case"backwards":for(c=null,S=s.child,s.child=null;S!==null;){if(r=S.alternate,r!==null&&ra(r)===null){s.child=S;break}r=S.sibling,S.sibling=c,c=S,S=r}ao(s,!0,c,null,R);break;case"together":ao(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function cl(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function yi(r,s,c){if(r!==null&&(s.dependencies=r.dependencies),_i|=s.lanes,(c&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(f(153));if(s.child!==null){for(r=s.child,c=Ki(r,r.pendingProps),s.child=c,c.return=s;r.sibling!==null;)r=r.sibling,c=c.sibling=Ki(r,r.pendingProps),c.return=s;c.sibling=null}return s.child}function Bi(r,s,c){switch(s.tag){case 3:ji(s),us();break;case 5:Eu(s);break;case 1:rn(s.type)&&Ws(s);break;case 4:na(s,s.stateNode.containerInfo);break;case 10:jd(s,s.type._context,s.memoizedProps.value);break;case 13:var g=s.memoizedState;if(g!==null)return g.dehydrated!==null?(Qe(Mt,Mt.current&1),s.flags|=128,null):(c&s.child.childLanes)!==0?Gu(r,s,c):(Qe(Mt,Mt.current&1),r=yi(r,s,c),r!==null?r.sibling:null);Qe(Mt,Mt.current&1);break;case 19:if(g=(c&s.childLanes)!==0,(r.flags&128)!==0){if(g)return ma(r,s,c);s.flags|=128}var S=s.memoizedState;if(S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Qe(Mt,Mt.current),g)break;return null;case 22:case 23:return s.lanes=0,yt(r,s,c)}return yi(r,s,c)}function Un(r){r.flags|=4}function Es(r,s){if(r!==null&&r.child===s.child)return!0;if((s.flags&16)!==0)return!1;for(r=s.child;r!==null;){if((r.flags&12854)!==0||(r.subtreeFlags&12854)!==0)return!1;r=r.sibling}return!0}var Gi,Vi,bn,jn;if(Pe)Gi=function(r,s){for(var c=s.child;c!==null;){if(c.tag===5||c.tag===6)Q(r,c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Vi=function(){},bn=function(r,s,c,g,S){if(r=r.memoizedProps,r!==g){var R=s.stateNode,V=Cr(xr.current);c=he(R,c,r,g,S,V),(s.updateQueue=c)&&Un(s)}},jn=function(r,s,c,g){c!==g&&Un(s)};else if(be){Gi=function(r,s,c,g){for(var S=s.child;S!==null;){if(S.tag===5){var R=S.stateNode;c&&g&&(R=zl(R,S.type,S.memoizedProps,S)),Q(r,R)}else if(S.tag===6)R=S.stateNode,c&&g&&(R=fu(R,S.memoizedProps,S)),Q(r,R);else if(S.tag!==4){if(S.tag===22&&S.memoizedState!==null)R=S.child,R!==null&&(R.return=S),Gi(r,S,!0,!0);else if(S.child!==null){S.child.return=S,S=S.child;continue}}if(S===s)break;for(;S.sibling===null;){if(S.return===null||S.return===s)return;S=S.return}S.sibling.return=S.return,S=S.sibling}};var Hi=function(r,s,c,g){for(var S=s.child;S!==null;){if(S.tag===5){var R=S.stateNode;c&&g&&(R=zl(R,S.type,S.memoizedProps,S)),hu(r,R)}else if(S.tag===6)R=S.stateNode,c&&g&&(R=fu(R,S.memoizedProps,S)),hu(r,R);else if(S.tag!==4){if(S.tag===22&&S.memoizedState!==null)R=S.child,R!==null&&(R.return=S),Hi(r,S,!0,!0);else if(S.child!==null){S.child.return=S,S=S.child;continue}}if(S===s)break;for(;S.sibling===null;){if(S.return===null||S.return===s)return;S=S.return}S.sibling.return=S.return,S=S.sibling}};Vi=function(r,s){var c=s.stateNode;if(!Es(r,s)){r=c.containerInfo;var g=du(r);Hi(g,s,!1,!1),c.pendingChildren=g,Un(s),vd(r,g)}},bn=function(r,s,c,g,S){var R=r.stateNode,V=r.memoizedProps;if((r=Es(r,s))&&V===g)s.stateNode=R;else{var ie=s.stateNode,fe=Cr(xr.current),ke=null;V!==g&&(ke=he(ie,c,V,g,S,fe)),r&&ke===null?s.stateNode=R:(R=yd(R,ke,c,V,g,s,r,ie),Z(R,c,g,S,fe)&&Un(s),s.stateNode=R,r?Un(s):Gi(R,s,!1,!1))}},jn=function(r,s,c,g){c!==g?(r=Cr(Fi.current),c=Cr(xr.current),s.stateNode=le(g,r,c,s),Un(s)):s.stateNode=r.stateNode}}else Vi=function(){},bn=function(){},jn=function(){};function fr(r,s){if(!wt)switch(r.tailMode){case"hidden":s=r.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:g.sibling=null}}function Nt(r){var s=r.alternate!==null&&r.alternate.child===r.child,c=0,g=0;if(s)for(var S=r.child;S!==null;)c|=S.lanes|S.childLanes,g|=S.subtreeFlags&14680064,g|=S.flags&14680064,S.return=r,S=S.sibling;else for(S=r.child;S!==null;)c|=S.lanes|S.childLanes,g|=S.subtreeFlags,g|=S.flags,S.return=r,S=S.sibling;return r.subtreeFlags|=g,r.childLanes=c,s}function Ps(r,s,c){var g=s.pendingProps;switch(Zo(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(s),null;case 1:return rn(s.type)&&ls(),Nt(s),null;case 3:return c=s.stateNode,fs(),St(Kn),St(xn),Tu(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Ql(s)?Un(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,zr!==null&&(Ta(zr),zr=null))),Vi(r,s),Nt(s),null;case 5:Pu(s),c=Cr(Fi.current);var S=s.type;if(r!==null&&s.stateNode!=null)bn(r,s,S,g,c),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!g){if(s.stateNode===null)throw Error(f(166));return Nt(s),null}if(r=Cr(xr.current),Ql(s)){if(!Oe)throw Error(f(175));r=ss(s.stateNode,s.type,s.memoizedProps,c,r,s,!$o),s.updateQueue=r,r!==null&&Un(s)}else{var R=F(S,g,c,r,s);Gi(R,s,!1,!1),s.stateNode=R,Z(R,S,g,c,r)&&Un(s)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Nt(s),null;case 6:if(r&&s.stateNode!=null)jn(r,s,r.memoizedProps,g);else{if(typeof g!="string"&&s.stateNode===null)throw Error(f(166));if(r=Cr(Fi.current),c=Cr(xr.current),Ql(s)){if(!Oe)throw Error(f(176));if(r=s.stateNode,c=s.memoizedProps,(g=Sd(r,c,s,!$o))&&(S=gn,S!==null))switch(S.tag){case 3:Ef(S.stateNode.containerInfo,r,c,(S.mode&1)!==0);break;case 5:Ot(S.type,S.memoizedProps,S.stateNode,r,c,(S.mode&1)!==0)}g&&Un(s)}else s.stateNode=le(g,r,c,s)}return Nt(s),null;case 13:if(St(Mt),g=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(wt&&zn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Od(),us(),s.flags|=98560,S=!1;else if(S=Ql(s),g!==null&&g.dehydrated!==null){if(r===null){if(!S)throw Error(f(318));if(!Oe)throw Error(f(344));if(S=s.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(f(317));wd(S,s)}else us(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Nt(s),S=!1}else zr!==null&&(Ta(zr),zr=null),S=!0;if(!S)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=c,s):(c=g!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(Mt.current&1)!==0?Rt===0&&(Rt=3):wo())),s.updateQueue!==null&&(s.flags|=4),Nt(s),null);case 4:return fs(),Vi(r,s),r===null&&Ge(s.stateNode.containerInfo),Nt(s),null;case 10:return el(s.type._context),Nt(s),null;case 17:return rn(s.type)&&ls(),Nt(s),null;case 19:if(St(Mt),S=s.memoizedState,S===null)return Nt(s),null;if(g=(s.flags&128)!==0,R=S.rendering,R===null)if(g)fr(S,!1);else{if(Rt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(R=ra(r),R!==null){for(s.flags|=128,fr(S,!1),r=R.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),s.subtreeFlags=0,r=c,c=s.child;c!==null;)g=c,S=r,g.flags&=14680066,R=g.alternate,R===null?(g.childLanes=0,g.lanes=S,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=R.childLanes,g.lanes=R.lanes,g.child=R.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=R.memoizedProps,g.memoizedState=R.memoizedState,g.updateQueue=R.updateQueue,g.type=R.type,S=R.dependencies,g.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext}),c=c.sibling;return Qe(Mt,Mt.current&1|2),s.child}r=r.sibling}S.tail!==null&&sn()>yl&&(s.flags|=128,g=!0,fr(S,!1),s.lanes=4194304)}else{if(!g)if(r=ra(R),r!==null){if(s.flags|=128,g=!0,r=r.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),fr(S,!0),S.tail===null&&S.tailMode==="hidden"&&!R.alternate&&!wt)return Nt(s),null}else 2*sn()-S.renderingStartTime>yl&&c!==1073741824&&(s.flags|=128,g=!0,fr(S,!1),s.lanes=4194304);S.isBackwards?(R.sibling=s.child,s.child=R):(r=S.last,r!==null?r.sibling=R:s.child=R,S.last=R)}return S.tail!==null?(s=S.tail,S.rendering=s,S.tail=s.sibling,S.renderingStartTime=sn(),s.sibling=null,r=Mt.current,Qe(Mt,g?r&1|2:r&1),s):(Nt(s),null);case 22:case 23:return Ra(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(Jt&1073741824)!==0&&(Nt(s),Pe&&s.subtreeFlags&6&&(s.flags|=8192)):Nt(s),null;case 24:return null;case 25:return null}throw Error(f(156,s.tag))}function Zd(r,s){switch(Zo(s),s.tag){case 1:return rn(s.type)&&ls(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return fs(),St(Kn),St(xn),Tu(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Pu(s),null;case 13:if(St(Mt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(f(340));us()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return St(Mt),null;case 4:return fs(),null;case 10:return el(s.type._context),null;case 22:case 23:return Ra(),null;case 24:return null;default:return null}}var uo=!1,an=!1,pr=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function ut(r,s){var c=r.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(g){xt(r,s,g)}else c.current=null}function gr(r,s,c){try{c()}catch(g){xt(r,s,g)}}var Vu=!1;function $d(r,s){for(W(r.containerInfo),Ee=s;Ee!==null;)if(r=Ee,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Ee=s;else for(;Ee!==null;){r=Ee;try{var c=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(c!==null){var g=c.memoizedProps,S=c.memoizedState,R=r.stateNode,V=R.getSnapshotBeforeUpdate(r.elementType===r.type?g:hr(r.type,g),S);R.__reactInternalSnapshotBeforeUpdate=V}break;case 3:Pe&&Gs(r.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(f(163))}}catch(ie){xt(r,r.return,ie)}if(s=r.sibling,s!==null){s.return=r.return,Ee=s;break}Ee=r.return}return c=Vu,Vu=!1,c}function Ns(r,s,c){var g=s.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var S=g=g.next;do{if((S.tag&r)===r){var R=S.destroy;S.destroy=void 0,R!==void 0&&gr(s,c,R)}S=S.next}while(S!==g)}}function co(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var c=s=s.next;do{if((c.tag&r)===r){var g=c.create;c.destroy=g()}c=c.next}while(c!==s)}}function ya(r){var s=r.ref;if(s!==null){var c=r.stateNode;switch(r.tag){case 5:r=pe(c);break;default:r=c}typeof s=="function"?s(r):s.current=r}}function dl(r){var s=r.alternate;s!==null&&(r.alternate=null,dl(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&ot(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Hu(r){return r.tag===5||r.tag===3||r.tag===4}function Ts(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Hu(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function hl(r,s,c){var g=r.tag;if(g===5||g===6)r=r.stateNode,s?rs(c,r,s):or(c,r);else if(g!==4&&(r=r.child,r!==null))for(hl(r,s,c),r=r.sibling;r!==null;)hl(r,s,c),r=r.sibling}function Wu(r,s,c){var g=r.tag;if(g===5||g===6)r=r.stateNode,s?Vo(c,r,s):kn(c,r);else if(g!==4&&(r=r.child,r!==null))for(Wu(r,s,c),r=r.sibling;r!==null;)Wu(r,s,c),r=r.sibling}var zt=null,$n=!1;function br(r,s,c){for(c=c.child;c!==null;)va(r,s,c),c=c.sibling}function va(r,s,c){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(Li,c)}catch{}switch(c.tag){case 5:an||ut(c,s);case 6:if(Pe){var g=zt,S=$n;zt=null,br(r,s,c),zt=g,$n=S,zt!==null&&($n?Ho(zt,c.stateNode):lu(zt,c.stateNode))}else br(r,s,c);break;case 18:Pe&&zt!==null&&($n?Ed(zt,c.stateNode):Cd(zt,c.stateNode));break;case 4:Pe?(g=zt,S=$n,zt=c.stateNode.containerInfo,$n=!0,br(r,s,c),zt=g,$n=S):(be&&(g=c.stateNode.containerInfo,S=du(g),Ol(g,S)),br(r,s,c));break;case 0:case 11:case 14:case 15:if(!an&&(g=c.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){S=g=g.next;do{var R=S,V=R.destroy;R=R.tag,V!==void 0&&((R&2)!==0||(R&4)!==0)&&gr(c,s,V),S=S.next}while(S!==g)}br(r,s,c);break;case 1:if(!an&&(ut(c,s),g=c.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=c.memoizedProps,g.state=c.memoizedState,g.componentWillUnmount()}catch(ie){xt(c,s,ie)}br(r,s,c);break;case 21:br(r,s,c);break;case 22:c.mode&1?(an=(g=an)||c.memoizedState!==null,br(r,s,c),an=g):br(r,s,c);break;default:br(r,s,c)}}function Rs(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var c=r.stateNode;c===null&&(c=r.stateNode=new pr),s.forEach(function(g){var S=Df.bind(null,r,g);c.has(g)||(c.add(g),g.then(S,S))})}}function Pr(r,s){var c=s.deletions;if(c!==null)for(var g=0;g<c.length;g++){var S=c[g];try{var R=r,V=s;if(Pe){var ie=V;e:for(;ie!==null;){switch(ie.tag){case 5:zt=ie.stateNode,$n=!1;break e;case 3:zt=ie.stateNode.containerInfo,$n=!0;break e;case 4:zt=ie.stateNode.containerInfo,$n=!0;break e}ie=ie.return}if(zt===null)throw Error(f(160));va(R,V,S),zt=null,$n=!1}else va(R,V,S);var fe=S.alternate;fe!==null&&(fe.return=null),S.return=null}catch(ke){xt(S,s,ke)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)fl(s,r),s=s.sibling}function fl(r,s){var c=r.alternate,g=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Pr(s,r),mr(r),g&4){try{Ns(3,r,r.return),co(3,r)}catch(Ne){xt(r,r.return,Ne)}try{Ns(5,r,r.return)}catch(Ne){xt(r,r.return,Ne)}}break;case 1:Pr(s,r),mr(r),g&512&&c!==null&&ut(c,c.return);break;case 5:if(Pr(s,r),mr(r),g&512&&c!==null&&ut(c,c.return),Pe){if(r.flags&32){var S=r.stateNode;try{Fl(S)}catch(Ne){xt(r,r.return,Ne)}}if(g&4&&(S=r.stateNode,S!=null)){var R=r.memoizedProps;if(c=c!==null?c.memoizedProps:R,g=r.type,s=r.updateQueue,r.updateQueue=null,s!==null)try{ns(S,s,g,c,R,r)}catch(Ne){xt(r,r.return,Ne)}}}break;case 6:if(Pr(s,r),mr(r),g&4&&Pe){if(r.stateNode===null)throw Error(f(162));S=r.stateNode,R=r.memoizedProps,c=c!==null?c.memoizedProps:R;try{Bt(S,c,R)}catch(Ne){xt(r,r.return,Ne)}}break;case 3:if(Pr(s,r),mr(r),g&4){if(Pe&&Oe&&c!==null&&c.memoizedState.isDehydrated)try{kd(s.containerInfo)}catch(Ne){xt(r,r.return,Ne)}if(be){S=s.containerInfo,R=s.pendingChildren;try{Ol(S,R)}catch(Ne){xt(r,r.return,Ne)}}}break;case 4:if(Pr(s,r),mr(r),g&4&&be){R=r.stateNode,S=R.containerInfo,R=R.pendingChildren;try{Ol(S,R)}catch(Ne){xt(r,r.return,Ne)}}break;case 13:Pr(s,r),mr(r),S=r.child,S.flags&8192&&(R=S.memoizedState!==null,S.stateNode.isHidden=R,!R||S.alternate!==null&&S.alternate.memoizedState!==null||(yo=sn())),g&4&&Rs(r);break;case 22:var V=c!==null&&c.memoizedState!==null;if(r.mode&1?(an=(c=an)||V,Pr(s,r),an=c):Pr(s,r),mr(r),g&8192){if(c=r.memoizedState!==null,(r.stateNode.isHidden=c)&&!V&&(r.mode&1)!==0)for(Ee=r,g=r.child;g!==null;){for(s=Ee=g;Ee!==null;){V=Ee;var ie=V.child;switch(V.tag){case 0:case 11:case 14:case 15:Ns(4,V,V.return);break;case 1:ut(V,V.return);var fe=V.stateNode;if(typeof fe.componentWillUnmount=="function"){var ke=V,Le=V.return;try{var He=ke;fe.props=He.memoizedProps,fe.state=He.memoizedState,fe.componentWillUnmount()}catch(Ne){xt(ke,Le,Ne)}}break;case 5:ut(V,V.return);break;case 22:if(V.memoizedState!==null){wa(s);continue}}ie!==null?(ie.return=V,Ee=ie):wa(s)}g=g.sibling}if(Pe){e:if(g=null,Pe)for(s=r;;){if(s.tag===5){if(g===null){g=s;try{S=s.stateNode,c?au(S):cu(s.stateNode,s.memoizedProps)}catch(Ne){xt(r,r.return,Ne)}}}else if(s.tag===6){if(g===null)try{R=s.stateNode,c?uu(R):Bs(R,s.memoizedProps)}catch(Ne){xt(r,r.return,Ne)}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;g===s&&(g=null),s=s.return}g===s&&(g=null),s.sibling.return=s.return,s=s.sibling}}}break;case 19:Pr(s,r),mr(r),g&4&&Rs(r);break;case 21:break;default:Pr(s,r),mr(r)}}function mr(r){var s=r.flags;if(s&2){try{if(Pe){e:{for(var c=r.return;c!==null;){if(Hu(c)){var g=c;break e}c=c.return}throw Error(f(160))}switch(g.tag){case 5:var S=g.stateNode;g.flags&32&&(Fl(S),g.flags&=-33);var R=Ts(r);Wu(r,R,S);break;case 3:case 4:var V=g.stateNode.containerInfo,ie=Ts(r);hl(r,ie,V);break;default:throw Error(f(161))}}}catch(fe){xt(r,r.return,fe)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function ho(r,s,c){Ee=r,_a(r)}function _a(r,s,c){for(var g=(r.mode&1)!==0;Ee!==null;){var S=Ee,R=S.child;if(S.tag===22&&g){var V=S.memoizedState!==null||uo;if(!V){var ie=S.alternate,fe=ie!==null&&ie.memoizedState!==null||an;ie=uo;var ke=an;if(uo=V,(an=fe)&&!ke)for(Ee=S;Ee!==null;)V=Ee,fe=V.child,V.tag===22&&V.memoizedState!==null?ka(S):fe!==null?(fe.return=V,Ee=fe):ka(S);for(;R!==null;)Ee=R,_a(R),R=R.sibling;Ee=S,uo=ie,an=ke}Sa(r)}else(S.subtreeFlags&8772)!==0&&R!==null?(R.return=S,Ee=R):Sa(r)}}function Sa(r){for(;Ee!==null;){var s=Ee;if((s.flags&8772)!==0){var c=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:an||co(5,s);break;case 1:var g=s.stateNode;if(s.flags&4&&!an)if(c===null)g.componentDidMount();else{var S=s.elementType===s.type?c.memoizedProps:hr(s.type,c.memoizedProps);g.componentDidUpdate(S,c.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var R=s.updateQueue;R!==null&&Gd(s,R,g);break;case 3:var V=s.updateQueue;if(V!==null){if(c=null,s.child!==null)switch(s.child.tag){case 5:c=pe(s.child.stateNode);break;case 1:c=s.child.stateNode}Gd(s,V,c)}break;case 5:var ie=s.stateNode;c===null&&s.flags&4&&Gt(ie,s.type,s.memoizedProps,s);break;case 6:break;case 4:break;case 12:break;case 13:if(Oe&&s.memoizedState===null){var fe=s.alternate;if(fe!==null){var ke=fe.memoizedState;if(ke!==null){var Le=ke.dehydrated;Le!==null&&xd(Le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(f(163))}an||s.flags&512&&ya(s)}catch(He){xt(s,s.return,He)}}if(s===r){Ee=null;break}if(c=s.sibling,c!==null){c.return=s.return,Ee=c;break}Ee=s.return}}function wa(r){for(;Ee!==null;){var s=Ee;if(s===r){Ee=null;break}var c=s.sibling;if(c!==null){c.return=s.return,Ee=c;break}Ee=s.return}}function ka(r){for(;Ee!==null;){var s=Ee;try{switch(s.tag){case 0:case 11:case 15:var c=s.return;try{co(4,s)}catch(fe){xt(s,c,fe)}break;case 1:var g=s.stateNode;if(typeof g.componentDidMount=="function"){var S=s.return;try{g.componentDidMount()}catch(fe){xt(s,S,fe)}}var R=s.return;try{ya(s)}catch(fe){xt(s,R,fe)}break;case 5:var V=s.return;try{ya(s)}catch(fe){xt(s,V,fe)}}}catch(fe){xt(s,s.return,fe)}if(s===r){Ee=null;break}var ie=s.sibling;if(ie!==null){ie.return=s.return,Ee=ie;break}Ee=s.return}}var vi=0,Bn=1,$r=2,fo=3,pl=4;if(typeof Symbol=="function"&&Symbol.for){var yr=Symbol.for;vi=yr("selector.component"),Bn=yr("selector.has_pseudo_class"),$r=yr("selector.role"),fo=yr("selector.test_id"),pl=yr("selector.text")}function ei(r){var s=rt(r);if(s!=null){if(typeof s.memoizedProps["data-testname"]!="string")throw Error(f(364));return s}if(r=Sr(r),r===null)throw Error(f(362));return r.stateNode.current}function gl(r,s){switch(s.$$typeof){case vi:if(r.type===s.value)return!0;break;case Bn:e:{s=s.value,r=[r,0];for(var c=0;c<r.length;){var g=r[c++],S=r[c++],R=s[S];if(g.tag!==5||!dn(g)){for(;R!=null&&gl(g,R);)S++,R=s[S];if(S===s.length){s=!0;break e}else for(g=g.child;g!==null;)r.push(g,S),g=g.sibling}}s=!1}return s;case $r:if(r.tag===5&&Wr(r.stateNode,s.value))return!0;break;case pl:if((r.tag===5||r.tag===6)&&(r=Xn(r),r!==null&&0<=r.indexOf(s.value)))return!0;break;case fo:if(r.tag===5&&(r=r.memoizedProps["data-testname"],typeof r=="string"&&r.toLowerCase()===s.value.toLowerCase()))return!0;break;default:throw Error(f(365))}return!1}function xa(r){switch(r.$$typeof){case vi:return"<"+(H(r.value)||"Unknown")+">";case Bn:return":has("+(xa(r)||"")+")";case $r:return'[role="'+r.value+'"]';case pl:return'"'+r.value+'"';case fo:return'[data-testname="'+r.value+'"]';default:throw Error(f(365))}}function ti(r,s){var c=[];r=[r,0];for(var g=0;g<r.length;){var S=r[g++],R=r[g++],V=s[R];if(S.tag!==5||!dn(S)){for(;V!=null&&gl(S,V);)R++,V=s[R];if(R===s.length)c.push(S);else for(S=S.child;S!==null;)r.push(S,R),S=S.sibling}}return c}function ni(r,s){if(!Dt)throw Error(f(363));r=ei(r),r=ti(r,s),s=[],r=Array.from(r);for(var c=0;c<r.length;){var g=r[c++];if(g.tag===5)dn(g)||s.push(g.stateNode);else for(g=g.child;g!==null;)r.push(g),g=g.sibling}return s}var Ca=Math.ceil,ml=p.ReactCurrentDispatcher,po=p.ReactCurrentOwner,It=p.ReactCurrentBatchConfig,Ye=0,gt=null,Tt=null,Ut=0,Jt=0,Wi=fn(0),Rt=0,go=null,_i=0,vt=0,mo=0,Ls=null,Pn=null,yo=0,yl=1/0,Gn=null;function ft(){yl=sn()+500}var At=!1,Ht=null,jr=null,Yi=!1,Nr=null,Ea=0,Wt=0,vl=null,vo=-1,_o=0;function kt(){return(Ye&6)!==0?sn():vo!==-1?vo:vo=sn()}function Zt(r){return(r.mode&1)===0?1:(Ye&2)!==0&&Ut!==0?Ut&-Ut:Rf.transition!==null?(_o===0&&(_o=Vl()),_o):(r=Je,r!==0?r:jt())}function Nn(r,s,c,g){if(50<Wt)throw Wt=0,vl=null,Error(f(185));kr(r,c,g),((Ye&2)===0||r!==gt)&&(r===gt&&((Ye&2)===0&&(vt|=c),Rt===4&&Si(r,Ut)),Tn(r,g),c===1&&Ye===0&&(s.mode&1)===0&&(ft(),Js&&pn()))}function Tn(r,s){var c=r.callbackNode;Rd(r,s);var g=qs(r,r===gt?Ut:0);if(g===0)c!==null&&Ld(c),r.callbackNode=null,r.callbackPriority=0;else if(s=g&-g,r.callbackPriority!==s){if(c!=null&&Ld(c),s===1)r.tag===0?Dd(Yu.bind(null,r)):Xl(Yu.bind(null,r)),Et?Hr(function(){(Ye&6)===0&&pn()}):Xr(Hl,pn),c=null;else{switch(Ks(g)){case 1:c=Hl;break;case 4:c=Wl;break;case 16:c=Yl;break;case 536870912:c=Tf;break;default:c=Yl}c=$u(c,Pa.bind(null,r))}r.callbackPriority=s,r.callbackNode=c}}function Pa(r,s){if(vo=-1,_o=0,(Ye&6)!==0)throw Error(f(327));var c=r.callbackNode;if(wi()&&r.callbackNode!==c)return null;var g=qs(r,r===gt?Ut:0);if(g===0)return null;if((g&30)!==0||(g&r.expiredLanes)!==0||s)s=Ms(r,g);else{s=g;var S=Ye;Ye|=2;var R=Xu();(gt!==r||Ut!==s)&&(Gn=null,ft(),qi(r,s));do try{Ku();break}catch(ie){So(r,ie)}while(!0);ku(),ml.current=R,Ye=S,Tt!==null?s=0:(gt=null,Ut=0,s=Rt)}if(s!==0){if(s===2&&(S=Gl(r),S!==0&&(g=S,s=Na(r,S))),s===1)throw c=go,qi(r,0),Si(r,g),Tn(r,sn()),c;if(s===6)Si(r,g);else{if(S=r.current.alternate,(g&30)===0&&!eh(S)&&(s=Ms(r,g),s===2&&(R=Gl(r),R!==0&&(g=R,s=Na(r,R))),s===1))throw c=go,qi(r,0),Si(r,g),Tn(r,sn()),c;switch(r.finishedWork=S,r.finishedLanes=g,s){case 0:case 1:throw Error(f(345));case 2:Xi(r,Pn,Gn);break;case 3:if(Si(r,g),(g&130023424)===g&&(s=yo+500-sn(),10<s)){if(qs(r,0)!==0)break;if(S=r.suspendedLanes,(S&g)!==g){kt(),r.pingedLanes|=r.suspendedLanes&S;break}r.timeoutHandle=Y(Xi.bind(null,r,Pn,Gn),s);break}Xi(r,Pn,Gn);break;case 4:if(Si(r,g),(g&4194240)===g)break;for(s=r.eventTimes,S=-1;0<g;){var V=31-lr(g);R=1<<V,V=s[V],V>S&&(S=V),g&=~R}if(g=S,g=sn()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*Ca(g/1960))-g,10<g){r.timeoutHandle=Y(Xi.bind(null,r,Pn,Gn),g);break}Xi(r,Pn,Gn);break;case 5:Xi(r,Pn,Gn);break;default:throw Error(f(329))}}}return Tn(r,sn()),r.callbackNode===c?Pa.bind(null,r):null}function Na(r,s){var c=Ls;return r.current.memoizedState.isDehydrated&&(qi(r,s).flags|=256),r=Ms(r,s),r!==2&&(s=Pn,Pn=c,s!==null&&Ta(s)),r}function Ta(r){Pn===null?Pn=r:Pn.push.apply(Pn,r)}function eh(r){for(var s=r;;){if(s.flags&16384){var c=s.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var g=0;g<c.length;g++){var S=c[g],R=S.getSnapshot;S=S.value;try{if(!Ar(R(),S))return!1}catch{return!1}}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Si(r,s){for(s&=~mo,s&=~vt,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var c=31-lr(s),g=1<<c;r[c]=-1,s&=~g}}function Yu(r){if((Ye&6)!==0)throw Error(f(327));wi();var s=qs(r,0);if((s&1)===0)return Tn(r,sn()),null;var c=Ms(r,s);if(r.tag!==0&&c===2){var g=Gl(r);g!==0&&(s=g,c=Na(r,g))}if(c===1)throw c=go,qi(r,0),Si(r,s),Tn(r,sn()),c;if(c===6)throw Error(f(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Xi(r,Pn,Gn),Tn(r,sn()),null}function qu(r){Nr!==null&&Nr.tag===0&&(Ye&6)===0&&wi();var s=Ye;Ye|=1;var c=It.transition,g=Je;try{if(It.transition=null,Je=1,r)return r()}finally{Je=g,It.transition=c,Ye=s,(Ye&6)===0&&pn()}}function Ra(){Jt=Wi.current,St(Wi)}function qi(r,s){r.finishedWork=null,r.finishedLanes=0;var c=r.timeoutHandle;if(c!==ye&&(r.timeoutHandle=ye,se(c)),Tt!==null)for(c=Tt.return;c!==null;){var g=c;switch(Zo(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&ls();break;case 3:fs(),St(Kn),St(xn),Tu();break;case 5:Pu(g);break;case 4:fs();break;case 13:St(Mt);break;case 19:St(Mt);break;case 10:el(g.type._context);break;case 22:case 23:Ra()}c=c.return}if(gt=r,Tt=r=Ki(r.current,null),Ut=Jt=s,Rt=0,go=null,mo=vt=_i=0,Pn=Ls=null,Di!==null){for(s=0;s<Di.length;s++)if(c=Di[s],g=c.interleaved,g!==null){c.interleaved=null;var S=g.next,R=c.pending;if(R!==null){var V=R.next;R.next=S,g.next=V}c.pending=g}Di=null}return r}function So(r,s){do{var c=Tt;try{if(ku(),Zn.current=Ss,ro){for(var g=Pt.memoizedState;g!==null;){var S=g.queue;S!==null&&(S.pending=null),g=g.next}ro=!1}if(Oi=0,Kt=Vt=Pt=null,nl=!1,rl=0,po.current=null,c===null||c.return===null){Rt=1,go=s,Tt=null;break}e:{var R=r,V=c.return,ie=c,fe=s;if(s=Ut,ie.flags|=32768,fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var ke=fe,Le=ie,He=Le.tag;if((Le.mode&1)===0&&(He===0||He===11||He===15)){var Ne=Le.alternate;Ne?(Le.updateQueue=Ne.updateQueue,Le.memoizedState=Ne.memoizedState,Le.lanes=Ne.lanes):(Le.updateQueue=null,Le.memoizedState=null)}var _t=Qd(V);if(_t!==null){_t.flags&=-257,bi(_t,V,ie,R,s),_t.mode&1&&Kd(R,ke,s),s=_t,fe=ke;var ct=s.updateQueue;if(ct===null){var Vn=new Set;Vn.add(fe),s.updateQueue=Vn}else ct.add(fe);break e}else{if((s&1)===0){Kd(R,ke,s),wo();break e}fe=Error(f(426))}}else if(wt&&ie.mode&1){var ri=Qd(V);if(ri!==null){(ri.flags&65536)===0&&(ri.flags|=256),bi(ri,V,ie,R,s),Su(ws(fe,ie));break e}}R=fe=ws(fe,ie),Rt!==4&&(Rt=2),Ls===null?Ls=[R]:Ls.push(R),R=V;do{switch(R.tag){case 3:R.flags|=65536,s&=-s,R.lanes|=s;var ce=Qr(R,fe,s);to(R,ce);break e;case 1:ie=fe;var oe=R.type,ge=R.stateNode;if((R.flags&128)===0&&(typeof oe.getDerivedStateFromError=="function"||ge!==null&&typeof ge.componentDidCatch=="function"&&(jr===null||!jr.has(ge)))){R.flags|=65536,s&=-s,R.lanes|=s;var Te=fa(R,ie,s);to(R,Te);break e}}R=R.return}while(R!==null)}Ju(c)}catch(ze){s=ze,Tt===c&&c!==null&&(Tt=c=c.return);continue}break}while(!0)}function Xu(){var r=ml.current;return ml.current=Ss,r===null?Ss:r}function wo(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),gt===null||(_i&268435455)===0&&(vt&268435455)===0||Si(gt,Ut)}function Ms(r,s){var c=Ye;Ye|=2;var g=Xu();(gt!==r||Ut!==s)&&(Gn=null,qi(r,s));do try{th();break}catch(S){So(r,S)}while(!0);if(ku(),Ye=c,ml.current=g,Tt!==null)throw Error(f(261));return gt=null,Ut=0,Rt}function th(){for(;Tt!==null;)Qu(Tt)}function Ku(){for(;Tt!==null&&!Md();)Qu(Tt)}function Qu(r){var s=oh(r.alternate,r,Jt);r.memoizedProps=r.pendingProps,s===null?Ju(r):Tt=s,po.current=null}function Ju(r){var s=r;do{var c=s.alternate;if(r=s.return,(s.flags&32768)===0){if(c=Ps(c,s,Jt),c!==null){Tt=c;return}}else{if(c=Zd(c,s),c!==null){c.flags&=32767,Tt=c;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Rt=6,Tt=null;return}}if(s=s.sibling,s!==null){Tt=s;return}Tt=s=r}while(s!==null);Rt===0&&(Rt=5)}function Xi(r,s,c){var g=Je,S=It.transition;try{It.transition=null,Je=1,nh(r,s,c,g)}finally{It.transition=S,Je=g}return null}function nh(r,s,c,g){do wi();while(Nr!==null);if((Ye&6)!==0)throw Error(f(327));c=r.finishedWork;var S=r.finishedLanes;if(c===null)return null;if(r.finishedWork=null,r.finishedLanes=0,c===r.current)throw Error(f(177));r.callbackNode=null,r.callbackPriority=0;var R=c.lanes|c.childLanes;if(Ri(r,R),r===gt&&(Tt=gt=null,Ut=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Yi||(Yi=!0,$u(Yl,function(){return wi(),null})),R=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||R){R=It.transition,It.transition=null;var V=Je;Je=1;var ie=Ye;Ye|=4,po.current=null,$d(r,c),fl(c,r),G(r.containerInfo),r.current=c,ho(c),Ko(),Ye=ie,Je=V,It.transition=R}else r.current=c;if(Yi&&(Yi=!1,Nr=r,Ea=S),R=r.pendingLanes,R===0&&(jr=null),Qs(c.stateNode),Tn(r,sn()),s!==null)for(g=r.onRecoverableError,c=0;c<s.length;c++)S=s[c],g(S.value,{componentStack:S.stack,digest:S.digest});if(At)throw At=!1,r=Ht,Ht=null,r;return(Ea&1)!==0&&r.tag!==0&&wi(),R=r.pendingLanes,(R&1)!==0?r===vl?Wt++:(Wt=0,vl=r):Wt=0,pn(),null}function wi(){if(Nr!==null){var r=Ks(Ea),s=It.transition,c=Je;try{if(It.transition=null,Je=16>r?16:r,Nr===null)var g=!1;else{if(r=Nr,Nr=null,Ea=0,(Ye&6)!==0)throw Error(f(331));var S=Ye;for(Ye|=4,Ee=r.current;Ee!==null;){var R=Ee,V=R.child;if((Ee.flags&16)!==0){var ie=R.deletions;if(ie!==null){for(var fe=0;fe<ie.length;fe++){var ke=ie[fe];for(Ee=ke;Ee!==null;){var Le=Ee;switch(Le.tag){case 0:case 11:case 15:Ns(8,Le,R)}var He=Le.child;if(He!==null)He.return=Le,Ee=He;else for(;Ee!==null;){Le=Ee;var Ne=Le.sibling,_t=Le.return;if(dl(Le),Le===ke){Ee=null;break}if(Ne!==null){Ne.return=_t,Ee=Ne;break}Ee=_t}}}var ct=R.alternate;if(ct!==null){var Vn=ct.child;if(Vn!==null){ct.child=null;do{var ri=Vn.sibling;Vn.sibling=null,Vn=ri}while(Vn!==null)}}Ee=R}}if((R.subtreeFlags&2064)!==0&&V!==null)V.return=R,Ee=V;else e:for(;Ee!==null;){if(R=Ee,(R.flags&2048)!==0)switch(R.tag){case 0:case 11:case 15:Ns(9,R,R.return)}var ce=R.sibling;if(ce!==null){ce.return=R.return,Ee=ce;break e}Ee=R.return}}var oe=r.current;for(Ee=oe;Ee!==null;){V=Ee;var ge=V.child;if((V.subtreeFlags&2064)!==0&&ge!==null)ge.return=V,Ee=ge;else e:for(V=oe;Ee!==null;){if(ie=Ee,(ie.flags&2048)!==0)try{switch(ie.tag){case 0:case 11:case 15:co(9,ie)}}catch(ze){xt(ie,ie.return,ze)}if(ie===V){Ee=null;break e}var Te=ie.sibling;if(Te!==null){Te.return=ie.return,Ee=Te;break e}Ee=ie.return}}if(Ye=S,pn(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(Li,r)}catch{}g=!0}return g}finally{Je=c,It.transition=s}}return!1}function Zu(r,s,c){s=ws(c,s),s=Qr(r,s,1),r=pi(r,s,1),s=kt(),r!==null&&(kr(r,1,s),Tn(r,s))}function xt(r,s,c){if(r.tag===3)Zu(r,r,c);else for(;s!==null;){if(s.tag===3){Zu(s,r,c);break}else if(s.tag===1){var g=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(jr===null||!jr.has(g))){r=ws(c,r),r=fa(s,r,1),s=pi(s,r,1),r=kt(),s!==null&&(kr(s,1,r),Tn(s,r));break}}s=s.return}}function rh(r,s,c){var g=r.pingCache;g!==null&&g.delete(s),s=kt(),r.pingedLanes|=r.suspendedLanes&c,gt===r&&(Ut&c)===c&&(Rt===4||Rt===3&&(Ut&130023424)===Ut&&500>sn()-yo?qi(r,0):mo|=c),Tn(r,s)}function ih(r,s){s===0&&((r.mode&1)===0?s=1:(s=Xo,Xo<<=1,(Xo&130023424)===0&&(Xo=4194304)));var c=kt();r=Ur(r,s),r!==null&&(kr(r,s,c),Tn(r,c))}function sh(r){var s=r.memoizedState,c=0;s!==null&&(c=s.retryLane),ih(r,c)}function Df(r,s){var c=0;switch(r.tag){case 13:var g=r.stateNode,S=r.memoizedState;S!==null&&(c=S.retryLane);break;case 19:g=r.stateNode;break;default:throw Error(f(314))}g!==null&&g.delete(s),ih(r,c)}var oh;oh=function(r,s,c){if(r!==null)if(r.memoizedProps!==s.pendingProps||Kn.current)Qt=!0;else{if((r.lanes&c)===0&&(s.flags&128)===0)return Qt=!1,Bi(r,s,c);Qt=(r.flags&131072)!==0}else Qt=!1,wt&&(s.flags&1048576)!==0&&Id(s,as,s.index);switch(s.lanes=0,s.tag){case 2:var g=s.type;cl(r,s),r=s.pendingProps;var S=ci(s,xn.current);eo(s,c),S=il(null,s,g,r,S,c);var R=ia();return s.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,rn(g)?(R=!0,Ws(s)):R=!1,s.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,Cu(s),S.updater=ll,s.stateNode=S,S._reactInternals=s,Kr(s,g,r,c),s=Cn(null,s,g,!0,R,c)):(s.tag=0,wt&&R&&Jo(s),ln(null,s,S,c),s=s.child),s;case 16:g=s.elementType;e:{switch(cl(r,s),r=s.pendingProps,S=g._init,g=S(g._payload),s.type=g,S=s.tag=If(g),r=hr(g,r),S){case 0:s=Jr(null,s,g,r,c);break e;case 1:s=yn(null,s,g,r,c);break e;case 11:s=pa(null,s,g,r,c);break e;case 14:s=ks(null,s,g,hr(g.type,r),c);break e}throw Error(f(306,g,""))}return s;case 0:return g=s.type,S=s.pendingProps,S=s.elementType===g?S:hr(g,S),Jr(r,s,g,S,c);case 1:return g=s.type,S=s.pendingProps,S=s.elementType===g?S:hr(g,S),yn(r,s,g,S,c);case 3:e:{if(ji(s),r===null)throw Error(f(387));g=s.pendingProps,R=s.memoizedState,S=R.element,Bd(r,s),Ii(s,g,null,c);var V=s.memoizedState;if(g=V.element,Oe&&R.isDehydrated)if(R={element:g,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},s.updateQueue.baseState=R,s.memoizedState=R,s.flags&256){S=ws(Error(f(423)),s),s=xs(r,s,g,c,S);break e}else if(g!==S){S=ws(Error(f(424)),s),s=xs(r,s,g,c,S);break e}else for(Oe&&(zn=wf(s.stateNode.containerInfo),gn=s,wt=!0,zr=null,$o=!1),c=bd(s,null,g,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(us(),g===S){s=yi(r,s,c);break e}ln(r,s,g,c)}s=s.child}return s;case 5:return Eu(s),r===null&&_u(s),g=s.type,S=s.pendingProps,R=r!==null?r.memoizedProps:null,V=S.children,me(g,S)?V=null:R!==null&&me(g,R)&&(s.flags|=32),pt(r,s),ln(r,s,V,c),s.child;case 6:return r===null&&_u(s),null;case 13:return Gu(r,s,c);case 4:return na(s,s.stateNode.containerInfo),g=s.pendingProps,r===null?s.child=ds(s,null,g,c):ln(r,s,g,c),s.child;case 11:return g=s.type,S=s.pendingProps,S=s.elementType===g?S:hr(g,S),pa(r,s,g,S,c);case 7:return ln(r,s,s.pendingProps,c),s.child;case 8:return ln(r,s,s.pendingProps.children,c),s.child;case 12:return ln(r,s,s.pendingProps.children,c),s.child;case 10:e:{if(g=s.type._context,S=s.pendingProps,R=s.memoizedProps,V=S.value,jd(s,g,V),R!==null)if(Ar(R.value,V)){if(R.children===S.children&&!Kn.current){s=yi(r,s,c);break e}}else for(R=s.child,R!==null&&(R.return=s);R!==null;){var ie=R.dependencies;if(ie!==null){V=R.child;for(var fe=ie.firstContext;fe!==null;){if(fe.context===g){if(R.tag===1){fe=fi(-1,c&-c),fe.tag=2;var ke=R.updateQueue;if(ke!==null){ke=ke.shared;var Le=ke.pending;Le===null?fe.next=fe:(fe.next=Le.next,Le.next=fe),ke.pending=fe}}R.lanes|=c,fe=R.alternate,fe!==null&&(fe.lanes|=c),hs(R.return,c,s),ie.lanes|=c;break}fe=fe.next}}else if(R.tag===10)V=R.type===s.type?null:R.child;else if(R.tag===18){if(V=R.return,V===null)throw Error(f(341));V.lanes|=c,ie=V.alternate,ie!==null&&(ie.lanes|=c),hs(V,c,s),V=R.sibling}else V=R.child;if(V!==null)V.return=R;else for(V=R;V!==null;){if(V===s){V=null;break}if(R=V.sibling,R!==null){R.return=V.return,V=R;break}V=V.return}R=V}ln(r,s,S.children,c),s=s.child}return s;case 9:return S=s.type,g=s.pendingProps.children,eo(s,c),S=ur(S),g=g(S),s.flags|=1,ln(r,s,g,c),s.child;case 14:return g=s.type,S=hr(g,s.pendingProps),S=hr(g.type,S),ks(r,s,g,S,c);case 15:return mi(r,s,s.type,s.pendingProps,c);case 17:return g=s.type,S=s.pendingProps,S=s.elementType===g?S:hr(g,S),cl(r,s),s.tag=1,rn(g)?(r=!0,Ws(s)):r=!1,eo(s,c),Xd(s,g,S),Kr(s,g,S,c),Cn(null,s,g,!0,r,c);case 19:return ma(r,s,c);case 22:return yt(r,s,c)}throw Error(f(156,s.tag))};function $u(r,s){return Xr(r,s)}function lh(r,s,c,g){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(r,s,c,g){return new lh(r,s,c,g)}function ko(r){return r=r.prototype,!(!r||!r.isReactComponent)}function If(r){if(typeof r=="function")return ko(r)?1:0;if(r!=null){if(r=r.$$typeof,r===N)return 11;if(r===T)return 14}return 2}function Ki(r,s){var c=r.alternate;return c===null?(c=vr(r.tag,s,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=s,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&14680064,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,s=r.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c}function La(r,s,c,g,S,R){var V=2;if(g=r,typeof r=="function")ko(r)&&(V=1);else if(typeof r=="string")V=5;else e:switch(r){case k:return vn(c.children,S,R,s);case P:V=8,S|=8;break;case x:return r=vr(12,c,s,S|2),r.elementType=x,r.lanes=R,r;case M:return r=vr(13,c,s,S),r.elementType=M,r.lanes=R,r;case b:return r=vr(19,c,s,S),r.elementType=b,r.lanes=R,r;case L:return xo(c,S,R,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case w:V=10;break e;case C:V=9;break e;case N:V=11;break e;case T:V=14;break e;case v:V=16,g=null;break e}throw Error(f(130,r==null?r:typeof r,""))}return s=vr(V,c,s,S),s.elementType=r,s.type=g,s.lanes=R,s}function vn(r,s,c,g){return r=vr(7,r,g,s),r.lanes=c,r}function xo(r,s,c,g){return r=vr(22,r,g,s),r.elementType=L,r.lanes=c,r.stateNode={isHidden:!1},r}function Co(r,s,c){return r=vr(6,r,null,s),r.lanes=c,r}function Ma(r,s,c){return s=vr(4,r.children!==null?r.children:[],r.key,s),s.lanes=c,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function ah(r,s,c,g,S){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ye,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xs(0),this.expirationTimes=Xs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xs(0),this.identifierPrefix=g,this.onRecoverableError=S,Oe&&(this.mutableSourceEagerHydrationData=null)}function ec(r,s,c,g,S,R,V,ie,fe){return r=new ah(r,s,c,ie,fe),s===1?(s=1,R===!0&&(s|=8)):s=0,R=vr(3,null,null,s),r.current=R,R.stateNode=r,R.memoizedState={element:g,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cu(R),r}function Da(r){if(!r)return Ti;r=r._reactInternals;e:{if(z(r)!==r||r.tag!==1)throw Error(f(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(rn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(f(171))}if(r.tag===1){var c=r.type;if(rn(c))return Nd(r,c,s)}return s}function Ds(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(f(188)):(r=Object.keys(r).join(","),Error(f(268,r)));return r=K(s),r===null?null:r.stateNode}function Ia(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<s?c:s}}function Eo(r,s){Ia(r,s),(r=r.alternate)&&Ia(r,s)}function Af(r){return r=K(r),r===null?null:r.stateNode}function uh(){return null}return o.attemptContinuousHydration=function(r){if(r.tag===13){var s=Ur(r,134217728);if(s!==null){var c=kt();Nn(s,r,134217728,c)}Eo(r,134217728)}},o.attemptDiscreteHydration=function(r){if(r.tag===13){var s=Ur(r,1);if(s!==null){var c=kt();Nn(s,r,1,c)}Eo(r,1)}},o.attemptHydrationAtCurrentPriority=function(r){if(r.tag===13){var s=Zt(r),c=Ur(r,s);if(c!==null){var g=kt();Nn(c,r,s,g)}Eo(r,s)}},o.attemptSynchronousHydration=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var c=Ys(s.pendingLanes);c!==0&&(qr(s,c|1),Tn(s,sn()),(Ye&6)===0&&(ft(),pn()))}break;case 13:qu(function(){var g=Ur(r,1);if(g!==null){var S=kt();Nn(g,r,1,S)}}),Eo(r,1)}},o.batchedUpdates=function(r,s){var c=Ye;Ye|=1;try{return r(s)}finally{Ye=c,Ye===0&&(ft(),Js&&pn())}},o.createComponentSelector=function(r){return{$$typeof:vi,value:r}},o.createContainer=function(r,s,c,g,S,R,V){return ec(r,s,!1,null,c,g,S,R,V)},o.createHasPseudoClassSelector=function(r){return{$$typeof:Bn,value:r}},o.createHydrationContainer=function(r,s,c,g,S,R,V,ie,fe){return r=ec(c,g,!0,r,S,R,V,ie,fe),r.context=Da(null),c=r.current,g=kt(),S=Zt(c),R=fi(g,S),R.callback=s??null,pi(c,R,S),r.current.lanes=S,kr(r,S,g),Tn(r,g),r},o.createPortal=function(r,s,c){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_,key:g==null?null:""+g,children:r,containerInfo:s,implementation:c}},o.createRoleSelector=function(r){return{$$typeof:$r,value:r}},o.createTestNameSelector=function(r){return{$$typeof:fo,value:r}},o.createTextSelector=function(r){return{$$typeof:pl,value:r}},o.deferredUpdates=function(r){var s=Je,c=It.transition;try{return It.transition=null,Je=16,r()}finally{Je=s,It.transition=c}},o.discreteUpdates=function(r,s,c,g,S){var R=Je,V=It.transition;try{return It.transition=null,Je=1,r(s,c,g,S)}finally{Je=R,It.transition=V,Ye===0&&ft()}},o.findAllNodes=ni,o.findBoundingRects=function(r,s){if(!Dt)throw Error(f(363));s=ni(r,s),r=[];for(var c=0;c<s.length;c++)r.push(ht(s[c]));for(s=r.length-1;0<s;s--){c=r[s];for(var g=c.x,S=g+c.width,R=c.y,V=R+c.height,ie=s-1;0<=ie;ie--)if(s!==ie){var fe=r[ie],ke=fe.x,Le=ke+fe.width,He=fe.y,Ne=He+fe.height;if(g>=ke&&R>=He&&S<=Le&&V<=Ne){r.splice(s,1);break}else if(g!==ke||c.width!==fe.width||Ne<R||He>V){if(!(R!==He||c.height!==fe.height||Le<g||ke>S)){ke>g&&(fe.width+=ke-g,fe.x=g),Le<S&&(fe.width=S-ke),r.splice(s,1);break}}else{He>R&&(fe.height+=He-R,fe.y=R),Ne<V&&(fe.height=V-He),r.splice(s,1);break}}}return r},o.findHostInstance=Ds,o.findHostInstanceWithNoPortals=function(r){return r=q(r),r=r!==null?ne(r):null,r===null?null:r.stateNode},o.findHostInstanceWithWarning=function(r){return Ds(r)},o.flushControlled=function(r){var s=Ye;Ye|=1;var c=It.transition,g=Je;try{It.transition=null,Je=1,r()}finally{Je=g,It.transition=c,Ye=s,Ye===0&&(ft(),pn())}},o.flushPassiveEffects=wi,o.flushSync=qu,o.focusWithin=function(r,s){if(!Dt)throw Error(f(363));for(r=ei(r),s=ti(r,s),s=Array.from(s),r=0;r<s.length;){var c=s[r++];if(!dn(c)){if(c.tag===5&&hn(c.stateNode))return!0;for(c=c.child;c!==null;)s.push(c),c=c.sibling}}return!1},o.getCurrentUpdatePriority=function(){return Je},o.getFindAllNodesFailureDescription=function(r,s){if(!Dt)throw Error(f(363));var c=0,g=[];r=[ei(r),0];for(var S=0;S<r.length;){var R=r[S++],V=r[S++],ie=s[V];if((R.tag!==5||!dn(R))&&(gl(R,ie)&&(g.push(xa(ie)),V++,V>c&&(c=V)),V<s.length))for(R=R.child;R!==null;)r.push(R,V),R=R.sibling}if(c<s.length){for(r=[];c<s.length;c++)r.push(xa(s[c]));return`findAllNodes was able to match part of the selector:
  `+(g.join(" > ")+`

No matching component was found for:
  `)+r.join(" > ")}return null},o.getPublicRootInstance=function(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return pe(r.child.stateNode);default:return r.child.stateNode}},o.injectIntoDevTools=function(r){if(r={bundleType:r.bundleType,version:r.version,rendererPackageName:r.rendererPackageName,rendererConfig:r.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:p.ReactCurrentDispatcher,findHostInstanceByFiber:Af,findFiberByHostInstance:r.findFiberByHostInstance||uh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")r=!1;else{var s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(s.isDisabled||!s.supportsFiber)r=!0;else{try{Li=s.inject(r),Qn=s}catch{}r=!!s.checkDCE}}return r},o.isAlreadyRendering=function(){return!1},o.observeVisibleRects=function(r,s,c,g){if(!Dt)throw Error(f(363));r=ni(r,s);var S=wr(r,c,g).disconnect;return{disconnect:function(){S()}}},o.registerMutableSourceForHydration=function(r,s){var c=s._getVersion;c=c(s._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[s,c]:r.mutableSourceEagerHydrationData.push(s,c)},o.runWithPriority=function(r,s){var c=Je;try{return Je=r,s()}finally{Je=c}},o.shouldError=function(){return null},o.shouldSuspend=function(){return!1},o.updateContainer=function(r,s,c,g){var S=s.current,R=kt(),V=Zt(S);return c=Da(c),s.context===null?s.context=c:s.pendingContext=c,s=fi(R,V),s.payload={element:r},g=g===void 0?null:g,g!==null&&(s.callback=g),r=pi(S,s,V),r!==null&&(Nn(r,S,V,R),tl(r,S,V)),V},o}),_0}var P1;function bv(){return P1||(P1=1,v0.exports=Uv()),v0.exports}var jv=bv();const Bv=ad(jv);var S0={exports:{}},Ao={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N1;function Gv(){return N1||(N1=1,Ao.ConcurrentRoot=1,Ao.ContinuousEventPriority=4,Ao.DefaultEventPriority=16,Ao.DiscreteEventPriority=1,Ao.IdleEventPriority=536870912,Ao.LegacyRoot=0),Ao}var T1;function Vv(){return T1||(T1=1,S0.exports=Gv()),S0.exports}var Fm=Vv(),Hv=Ke();const R1={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let L1=!1,M1=!1;const rp=".react-konva-event",Wv=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,Yv=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,qv={};function sf(i,t,o=qv){if(!L1&&"zIndex"in t&&(console.warn(Yv),L1=!0),!M1&&t.draggable){var a=t.x!==void 0||t.y!==void 0,d=t.onDragEnd||t.onDragMove;a&&!d&&(console.warn(Wv),M1=!0)}for(var u in o)if(!R1[u]){var f=u.slice(0,2)==="on",p=o[u]!==t[u];if(f&&p){var m=u.substr(2).toLowerCase();m.substr(0,7)==="content"&&(m="content"+m.substr(7,1).toUpperCase()+m.substr(8)),i.off(m,o[u])}var _=!t.hasOwnProperty(u);_&&i.setAttr(u,void 0)}var k=t._useStrictMode,P={},x=!1;const w={};for(var u in t)if(!R1[u]){var f=u.slice(0,2)==="on",C=o[u]!==t[u];if(f&&C){var m=u.substr(2).toLowerCase();m.substr(0,7)==="content"&&(m="content"+m.substr(7,1).toUpperCase()+m.substr(8)),t[u]&&(w[m]=t[u])}!f&&(t[u]!==o[u]||k&&t[u]!==i.getAttr(u))&&(x=!0,P[u]=t[u])}x&&(i.setAttrs(P),Bo(i));for(var m in w)i.on(m+rp,w[m])}function Bo(i){if(!Hv.Konva.autoDrawEnabled){var t=i.getLayer()||i.getStage();t&&t.batchDraw()}}var w0=Z0();const Om={},Xv={};Zc.Node.prototype._applyProps=sf;function Kv(i,t){if(typeof t=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${t}`);return}i.add(t),Bo(i)}function Qv(i,t,o){let a=Zc[i];a||(console.error(`Konva has no node with the type ${i}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${i}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),a=Zc.Group);const d={},u={};for(var f in t){var p=f.slice(0,2)==="on";p?u[f]=t[f]:d[f]=t[f]}const m=new a(d);return sf(m,u),m}function Jv(i,t,o){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${i}"`)}function Zv(i,t,o){return!1}function $v(i){return i}function e4(){return null}function t4(){return null}function n4(i,t,o,a){return Xv}function r4(){}function i4(i){}function s4(i,t){return!1}function o4(){return Om}function l4(){return Om}const a4=setTimeout,u4=clearTimeout,c4=-1;function d4(i,t){return!1}const h4=!1,f4=!0,p4=!0;function g4(i,t){t.parent===i?t.moveToTop():i.add(t),Bo(i)}function m4(i,t){t.parent===i?t.moveToTop():i.add(t),Bo(i)}function zm(i,t,o){t._remove(),i.add(t),t.setZIndex(o.getZIndex()),Bo(i)}function y4(i,t,o){zm(i,t,o)}function v4(i,t){t.destroy(),t.off(rp),Bo(i)}function _4(i,t){t.destroy(),t.off(rp),Bo(i)}function S4(i,t,o){console.error(`Text components are not yet supported in ReactKonva. You text is: "${o}"`)}function w4(i,t,o){}function k4(i,t,o,a,d){sf(i,d,a)}function x4(i){i.hide(),Bo(i)}function C4(i){}function E4(i,t){(t.visible==null||t.visible)&&i.show()}function P4(i,t){}function N4(i){}function T4(){}const R4=()=>Fm.DefaultEventPriority,L4=Object.freeze(Object.defineProperty({__proto__:null,appendChild:g4,appendChildToContainer:m4,appendInitialChild:Kv,cancelTimeout:u4,clearContainer:N4,commitMount:w4,commitTextUpdate:S4,commitUpdate:k4,createInstance:Qv,createTextInstance:Jv,detachDeletedInstance:T4,finalizeInitialChildren:Zv,getChildHostContext:l4,getCurrentEventPriority:R4,getPublicInstance:$v,getRootHostContext:o4,hideInstance:x4,hideTextInstance:C4,idlePriority:w0.unstable_IdlePriority,insertBefore:zm,insertInContainerBefore:y4,isPrimaryRenderer:h4,noTimeout:c4,now:w0.unstable_now,prepareForCommit:e4,preparePortalMount:t4,prepareUpdate:n4,removeChild:v4,removeChildFromContainer:_4,resetAfterCommit:r4,resetTextContent:i4,run:w0.unstable_runWithPriority,scheduleTimeout:a4,shouldDeprioritizeSubtree:s4,shouldSetTextContent:d4,supportsMutation:p4,unhideInstance:E4,unhideTextInstance:P4,warnsIfNotActing:f4},Symbol.toStringTag,{value:"Module"}));var M4=Object.defineProperty,D4=Object.defineProperties,I4=Object.getOwnPropertyDescriptors,D1=Object.getOwnPropertySymbols,A4=Object.prototype.hasOwnProperty,F4=Object.prototype.propertyIsEnumerable,I1=(i,t,o)=>t in i?M4(i,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[t]=o,A1=(i,t)=>{for(var o in t||(t={}))A4.call(t,o)&&I1(i,o,t[o]);if(D1)for(var o of D1(t))F4.call(t,o)&&I1(i,o,t[o]);return i},O4=(i,t)=>D4(i,I4(t)),F1,O1;typeof window<"u"&&((F1=window.document)!=null&&F1.createElement||((O1=window.navigator)==null?void 0:O1.product)==="ReactNative")?we.useLayoutEffect:we.useEffect;function Um(i,t,o){if(!i)return;if(o(i)===!0)return i;let a=i.child;for(;a;){const d=Um(a,t,o);if(d)return d;a=a.sibling}}function bm(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const z1=console.error;console.error=function(){const i=[...arguments].join("");if(i!=null&&i.startsWith("Warning:")&&i.includes("useContext")){console.error=z1;return}return z1.apply(this,arguments)};const ip=bm(we.createContext(null));class jm extends we.Component{render(){return we.createElement(ip.Provider,{value:this._reactInternals},this.props.children)}}function z4(){const i=we.useContext(ip);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=we.useId();return we.useMemo(()=>{for(const a of[i,i==null?void 0:i.alternate]){if(!a)continue;const d=Um(a,!1,u=>{let f=u.memoizedState;for(;f;){if(f.memoizedState===t)return!0;f=f.next}});if(d)return d}},[i,t])}function U4(){const i=z4(),[t]=we.useState(()=>new Map);t.clear();let o=i;for(;o;){if(o.type&&typeof o.type=="object"){const d=o.type._context===void 0&&o.type.Provider===o.type?o.type:o.type._context;d&&d!==ip&&!t.has(d)&&t.set(d,we.useContext(bm(d)))}o=o.return}return t}function b4(){const i=U4();return we.useMemo(()=>Array.from(i.keys()).reduce((t,o)=>a=>we.createElement(t,null,we.createElement(o.Provider,O4(A1({},a),{value:i.get(o)}))),t=>we.createElement(jm,A1({},t))),[i])}function j4(i){const t=Yn.useRef({});return Yn.useLayoutEffect(()=>{t.current=i}),Yn.useLayoutEffect(()=>()=>{t.current={}},[]),t.current}const B4=i=>{const t=Yn.useRef(null),o=Yn.useRef(null),a=Yn.useRef(null),d=j4(i),u=b4(),f=p=>{const{forwardedRef:m}=i;m&&(typeof m=="function"?m(p):m.current=p)};return Yn.useLayoutEffect(()=>(o.current=new Zc.Stage({width:i.width,height:i.height,container:t.current}),f(o.current),a.current=Kc.createContainer(o.current,Fm.LegacyRoot,!1,null),Kc.updateContainer(Yn.createElement(u,{},i.children),a.current),()=>{Zc.isBrowser&&(f(null),Kc.updateContainer(null,a.current,null),o.current.destroy())}),[]),Yn.useLayoutEffect(()=>{f(o.current),sf(o.current,i,d),Kc.updateContainer(Yn.createElement(u,{},i.children),a.current,null)}),Yn.createElement("div",{ref:t,id:i.id,accessKey:i.accessKey,className:i.className,role:i.role,style:i.style,tabIndex:i.tabIndex,title:i.title})},U1="Layer",G4="Group",V4="Label",Bm="Rect",H4="Circle",W4="Ellipse",Y4="Line",q4="Image",Gm="Text",X4="Tag",K4="Transformer",Kc=Bv(L4);Kc.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:Yn.version,rendererPackageName:"react-konva"});const Q4=Yn.forwardRef((i,t)=>Yn.createElement(jm,{},Yn.createElement(B4,{...i,forwardedRef:t}))),J4={},b1=i=>{let t;const o=new Set,a=(k,P)=>{const x=typeof k=="function"?k(t):k;if(!Object.is(x,t)){const w=t;t=P??(typeof x!="object"||x===null)?x:Object.assign({},t,x),o.forEach(C=>C(t,w))}},d=()=>t,m={setState:a,getState:d,getInitialState:()=>_,subscribe:k=>(o.add(k),()=>o.delete(k)),destroy:()=>{(J4?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),o.clear()}},_=t=i(a,d,m);return m},Z4=i=>i?b1(i):b1;var k0={exports:{}},x0={},C0={exports:{}},E0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1;function $4(){if(j1)return E0;j1=1;var i=eu();function t(P,x){return P===x&&(P!==0||1/P===1/x)||P!==P&&x!==x}var o=typeof Object.is=="function"?Object.is:t,a=i.useState,d=i.useEffect,u=i.useLayoutEffect,f=i.useDebugValue;function p(P,x){var w=x(),C=a({inst:{value:w,getSnapshot:x}}),N=C[0].inst,M=C[1];return u(function(){N.value=w,N.getSnapshot=x,m(N)&&M({inst:N})},[P,w,x]),d(function(){return m(N)&&M({inst:N}),P(function(){m(N)&&M({inst:N})})},[P]),f(w),w}function m(P){var x=P.getSnapshot;P=P.value;try{var w=x();return!o(P,w)}catch{return!0}}function _(P,x){return x()}var k=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_:p;return E0.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:k,E0}var B1;function e3(){return B1||(B1=1,C0.exports=$4()),C0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G1;function t3(){if(G1)return x0;G1=1;var i=eu(),t=e3();function o(_,k){return _===k&&(_!==0||1/_===1/k)||_!==_&&k!==k}var a=typeof Object.is=="function"?Object.is:o,d=t.useSyncExternalStore,u=i.useRef,f=i.useEffect,p=i.useMemo,m=i.useDebugValue;return x0.useSyncExternalStoreWithSelector=function(_,k,P,x,w){var C=u(null);if(C.current===null){var N={hasValue:!1,value:null};C.current=N}else N=C.current;C=p(function(){function b(j){if(!T){if(T=!0,v=j,j=x(j),w!==void 0&&N.hasValue){var H=N.value;if(w(H,j))return L=H}return L=j}if(H=L,a(v,j))return H;var I=x(j);return w!==void 0&&w(H,I)?(v=j,H):(v=j,L=I)}var T=!1,v,L,D=P===void 0?null:P;return[function(){return b(k())},D===null?void 0:function(){return b(D())}]},[k,P,x,w]);var M=d(_,C[0],C[1]);return f(function(){N.hasValue=!0,N.value=M},[M]),m(M),M},x0}var V1;function n3(){return V1||(V1=1,k0.exports=t3()),k0.exports}var r3=n3();const i3=ad(r3),Vm={},{useDebugValue:s3}=Yn,{useSyncExternalStoreWithSelector:o3}=i3;let H1=!1;const l3=i=>i;function a3(i,t=l3,o){(Vm?"production":void 0)!=="production"&&o&&!H1&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),H1=!0);const a=o3(i.subscribe,i.getState,i.getServerState||i.getInitialState,t,o);return s3(a),a}const W1=i=>{(Vm?"production":void 0)!=="production"&&typeof i!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof i=="function"?Z4(i):i,o=(a,d)=>a3(t,a,d);return Object.assign(o,t),o},ud=i=>i?W1(i):W1,u3="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Oh=(i=21)=>{let t="",o=crypto.getRandomValues(new Uint8Array(i|=0));for(;i--;)t+=u3[o[i]&63];return t};const Y1="layer-1",q1={shapes:{},layers:[{id:Y1,name:"Layer 1",visible:!0,locked:!1,shapeIds:[]}],activeLayerId:Y1,viewport:{x:0,y:0,scale:1}},Vr=ud((i,t)=>({...q1,addShape:o=>{var f;const a=Oh(),d={...o,id:a},u=t().activeLayerId||((f=t().layers[0])==null?void 0:f.id);return u?(i(p=>({shapes:{...p.shapes,[a]:{...d,layerId:u}},layers:p.layers.map(m=>m.id===u?{...m,shapeIds:[...m.shapeIds,a]}:m)})),a):(console.error("No active layer"),a)},updateShape:(o,a)=>{i(d=>{const u=d.shapes[o];return u?{shapes:{...d.shapes,[o]:{...u,...a}}}:d})},deleteShape:o=>{i(a=>{if(!a.shapes[o])return a;const{[o]:u,...f}=a.shapes;return{shapes:f,layers:a.layers.map(p=>({...p,shapeIds:p.shapeIds.filter(m=>m!==o)}))}})},deleteShapes:o=>{i(a=>{const d=new Set(o),u={...a.shapes};return o.forEach(f=>delete u[f]),{shapes:u,layers:a.layers.map(f=>({...f,shapeIds:f.shapeIds.filter(p=>!d.has(p))}))}})},duplicateShapes:o=>{const a=[];return i(d=>{const u={...d.shapes},f={};return o.forEach(p=>{const m=d.shapes[p];if(!m)return;const _=Oh();if(a.push(_),u[_]={...m,id:_,x:m.x+20,y:m.y+20,name:`${m.name} Copy`},!f[m.layerId]){const k=d.layers.find(P=>P.id===m.layerId);f[m.layerId]=k?[...k.shapeIds]:[]}f[m.layerId].push(_)}),{shapes:u,layers:d.layers.map(p=>f[p.id]?{...p,shapeIds:f[p.id]}:p)}}),a},addLayer:o=>{const a=Oh(),d=t().layers.length+1;return i(u=>({layers:[...u.layers,{id:a,name:o||`Layer ${d}`,visible:!0,locked:!1,shapeIds:[]}],activeLayerId:a})),a},updateLayer:(o,a)=>{i(d=>({layers:d.layers.map(u=>u.id===o?{...u,...a}:u)}))},deleteLayer:o=>{var _;const a=t();if(a.layers.length<=1)return;const d=a.layers.find(k=>k.id===o);if(!d)return;const u=new Set(d.shapeIds),f={...a.shapes};u.forEach(k=>delete f[k]);const p=a.layers.filter(k=>k.id!==o),m=a.activeLayerId===o?((_=p[0])==null?void 0:_.id)||null:a.activeLayerId;i({shapes:f,layers:p,activeLayerId:m})},reorderLayers:(o,a)=>{i(d=>{const u=[...d.layers],[f]=u.splice(o,1);return u.splice(a,0,f),{layers:u}})},setActiveLayer:o=>{i({activeLayerId:o})},moveShapeToLayer:(o,a)=>{i(d=>{const u=d.shapes[o];return!u||u.layerId===a?d:{shapes:{...d.shapes,[o]:{...u,layerId:a}},layers:d.layers.map(f=>f.id===u.layerId?{...f,shapeIds:f.shapeIds.filter(p=>p!==o)}:f.id===a?{...f,shapeIds:[...f.shapeIds,o]}:f)}})},reorderShapeInLayer:(o,a,d)=>{i(u=>({layers:u.layers.map(f=>{if(f.id!==o)return f;const p=[...f.shapeIds],[m]=p.splice(a,1);return p.splice(d,0,m),{...f,shapeIds:p}})}))},setViewport:o=>{i(a=>({viewport:{...a.viewport,...o}}))},zoomTo:(o,a,d)=>{i(u=>{const f=Math.min(Math.max(o,.1),10);if(a!==void 0&&d!==void 0){const p=f/u.viewport.scale,m=a-(a-u.viewport.x)*p,_=d-(d-u.viewport.y)*p;return{viewport:{x:m,y:_,scale:f}}}return{viewport:{...u.viewport,scale:f}}})},panBy:(o,a)=>{i(d=>({viewport:{...d.viewport,x:d.viewport.x+o,y:d.viewport.y+a}}))},fitToScreen:(o,a)=>{const d=Object.values(t().shapes);if(d.length===0){i({viewport:{x:0,y:0,scale:1}});return}let u=1/0,f=1/0,p=-1/0,m=-1/0;d.forEach(b=>{const T="width"in b?b.width:"radiusX"in b?b.radiusX*2:100,v="height"in b?b.height:"radiusY"in b?b.radiusY*2:100;u=Math.min(u,b.x),f=Math.min(f,b.y),p=Math.max(p,b.x+T),m=Math.max(m,b.y+v)});const _=p-u,k=m-f,P=50,x=(o-P*2)/_,w=(a-P*2)/k,C=Math.min(x,w,1),N=(u+p)/2,M=(f+m)/2;i({viewport:{x:o/2-N*C,y:a/2-M*C,scale:C}})},getState:()=>{const o=t();return{shapes:o.shapes,layers:o.layers,activeLayerId:o.activeLayerId}},setState:o=>{i(o)},reset:()=>{i(q1)}})),tu=ud((i,t)=>({selectedIds:[],isSelecting:!1,selectionBox:null,select:(o,a=!1)=>{i(d=>a?d.selectedIds.includes(o)?d:{selectedIds:[...d.selectedIds,o]}:{selectedIds:[o]})},selectMultiple:o=>{i({selectedIds:o})},selectAll:o=>{i({selectedIds:o})},deselect:o=>{i(a=>({selectedIds:a.selectedIds.filter(d=>d!==o)}))},clearSelection:()=>{i({selectedIds:[]})},toggleSelection:o=>{i(a=>a.selectedIds.includes(o)?{selectedIds:a.selectedIds.filter(d=>d!==o)}:{selectedIds:[...a.selectedIds,o]})},isSelected:o=>t().selectedIds.includes(o),startSelectionBox:(o,a)=>{i({isSelecting:!0,selectionBox:{x:o,y:a,width:0,height:0}})},updateSelectionBox:(o,a)=>{i(d=>{if(!d.selectionBox||!d.isSelecting)return d;const u=d.selectionBox.x,f=d.selectionBox.y;return{selectionBox:{x:Math.min(u,o),y:Math.min(f,a),width:Math.abs(o-u),height:Math.abs(a-f)}}})},endSelectionBox:()=>{const o=t().selectionBox;return i({isSelecting:!1,selectionBox:null}),o}})),nu=ud(i=>({activeTool:"select",fillColor:"#4a9eff",strokeColor:"#ffffff",strokeWidth:2,fontSize:24,fontFamily:"Arial",setTool:t=>i({activeTool:t}),setFillColor:t=>i({fillColor:t}),setStrokeColor:t=>i({strokeColor:t}),setStrokeWidth:t=>i({strokeWidth:t}),setFontSize:t=>i({fontSize:t}),setFontFamily:t=>i({fontFamily:t})})),c3=50,sp=ud((i,t)=>({past:[],future:[],isRecording:!0,pushState:(o,a)=>{if(!t().isRecording)return;const d={shapes:JSON.parse(JSON.stringify(o)),layers:JSON.parse(JSON.stringify(a)),timestamp:Date.now()};i(u=>{const f=[...u.past,d];return f.length>c3&&f.shift(),{past:f,future:[]}})},undo:()=>{const o=t();if(o.past.length===0)return null;const a=[...o.past],d=a.pop();return i({past:a}),d},redo:()=>{const o=t();if(o.future.length===0)return null;const a=[...o.future],d=a.shift();return i({future:a}),d},canUndo:()=>t().past.length>0,canRedo:()=>t().future.length>0,clear:()=>{i({past:[],future:[]})},pauseRecording:()=>{i({isRecording:!1})},resumeRecording:()=>{i({isRecording:!0})}})),X1=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9"],d3=()=>X1[Math.floor(Math.random()*X1.length)],op=ud(i=>({isConnected:!1,roomId:null,userId:null,userName:"Anonymous",userColor:d3(),cursors:{},setConnected:t=>i({isConnected:t}),setRoom:t=>i({roomId:t}),setUser:(t,o,a)=>i({userId:t,userName:o,userColor:a}),updateCursor:t=>i(o=>({cursors:{...o.cursors,[t.id]:t}})),removeCursor:t=>i(o=>{const{[t]:a,...d}=o.cursors;return{cursors:d}}),clearCursors:()=>i({cursors:{}})}));function h3({shape:i,id:t,x:o,y:a,rotation:d,scaleX:u,scaleY:f,opacity:p,draggable:m,onClick:_,onTap:k,onDragEnd:P}){return J.jsx(Bm,{id:t,x:o,y:a,width:i.width,height:i.height,fill:i.fill,stroke:i.stroke,strokeWidth:i.strokeWidth,cornerRadius:i.cornerRadius,rotation:d,scaleX:u,scaleY:f,opacity:p,draggable:m,onClick:_,onTap:k,onDragEnd:P})}function f3({shape:i,id:t,x:o,y:a,rotation:d,scaleX:u,scaleY:f,opacity:p,draggable:m,onClick:_,onTap:k,onDragEnd:P}){return J.jsx(W4,{id:t,x:o,y:a,radiusX:i.radiusX,radiusY:i.radiusY,fill:i.fill,stroke:i.stroke,strokeWidth:i.strokeWidth,rotation:d,scaleX:u,scaleY:f,opacity:p,draggable:m,onClick:_,onTap:k,onDragEnd:P})}function p3({shape:i,id:t,x:o,y:a,rotation:d,scaleX:u,scaleY:f,opacity:p,draggable:m,onClick:_,onTap:k,onDragEnd:P}){return J.jsx(Y4,{id:t,x:o,y:a,points:i.points,stroke:i.stroke,strokeWidth:i.strokeWidth,lineCap:i.lineCap,lineJoin:i.lineJoin,rotation:d,scaleX:u,scaleY:f,opacity:p,draggable:m,onClick:_,onTap:k,onDragEnd:P,hitStrokeWidth:Math.max(i.strokeWidth,10)})}function g3({shape:i,id:t,x:o,y:a,rotation:d,scaleX:u,scaleY:f,opacity:p,draggable:m,onClick:_,onTap:k,onDragEnd:P}){return J.jsx(Gm,{id:t,x:o,y:a,text:i.text,fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fill:i.fill,align:i.align,width:i.width,rotation:d,scaleX:u,scaleY:f,opacity:p,draggable:m,onClick:_,onTap:k,onDragEnd:P})}function m3({shape:i,id:t,x:o,y:a,rotation:d,scaleX:u,scaleY:f,opacity:p,draggable:m,onClick:_,onTap:k,onDragEnd:P}){const[x,w]=we.useState(null);return we.useEffect(()=>{const C=new window.Image;C.crossOrigin="anonymous",C.src=i.src,C.onload=()=>w(C)},[i.src]),x?J.jsx(q4,{id:t,x:o,y:a,image:x,width:i.width,height:i.height,rotation:d,scaleX:u,scaleY:f,opacity:p,draggable:m,onClick:_,onTap:k,onDragEnd:P}):null}function K1({shape:i,onClick:t,onDragEnd:o}){const a={id:i.id,x:i.x,y:i.y,rotation:i.rotation,scaleX:i.scaleX,scaleY:i.scaleY,opacity:i.opacity,draggable:!i.locked,onClick:t,onTap:t,onDragEnd:o};switch(i.type){case"rectangle":return J.jsx(h3,{shape:i,...a});case"circle":return J.jsx(f3,{shape:i,...a});case"line":return J.jsx(p3,{shape:i,...a});case"text":return J.jsx(g3,{shape:i,...a});case"image":return J.jsx(m3,{shape:i,...a});default:return null}}function y3({selectedShapes:i,stageRef:t}){const o=we.useRef(null),{updateShape:a}=Vr();we.useEffect(()=>{var p;if(!o.current||!t.current)return;const u=t.current,f=[];i.forEach(m=>{const _=u.findOne(`#${m.id}`);_&&f.push(_)}),o.current.nodes(f),(p=o.current.getLayer())==null||p.batchDraw()},[i,t]);const d=we.useCallback(()=>{t.current&&i.forEach(u=>{var k;const f=(k=t.current)==null?void 0:k.findOne(`#${u.id}`);if(!f)return;const p=f.scaleX(),m=f.scaleY();let _={x:f.x(),y:f.y(),rotation:f.rotation()};u.type==="rectangle"||u.type==="text"||u.type==="image"?(_={..._,width:Math.max(5,f.width()*p),height:Math.max(5,f.height()*m),scaleX:1,scaleY:1},f.scaleX(1),f.scaleY(1)):u.type==="circle"?(_={..._,radiusX:Math.max(5,f.radiusX()*p),radiusY:Math.max(5,f.radiusY()*m),scaleX:1,scaleY:1},f.scaleX(1),f.scaleY(1)):_={..._,scaleX:p,scaleY:m},a(u.id,_)})},[i,t,a]);return i.length===0?null:J.jsx(K4,{ref:o,boundBoxFunc:(u,f)=>f.width<5||f.height<5?u:f,onTransformEnd:d,anchorSize:8,anchorCornerRadius:2,borderStroke:"#4a9eff",anchorStroke:"#4a9eff",anchorFill:"#ffffff",rotateEnabled:!0,enabledAnchors:["top-left","top-center","top-right","middle-left","middle-right","bottom-left","bottom-center","bottom-right"]})}function v3({box:i}){return J.jsx(Bm,{x:i.x,y:i.y,width:i.width,height:i.height,fill:"rgba(74, 158, 255, 0.1)",stroke:"#4a9eff",strokeWidth:1,dash:[4,4]})}function _3(){const{cursors:i,userId:t}=op();return J.jsx(J.Fragment,{children:Object.values(i).map(o=>o.id===t?null:J.jsxs(G4,{x:o.x,y:o.y,children:[J.jsx(H4,{radius:6,fill:o.color,stroke:"#ffffff",strokeWidth:2,shadowColor:"rgba(0, 0, 0, 0.3)",shadowBlur:4,shadowOffset:{x:1,y:1}}),J.jsxs(V4,{x:10,y:-5,children:[J.jsx(X4,{fill:o.color,cornerRadius:3,pointerDirection:"left",pointerWidth:6,pointerHeight:6}),J.jsx(Gm,{text:o.name,fontSize:11,fontFamily:"Arial",fill:"#ffffff",padding:4})]})]},o.id))})}function S3(i){const{shapes:t,layers:o,addShape:a}=Vr(),{activeTool:d,fillColor:u,strokeColor:f,strokeWidth:p,fontSize:m,fontFamily:_}=nu(),{selectMultiple:k}=tu(),{pushState:P}=sp(),[x,w]=we.useState(!1),[C,N]=we.useState(null),M=we.useRef(null),b=we.useCallback(()=>{const j=i.current;if(!j)return null;const H=j.getPointerPosition();if(!H)return null;const I=j.scaleX(),z=j.position();return{x:(H.x-z.x)/I,y:(H.y-z.y)/I}},[i]),T=we.useCallback(j=>Object.values(t).filter(H=>H.type===j).length+1,[t]),v=we.useCallback(j=>{if(d==="select"||d==="pan"||j.target!==j.target.getStage())return;const H=b();if(!H)return;M.current=H,w(!0),P(t,o);const I={x:H.x,y:H.y,rotation:0,scaleX:1,scaleY:1,opacity:1,visible:!0,locked:!1,layerId:""};let z=null;switch(d){case"rectangle":z={...I,id:"preview",type:"rectangle",name:`Rectangle ${T("rectangle")}`,width:0,height:0,fill:u,stroke:f,strokeWidth:p,cornerRadius:0};break;case"circle":z={...I,id:"preview",type:"circle",name:`Circle ${T("circle")}`,radiusX:0,radiusY:0,fill:u,stroke:f,strokeWidth:p};break;case"line":z={...I,id:"preview",type:"line",name:`Line ${T("line")}`,points:[0,0,0,0],stroke:f,strokeWidth:p,lineCap:"round",lineJoin:"round"};break;case"text":const B={...I,type:"text",name:`Text ${T("text")}`,text:"Text",fontSize:m,fontFamily:_,fontStyle:"normal",fill:u,align:"left",width:200,height:m*1.5},q=a(B);k([q]),w(!1);return;case"image":const K=document.createElement("input");K.type="file",K.accept="image/*",K.onchange=ee=>{var pe;const ne=(pe=ee.target.files)==null?void 0:pe[0];if(!ne)return;const $=new FileReader;$.onload=A=>{var W;const U=new Image;U.onload=()=>{var Q;const G={...I,type:"image",name:`Image ${T("image")}`,src:(Q=A.target)==null?void 0:Q.result,width:U.width,height:U.height},F=a(G);k([F])},U.src=(W=A.target)==null?void 0:W.result},$.readAsDataURL(ne)},K.click(),w(!1);return}N(z)},[d,b,P,t,o,u,f,p,m,_,a,k,T]),L=we.useCallback(j=>{if(!x||!M.current||!C)return;const H=b();if(!H)return;const I=M.current;let z=null;switch(C.type){case"rectangle":const B=H.x-I.x,q=H.y-I.y;z={...C,x:B<0?H.x:I.x,y:q<0?H.y:I.y,width:Math.abs(B),height:Math.abs(q)};break;case"circle":const K=Math.abs(H.x-I.x)/2,ee=Math.abs(H.y-I.y)/2,ne=Math.min(I.x,H.x)+K,$=Math.min(I.y,H.y)+ee;z={...C,x:ne,y:$,radiusX:K,radiusY:ee};break;case"line":z={...C,points:[0,0,H.x-I.x,H.y-I.y]};break}z&&N(z)},[x,C,b]),D=we.useCallback(j=>{if(!x||!C){w(!1),N(null),M.current=null;return}let H=!1;switch(C.type){case"rectangle":H=C.width>5&&C.height>5;break;case"circle":H=C.radiusX>5&&C.radiusY>5;break;case"line":const[,,I,z]=C.points;H=Math.abs(I)>5||Math.abs(z)>5;break}if(H){const{id:I,...z}=C,B=a(z);k([B])}w(!1),N(null),M.current=null},[x,C,a,k]);return{handleMouseDown:v,handleMouseMove:L,handleMouseUp:D,isDrawing:x,previewShape:C}}function w3(i){const{viewport:t,setViewport:o,zoomTo:a,panBy:d}=Vr(),{activeTool:u}=nu(),[f,p]=we.useState(!1),m=we.useRef(null),_=we.useRef(null),k=we.useRef(1);we.useEffect(()=>{const v=i.current;if(!v)return;const L=v.container(),D=B=>{if(B.preventDefault(),B.ctrlKey){const K=L.getBoundingClientRect(),ee=B.clientX-K.left,ne=B.clientY-K.top,$=t.scale,A=-B.deltaY*.01,U=Math.max(.1,Math.min(10,$*(1+A)));a(U,ee,ne)}else d(-B.deltaX,-B.deltaY)},j=B=>{B.preventDefault(),k.current=t.scale},H=B=>{B.preventDefault();const q=B;if(q.scale){const K=Math.max(.1,Math.min(10,k.current*q.scale)),ee=L.getBoundingClientRect(),ne=q.clientX-ee.left,$=q.clientY-ee.top;a(K,ne,$)}},I=B=>{B.preventDefault()},z=B=>{B.touches.length>1&&B.preventDefault()};return L.addEventListener("wheel",D,{passive:!1}),L.addEventListener("gesturestart",j),L.addEventListener("gesturechange",H),L.addEventListener("gestureend",I),L.addEventListener("touchmove",z,{passive:!1}),()=>{L.removeEventListener("wheel",D),L.removeEventListener("gesturestart",j),L.removeEventListener("gesturechange",H),L.removeEventListener("gestureend",I),L.removeEventListener("touchmove",z)}},[i,t.scale,a,d]);const P=v=>{if(v.length<2)return 0;const L=v[0].clientX-v[1].clientX,D=v[0].clientY-v[1].clientY;return Math.sqrt(L*L+D*D)},x=v=>v.length<2?{x:v[0].clientX,y:v[0].clientY}:{x:(v[0].clientX+v[1].clientX)/2,y:(v[0].clientY+v[1].clientY)/2},w=we.useCallback(v=>{const L=v.evt.touches;L.length===2&&(v.evt.preventDefault(),m.current=P(L),_.current=x(L))},[]),C=we.useCallback(v=>{const L=v.evt.touches,D=i.current;if(D&&L.length===2&&m.current!==null){v.evt.preventDefault();const j=P(L),H=x(L),I=j/m.current,z=t.scale,B=Math.max(.1,Math.min(10,z*I)),q=D.container().getBoundingClientRect(),K=H.x-q.left,ee=H.y-q.top;if(a(B,K,ee),_.current){const ne=H.x-_.current.x,$=H.y-_.current.y;d(ne,$)}m.current=j,_.current=H}},[i,t.scale,a,d]),N=we.useCallback(v=>{v.evt.touches.length<2&&(m.current=null,_.current=null)},[]),M=we.useCallback(v=>{v.target===v.target.getStage()&&u==="pan"&&p(!0)},[u]),b=we.useCallback(v=>{v.target===v.target.getStage()&&u==="pan"&&(p(!1),o({x:v.target.x(),y:v.target.y()}))},[u,o]),T=we.useCallback((v,L)=>{const D=i.current;if(!D)return{x:v,y:L};const j=D.container().getBoundingClientRect(),H=v-j.left,I=L-j.top,z=(H-t.x)/t.scale,B=(I-t.y)/t.scale;return{x:z,y:B}},[i,t]);return{handleTouchStart:w,handleTouchMove:C,handleTouchEnd:N,handleDragStart:M,handleDragEnd:b,isPanning:f,screenToCanvas:T}}const k3="_container_9qede_1",x3={container:k3};function C3({onCursorMove:i}){const t=we.useRef(null),o=we.useRef(null),[a,d]=we.useState({width:0,height:0}),{shapes:u,layers:f,viewport:p,updateShape:m}=Vr(),{selectedIds:_,clearSelection:k,selectionBox:P,selectMultiple:x}=tu(),{activeTool:w}=nu(),{handleMouseDown:C,handleMouseMove:N,handleMouseUp:M,isDrawing:b,previewShape:T}=S3(o),{handleTouchStart:v,handleTouchMove:L,handleTouchEnd:D,handleDragStart:j,handleDragEnd:H,isPanning:I,screenToCanvas:z}=w3(o);we.useEffect(()=>{const G=()=>{t.current&&d({width:t.current.offsetWidth,height:t.current.offsetHeight})};return G(),window.addEventListener("resize",G),()=>window.removeEventListener("resize",G)},[]);const B=we.useCallback(()=>{const G=[];return f.forEach(F=>{F.visible&&F.shapeIds.forEach(Q=>{const Z=u[Q];Z&&Z.visible&&G.push(Z)})}),G},[u,f]),q=we.useCallback(G=>{G.target===G.target.getStage()&&k()},[k]),K=we.useCallback((G,F)=>{if(w!=="select")return;if(G.cancelBubble=!0,G.evt.shiftKey||G.evt.metaKey||G.evt.ctrlKey){const Z=_.includes(F);x(Z?_.filter(he=>he!==F):[..._,F])}else x([F])},[w,_,x]),ee=we.useCallback((G,F)=>{m(F,{x:G.target.x(),y:G.target.y()})},[m]),ne=we.useCallback(G=>{w!=="select"&&w!=="pan"&&C(G)},[w,C]),$=we.useCallback(G=>{if(i){const F=z(G.evt.clientX,G.evt.clientY);i(F.x,F.y)}b&&N(G)},[b,N,i,z]),pe=we.useCallback(G=>{b&&M(G)},[b,M]),A=B(),U=A.filter(G=>_.includes(G.id)),W=w==="pan"||I?"grab":w==="select"?"default":"crosshair";return J.jsx("div",{ref:t,className:x3.container,style:{cursor:W},children:J.jsxs(Q4,{ref:o,width:a.width,height:a.height,x:p.x,y:p.y,scaleX:p.scale,scaleY:p.scale,draggable:w==="pan",onClick:q,onMouseDown:ne,onMouseMove:$,onMouseUp:pe,onTouchStart:v,onTouchMove:L,onTouchEnd:D,onDragStart:j,onDragEnd:H,children:[J.jsxs(U1,{children:[A.map(G=>J.jsx(K1,{shape:G,isSelected:_.includes(G.id),onClick:F=>K(F,G.id),onDragEnd:F=>ee(F,G.id)},G.id)),T&&J.jsx(K1,{shape:T,isSelected:!1,onClick:()=>{},onDragEnd:()=>{}})]}),J.jsxs(U1,{children:[J.jsx(y3,{selectedShapes:U,stageRef:o}),P&&J.jsx(v3,{box:P}),J.jsx(_3,{})]})]})})}/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hm=(...i)=>i.filter((t,o,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===o).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=we.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:d="",children:u,iconNode:f,...p},m)=>we.createElement("svg",{ref:m,...P3,width:t,height:t,stroke:i,strokeWidth:a?Number(o)*24/Number(t):o,className:Hm("lucide",d),...p},[...f.map(([_,k])=>we.createElement(_,k)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=(i,t)=>{const o=we.forwardRef(({className:a,...d},u)=>we.createElement(N3,{ref:u,iconNode:t,className:Hm(`lucide-${E3(i)}`,a),...d}));return o.displayName=`${i}`,o};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=Ct("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=Ct("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=Ct("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=Ct("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=Ct("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=Ct("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=Ct("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=Ct("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=Ct("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=Ct("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=Ct("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=Ct("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=Ct("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=Ct("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=Ct("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=Ct("MousePointer2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=Ct("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=Ct("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=Ct("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=Ct("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=Ct("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=Ct("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=Ct("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=Ct("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=Ct("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=Ct("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=Ct("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function Wm(){const{shapes:i,layers:t,setState:o}=Vr(),{pushState:a,undo:d,redo:u,canUndo:f,canRedo:p}=sp(),m=we.useRef(!1),_=we.useRef(null);we.useEffect(()=>{if(m.current){m.current=!1,_.current={shapes:i,layers:t};return}const x=_.current;x&&(x.shapes!==i||x.layers!==t)&&(Object.keys(x.shapes).length>0||x.layers.length>0)&&a(x.shapes,x.layers),_.current={shapes:i,layers:t}},[i,t,a]);const k=we.useCallback(()=>{if(!f())return;const x=d();x&&(m.current=!0,o({shapes:x.shapes,layers:x.layers}))},[f,d,o]),P=we.useCallback(()=>{if(!p())return;const x=u();x&&(m.current=!0,o({shapes:x.shapes,layers:x.layers}))},[p,u,o]);return{undo:k,redo:P,canUndo:f,canRedo:p}}function Q3(){const{shapes:i,layers:t}=Vr(),o=we.useCallback(()=>{const u=document.querySelector(".konvajs-content canvas");if(!u)return;const f=document.createElement("a");f.download="canvas-export.png",f.href=u.toDataURL("image/png"),f.click()},[]),a=we.useCallback(()=>{const u=document.querySelector(".konvajs-content canvas");if(!u)return;const f=document.createElement("a");f.download="canvas-export.jpg",f.href=u.toDataURL("image/jpeg",.9),f.click()},[]),d=we.useCallback(()=>{const u=[];let f=1/0,p=1/0,m=-1/0,_=-1/0;Object.values(i).forEach(v=>{if(!v.visible)return;const L=t.find(z=>z.id===v.layerId);if(!(L!=null&&L.visible))return;let D=0,j=0,H=v.x,I=v.y;if("width"in v)D=v.width,j=v.height;else if("radiusX"in v)D=v.radiusX*2,j=v.radiusY*2,H-=v.radiusX,I-=v.radiusY;else if("points"in v&&v.points.length>=4){const z=v.points.filter((q,K)=>K%2===0),B=v.points.filter((q,K)=>K%2===1);D=Math.max(...z)-Math.min(...z),j=Math.max(...B)-Math.min(...B),H+=Math.min(...z),I+=Math.min(...B)}f=Math.min(f,H),p=Math.min(p,I),m=Math.max(m,H+D),_=Math.max(_,I+j)});const k=20,P=m-f+k*2,x=_-p+k*2,w=-f+k,C=-p+k;t.forEach(v=>{v.visible&&v.shapeIds.forEach(L=>{const D=i[L];if(!D||!D.visible)return;const j=`translate(${D.x+w}, ${D.y+C}) rotate(${D.rotation})`,H=D.opacity;switch(D.type){case"rectangle":u.push(`<rect x="0" y="0" width="${D.width}" height="${D.height}" fill="${D.fill}" stroke="${D.stroke}" stroke-width="${D.strokeWidth}" rx="${D.cornerRadius}" transform="${j}" opacity="${H}"/>`);break;case"circle":u.push(`<ellipse cx="0" cy="0" rx="${D.radiusX}" ry="${D.radiusY}" fill="${D.fill}" stroke="${D.stroke}" stroke-width="${D.strokeWidth}" transform="${j}" opacity="${H}"/>`);break;case"line":const I=D.points;I.length>=4&&u.push(`<line x1="${I[0]}" y1="${I[1]}" x2="${I[2]}" y2="${I[3]}" stroke="${D.stroke}" stroke-width="${D.strokeWidth}" stroke-linecap="${D.lineCap}" transform="${j}" opacity="${H}"/>`);break;case"text":u.push(`<text x="0" y="${D.fontSize}" font-size="${D.fontSize}" font-family="${D.fontFamily}" fill="${D.fill}" transform="${j}" opacity="${H}">${J3(D.text)}</text>`);break;case"image":u.push(`<image href="${D.src}" width="${D.width}" height="${D.height}" transform="${j}" opacity="${H}"/>`);break}})});const N=`<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="${P}" height="${x}" viewBox="0 0 ${P} ${x}">
  ${u.join(`
  `)}
</svg>`,M=new Blob([N],{type:"image/svg+xml"}),b=URL.createObjectURL(M),T=document.createElement("a");T.download="canvas-export.svg",T.href=b,T.click(),URL.revokeObjectURL(b)},[i,t]);return{exportToPNG:o,exportToJPEG:a,exportToSVG:d}}function J3(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Z3="_toolbar_1hl9z_1",$3="_section_1hl9z_11",e5="_divider_1hl9z_17",t5="_spacer_1hl9z_24",n5="_toolButton_1hl9z_28",r5="_active_1hl9z_47",i5="_buttonLabel_1hl9z_57",s5="_zoomLevel_1hl9z_67",Ft={toolbar:Z3,section:$3,divider:e5,spacer:t5,toolButton:n5,active:r5,buttonLabel:i5,zoomLevel:s5},o5="_container_9xgda_1",l5="_trigger_9xgda_5",a5="_colorPreview_9xgda_22",u5="_strokeIndicator_9xgda_30",c5="_label_9xgda_37",d5="_dropdown_9xgda_41",h5="_presetColors_9xgda_54",f5="_presetColor_9xgda_54",p5="_selected_9xgda_74",g5="_customColor_9xgda_78",m5="_hexInput_9xgda_100",Ei={container:o5,trigger:l5,colorPreview:a5,strokeIndicator:u5,label:c5,dropdown:d5,presetColors:h5,presetColor:f5,selected:p5,customColor:g5,hexInput:m5},y5=["#ffffff","#000000","#4a9eff","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#F7DC6F","#BB8FCE","#85C1E9","#E74C3C","#2ECC71","#F39C12","#9B59B6"];function tm({type:i}){const{fillColor:t,strokeColor:o,setFillColor:a,setStrokeColor:d}=nu(),[u,f]=we.useState(!1),p=we.useRef(null),m=i==="fill"?t:o,_=i==="fill"?a:d;return we.useEffect(()=>{const k=P=>{p.current&&!p.current.contains(P.target)&&f(!1)};return u&&document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[u]),J.jsxs("div",{className:Ei.container,ref:p,children:[J.jsxs("button",{className:Ei.trigger,onClick:()=>f(!u),title:i==="fill"?"Fill Color":"Stroke Color",children:[J.jsx("div",{className:Ei.colorPreview,style:{backgroundColor:m},children:i==="stroke"&&J.jsx("div",{className:Ei.strokeIndicator})}),J.jsx("span",{className:Ei.label,children:i==="fill"?"Fill":"Stroke"})]}),u&&J.jsxs("div",{className:Ei.dropdown,children:[J.jsx("div",{className:Ei.presetColors,children:y5.map(k=>J.jsx("button",{className:`${Ei.presetColor} ${m===k?Ei.selected:""}`,style:{backgroundColor:k},onClick:()=>{_(k),f(!1)}},k))}),J.jsxs("div",{className:Ei.customColor,children:[J.jsx("label",{children:"Custom:"}),J.jsx("input",{type:"color",value:m,onChange:k=>_(k.target.value)}),J.jsx("input",{type:"text",value:m,onChange:k=>_(k.target.value),className:Ei.hexInput})]})]})]})}function El({tool:i,icon:t,label:o,shortcut:a}){const{activeTool:d,setTool:u}=nu(),f=d===i;return J.jsx("button",{className:`${Ft.toolButton} ${f?Ft.active:""}`,onClick:()=>u(i),title:`${o}${a?` (${a})`:""}`,children:t})}function v5(){const{undo:i,redo:t}=Wm(),{canUndo:o,canRedo:a}=sp(),{exportToPNG:d,exportToSVG:u}=Q3(),{viewport:f,zoomTo:p,fitToScreen:m}=Vr(),_=()=>{p(f.scale*1.2)},k=()=>{p(f.scale/1.2)},P=()=>{m(window.innerWidth-560,window.innerHeight-48)};return J.jsxs("div",{className:Ft.toolbar,children:[J.jsxs("div",{className:Ft.section,children:[J.jsx(El,{tool:"select",icon:J.jsx(U3,{size:18}),label:"Select",shortcut:"V"}),J.jsx(El,{tool:"pan",icon:J.jsx(L3,{size:18}),label:"Pan",shortcut:"H"})]}),J.jsx("div",{className:Ft.divider}),J.jsxs("div",{className:Ft.section,children:[J.jsx(El,{tool:"rectangle",icon:J.jsx(B3,{size:18}),label:"Rectangle",shortcut:"R"}),J.jsx(El,{tool:"circle",icon:J.jsx(R3,{size:18}),label:"Circle",shortcut:"O"}),J.jsx(El,{tool:"line",icon:J.jsx(z3,{size:18}),label:"Line",shortcut:"L"}),J.jsx(El,{tool:"text",icon:J.jsx(V3,{size:18}),label:"Text",shortcut:"T"}),J.jsx(El,{tool:"image",icon:J.jsx(D3,{size:18}),label:"Image",shortcut:"I"})]}),J.jsx("div",{className:Ft.divider}),J.jsxs("div",{className:Ft.section,children:[J.jsx(tm,{type:"fill"}),J.jsx(tm,{type:"stroke"})]}),J.jsx("div",{className:Ft.spacer}),J.jsxs("div",{className:Ft.section,children:[J.jsx("button",{className:Ft.toolButton,onClick:i,disabled:!o(),title:"Undo (Ctrl+Z)",children:J.jsx(H3,{size:18})}),J.jsx("button",{className:Ft.toolButton,onClick:t,disabled:!a(),title:"Redo (Ctrl+Shift+Z)",children:J.jsx(j3,{size:18})})]}),J.jsx("div",{className:Ft.divider}),J.jsxs("div",{className:Ft.section,children:[J.jsx("button",{className:Ft.toolButton,onClick:k,title:"Zoom Out",children:J.jsx(K3,{size:18})}),J.jsxs("span",{className:Ft.zoomLevel,children:[Math.round(f.scale*100),"%"]}),J.jsx("button",{className:Ft.toolButton,onClick:_,title:"Zoom In",children:J.jsx(X3,{size:18})}),J.jsx("button",{className:Ft.toolButton,onClick:P,title:"Fit to Screen",children:J.jsx(O3,{size:18})})]}),J.jsx("div",{className:Ft.divider}),J.jsxs("div",{className:Ft.section,children:[J.jsxs("button",{className:Ft.toolButton,onClick:d,title:"Export as PNG",children:[J.jsx(J1,{size:18}),J.jsx("span",{className:Ft.buttonLabel,children:"PNG"})]}),J.jsxs("button",{className:Ft.toolButton,onClick:u,title:"Export as SVG",children:[J.jsx(J1,{size:18}),J.jsx("span",{className:Ft.buttonLabel,children:"SVG"})]})]})]})}const _5="_panel_8xtbc_1",S5="_header_8xtbc_10",w5="_emptyState_8xtbc_21",k5="_section_8xtbc_28",x5="_sectionTitle_8xtbc_33",C5="_row_8xtbc_42",E5="_field_8xtbc_52",P5="_hexInput_8xtbc_110",N5="_layersList_8xtbc_117",T5="_layerItem_8xtbc_122",R5="_activeLayer_8xtbc_126",L5="_layerHeader_8xtbc_130",M5="_layerName_8xtbc_142",D5="_shapesList_8xtbc_148",I5="_shapeItem_8xtbc_152",A5="_selectedShape_8xtbc_166",F5="_shapePreview_8xtbc_171",O5="_shapeName_8xtbc_179",z5="_iconButton_8xtbc_186",Fe={panel:_5,header:S5,emptyState:w5,section:k5,sectionTitle:x5,row:C5,field:E5,hexInput:P5,layersList:N5,layerItem:T5,activeLayer:R5,layerHeader:L5,layerName:M5,shapesList:D5,shapeItem:I5,selectedShape:A5,shapePreview:F5,shapeName:O5,iconButton:z5};function U5(){const{shapes:i,updateShape:t}=Vr(),{selectedIds:o}=tu();if(o.length===0)return J.jsxs("div",{className:Fe.panel,children:[J.jsx("div",{className:Fe.header,children:"Properties"}),J.jsx("div",{className:Fe.emptyState,children:"Select a shape to edit its properties"})]});if(o.length>1)return J.jsxs("div",{className:Fe.panel,children:[J.jsx("div",{className:Fe.header,children:"Properties"}),J.jsxs("div",{className:Fe.emptyState,children:[o.length," shapes selected"]})]});const a=i[o[0]];if(!a)return null;const d=(u,f)=>{t(a.id,{[u]:f})};return J.jsxs("div",{className:Fe.panel,children:[J.jsx("div",{className:Fe.header,children:"Properties"}),J.jsxs("div",{className:Fe.section,children:[J.jsx("div",{className:Fe.sectionTitle,children:"Transform"}),J.jsxs("div",{className:Fe.row,children:[J.jsxs("div",{className:Fe.field,children:[J.jsx("label",{children:"X"}),J.jsx("input",{type:"number",value:Math.round(a.x),onChange:u=>d("x",parseFloat(u.target.value)||0)})]}),J.jsxs("div",{className:Fe.field,children:[J.jsx("label",{children:"Y"}),J.jsx("input",{type:"number",value:Math.round(a.y),onChange:u=>d("y",parseFloat(u.target.value)||0)})]})]}),"width"in a&&"height"in a&&J.jsxs("div",{className:Fe.row,children:[J.jsxs("div",{className:Fe.field,children:[J.jsx("label",{children:"W"}),J.jsx("input",{type:"number",value:Math.round(a.width),onChange:u=>t(a.id,{width:parseFloat(u.target.value)||1})})]}),J.jsxs("div",{className:Fe.field,children:[J.jsx("label",{children:"H"}),J.jsx("input",{type:"number",value:Math.round(a.height),onChange:u=>t(a.id,{height:parseFloat(u.target.value)||1})})]})]}),"radiusX"in a&&"radiusY"in a&&J.jsxs("div",{className:Fe.row,children:[J.jsxs("div",{className:Fe.field,children:[J.jsx("label",{children:"RX"}),J.jsx("input",{type:"number",value:Math.round(a.radiusX),onChange:u=>t(a.id,{radiusX:parseFloat(u.target.value)||1})})]}),J.jsxs("div",{className:Fe.field,children:[J.jsx("label",{children:"RY"}),J.jsx("input",{type:"number",value:Math.round(a.radiusY),onChange:u=>t(a.id,{radiusY:parseFloat(u.target.value)||1})})]})]}),J.jsx("div",{className:Fe.row,children:J.jsxs("div",{className:Fe.field,children:[J.jsx("label",{children:"Rotation"}),J.jsx("input",{type:"number",value:Math.round(a.rotation),onChange:u=>d("rotation",parseFloat(u.target.value)||0)})]})})]}),"fill"in a&&J.jsxs("div",{className:Fe.section,children:[J.jsx("div",{className:Fe.sectionTitle,children:"Fill"}),J.jsx("div",{className:Fe.row,children:J.jsxs("div",{className:Fe.field,children:[J.jsx("label",{children:"Color"}),J.jsx("input",{type:"color",value:a.fill,onChange:u=>t(a.id,{fill:u.target.value})}),J.jsx("input",{type:"text",value:a.fill,onChange:u=>t(a.id,{fill:u.target.value}),className:Fe.hexInput})]})})]}),"stroke"in a&&J.jsxs("div",{className:Fe.section,children:[J.jsx("div",{className:Fe.sectionTitle,children:"Stroke"}),J.jsx("div",{className:Fe.row,children:J.jsxs("div",{className:Fe.field,children:[J.jsx("label",{children:"Color"}),J.jsx("input",{type:"color",value:a.stroke,onChange:u=>t(a.id,{stroke:u.target.value})}),J.jsx("input",{type:"text",value:a.stroke,onChange:u=>t(a.id,{stroke:u.target.value}),className:Fe.hexInput})]})}),"strokeWidth"in a&&J.jsx("div",{className:Fe.row,children:J.jsxs("div",{className:Fe.field,children:[J.jsx("label",{children:"Width"}),J.jsx("input",{type:"number",min:"0",value:a.strokeWidth,onChange:u=>t(a.id,{strokeWidth:parseFloat(u.target.value)||0})})]})})]}),a.type==="text"&&J.jsxs("div",{className:Fe.section,children:[J.jsx("div",{className:Fe.sectionTitle,children:"Text"}),J.jsx("div",{className:Fe.row,children:J.jsxs("div",{className:Fe.field,style:{flex:1},children:[J.jsx("label",{children:"Content"}),J.jsx("textarea",{value:a.text,onChange:u=>t(a.id,{text:u.target.value}),rows:3})]})}),J.jsx("div",{className:Fe.row,children:J.jsxs("div",{className:Fe.field,children:[J.jsx("label",{children:"Size"}),J.jsx("input",{type:"number",min:"1",value:a.fontSize,onChange:u=>t(a.id,{fontSize:parseFloat(u.target.value)||12})})]})})]}),J.jsxs("div",{className:Fe.section,children:[J.jsx("div",{className:Fe.sectionTitle,children:"Appearance"}),J.jsx("div",{className:Fe.row,children:J.jsxs("div",{className:Fe.field,children:[J.jsx("label",{children:"Opacity"}),J.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:a.opacity,onChange:u=>d("opacity",parseFloat(u.target.value))}),J.jsxs("span",{children:[Math.round(a.opacity*100),"%"]})]})})]})]})}function b5(){const{shapes:i,layers:t,activeLayerId:o,addLayer:a,updateLayer:d,deleteLayer:u,setActiveLayer:f,reorderLayers:p,reorderShapeInLayer:m}=Vr(),{selectedIds:_,selectMultiple:k}=tu(),P=(N,M,b,T)=>{N.dataTransfer.setData("type",M),N.dataTransfer.setData("id",b),N.dataTransfer.setData("index",T.toString())},x=(N,M)=>{if(N.preventDefault(),N.dataTransfer.getData("type")!=="layer")return;const T=parseInt(N.dataTransfer.getData("index"));T!==M&&p(T,M)},w=(N,M,b)=>{if(N.preventDefault(),N.stopPropagation(),N.dataTransfer.getData("type")!=="shape")return;const v=parseInt(N.dataTransfer.getData("index"));v!==b&&m(M,v,b)},C=N=>{N.preventDefault()};return J.jsxs("div",{className:Fe.panel,children:[J.jsxs("div",{className:Fe.header,children:[J.jsx("span",{children:"Layers"}),J.jsx("button",{className:Fe.iconButton,onClick:()=>a(),title:"Add Layer",children:J.jsx(b3,{size:16})})]}),J.jsx("div",{className:Fe.layersList,children:[...t].reverse().map((N,M)=>{const b=t.length-1-M,T=N.shapeIds.map(v=>i[v]).filter(Boolean);return J.jsxs("div",{className:`${Fe.layerItem} ${o===N.id?Fe.activeLayer:""}`,draggable:!0,onDragStart:v=>P(v,"layer",N.id,b),onDrop:v=>x(v,b),onDragOver:C,onClick:()=>f(N.id),children:[J.jsxs("div",{className:Fe.layerHeader,children:[J.jsx("button",{className:Fe.iconButton,onClick:v=>{v.stopPropagation(),d(N.id,{visible:!N.visible})},title:N.visible?"Hide":"Show",children:N.visible?J.jsx($1,{size:14}):J.jsx(Z1,{size:14})}),J.jsx("button",{className:Fe.iconButton,onClick:v=>{v.stopPropagation(),d(N.id,{locked:!N.locked})},title:N.locked?"Unlock":"Lock",children:N.locked?J.jsx(F3,{size:14}):J.jsx(A3,{size:14})}),J.jsx("span",{className:Fe.layerName,children:N.name}),J.jsx("button",{className:Fe.iconButton,onClick:v=>{v.stopPropagation(),u(N.id)},disabled:t.length<=1,title:"Delete Layer",children:J.jsx(G3,{size:14})})]}),J.jsx("div",{className:Fe.shapesList,children:[...T].reverse().map((v,L)=>{const D=T.length-1-L,j=_.includes(v.id);return J.jsxs("div",{className:`${Fe.shapeItem} ${j?Fe.selectedShape:""}`,draggable:!0,onDragStart:H=>P(H,"shape",v.id,D),onDrop:H=>w(H,N.id,D),onDragOver:C,onClick:H=>{if(H.stopPropagation(),H.shiftKey||H.metaKey||H.ctrlKey){const I=j?_.filter(z=>z!==v.id):[..._,v.id];k(I)}else k([v.id])},children:[J.jsx("div",{className:Fe.shapePreview,style:{backgroundColor:"fill"in v?v.fill:"transparent",borderColor:"stroke"in v?v.stroke:"transparent"}}),J.jsx("span",{className:Fe.shapeName,children:v.name}),J.jsx("button",{className:Fe.iconButton,onClick:H=>{H.stopPropagation(),Vr.getState().updateShape(v.id,{visible:!v.visible})},title:v.visible?"Hide":"Show",children:v.visible?J.jsx($1,{size:12}):J.jsx(Z1,{size:12})})]},v.id)})})]},N.id)})})]})}const j5="_panel_1rhup_1",B5="_header_1rhup_9",G5="_status_1rhup_20",V5="_connected_1rhup_24",H5="_disconnected_1rhup_28",W5="_loading_1rhup_32",Y5="_content_1rhup_46",q5="_error_1rhup_50",X5="_roomInfo_1rhup_69",K5="_label_1rhup_79",Q5="_roomId_1rhup_86",J5="_copyButtons_1rhup_93",Z5="_copyButton_1rhup_93",$5="_collaborators_1rhup_124",e8="_userList_1rhup_133",t8="_user_1rhup_133",n8="_userAvatar_1rhup_147",r8="_joinSection_1rhup_159",i8="_inputWrapper_1rhup_165",s8="_input_1rhup_165",o8="_extractedHint_1rhup_190",l8="_joinButton_1rhup_200",a8="_createButton_1rhup_201",u8="_leaveButton_1rhup_202",c8="_divider_1rhup_257",dt={panel:j5,header:B5,status:G5,connected:V5,disconnected:H5,loading:W5,content:Y5,error:q5,roomInfo:X5,label:K5,roomId:Q5,copyButtons:J5,copyButton:Z5,collaborators:$5,userList:e8,user:t8,userAvatar:n8,joinSection:r8,inputWrapper:i8,input:s8,extractedHint:o8,joinButton:l8,createButton:a8,leaveButton:u8,divider:c8};function nm(i){const t=i.trim();try{const d=new URL(t).searchParams.get("room");if(d)return d}catch{}const o=t.match(/[?&]room=([^&]+)/);return o?o[1]:t}function d8({roomId:i,onJoinRoom:t,onCreateRoom:o,onLeaveRoom:a,error:d,isLoading:u}){const{isConnected:f,cursors:p,userName:m}=op(),[_,k]=we.useState(""),[P,x]=we.useState(!1),[w,C]=we.useState(!1),[N,M]=we.useState(null),b=Object.keys(p).length+1;we.useEffect(()=>{if(_.trim()){const I=nm(_);M(I!==_.trim()?I:null)}else M(null)},[_]);const T=()=>{const I=nm(_);I&&t(I)},v=()=>{const I=`room-${Date.now().toString(36)}`;o(I)},L=()=>{i&&(navigator.clipboard.writeText(i),x(!0),setTimeout(()=>x(!1),2e3))},D=()=>{if(i){const I=`${window.location.origin}?room=${i}`;navigator.clipboard.writeText(I),C(!0),setTimeout(()=>C(!1),2e3)}},j=I=>{k(I.target.value)},H=I=>{I.key==="Enter"&&_.trim()&&!u&&T()};return J.jsxs("div",{className:dt.panel,children:[J.jsxs("div",{className:dt.header,children:[J.jsx(W3,{size:16}),J.jsx("span",{children:"Collaboration"}),J.jsx("div",{className:dt.status,children:u?J.jsx(em,{size:14,className:dt.loading}):f?J.jsx(q3,{size:14,className:dt.connected}):J.jsx(Y3,{size:14,className:dt.disconnected})})]}),i&&f?J.jsxs("div",{className:dt.content,children:[J.jsxs("div",{className:dt.roomInfo,children:[J.jsx("span",{className:dt.label,children:"Room ID:"}),J.jsx("span",{className:dt.roomId,children:i})]}),J.jsxs("div",{className:dt.copyButtons,children:[J.jsxs("button",{className:dt.copyButton,onClick:L,title:"Copy room ID",children:[P?J.jsx(Q1,{size:14}):J.jsx(M3,{size:14}),J.jsx("span",{children:"Copy ID"})]}),J.jsxs("button",{className:dt.copyButton,onClick:D,title:"Copy invite link",children:[w?J.jsx(Q1,{size:14}):J.jsx(I3,{size:14}),J.jsx("span",{children:"Copy Link"})]})]}),J.jsxs("div",{className:dt.collaborators,children:[J.jsxs("span",{className:dt.label,children:[b," collaborator",b!==1?"s":""]}),J.jsxs("div",{className:dt.userList,children:[J.jsxs("div",{className:dt.user,children:[J.jsx("div",{className:dt.userAvatar,style:{backgroundColor:"#4a9eff"},children:m[0].toUpperCase()}),J.jsxs("span",{children:[m," (you)"]})]}),Object.values(p).map(I=>J.jsxs("div",{className:dt.user,children:[J.jsx("div",{className:dt.userAvatar,style:{backgroundColor:I.color},children:I.name[0].toUpperCase()}),J.jsx("span",{children:I.name})]},I.id))]})]}),J.jsx("button",{className:dt.leaveButton,onClick:a,children:"Leave Room"})]}):J.jsxs("div",{className:dt.content,children:[d&&J.jsxs("div",{className:dt.error,children:[J.jsx(T3,{size:14}),J.jsx("span",{children:d})]}),J.jsxs("div",{className:dt.joinSection,children:[J.jsxs("div",{className:dt.inputWrapper,children:[J.jsx("input",{type:"text",placeholder:"Enter room ID or paste invite link",value:_,onChange:j,onKeyDown:H,className:dt.input,disabled:u}),N&&J.jsxs("div",{className:dt.extractedHint,children:["Will join: ",J.jsx("strong",{children:N})]})]}),J.jsx("button",{className:dt.joinButton,onClick:T,disabled:!_.trim()||u,children:u?J.jsx(em,{size:14,className:dt.loading}):"Join"})]}),J.jsx("div",{className:dt.divider,children:J.jsx("span",{children:"or"})}),J.jsx("button",{className:dt.createButton,onClick:v,disabled:u,children:"Create New Room"})]})]})}function h8(){const{shapes:i,layers:t}=Vr(),{selectedIds:o,select:a,selectMultiple:d,selectAll:u,clearSelection:f,toggleSelection:p,isSelected:m}=tu(),_=we.useCallback(()=>o.map(w=>i[w]).filter(w=>w!==void 0),[o,i]),k=we.useCallback(()=>{const w=[];return t.forEach(C=>{C.visible&&!C.locked&&C.shapeIds.forEach(N=>{const M=i[N];M&&M.visible&&!M.locked&&w.push(N)})}),w},[t,i]),P=we.useCallback(()=>{const w=k();u(w)},[k,u]),x=we.useCallback(w=>{const C=[];return Object.values(i).forEach(N=>{const M=t.find(I=>I.id===N.layerId);if(!(M!=null&&M.visible)||M.locked||!N.visible||N.locked)return;let b=0,T=0,v=N.x,L=N.y;if("width"in N&&"height"in N)b=N.width,T=N.height;else if("radiusX"in N&&"radiusY"in N)b=N.radiusX*2,T=N.radiusY*2,v=N.x-N.radiusX,L=N.y-N.radiusY;else if("points"in N&&N.points.length>=4){const I=N.points.filter((ne,$)=>$%2===0),z=N.points.filter((ne,$)=>$%2===1),B=Math.min(...I),q=Math.max(...I),K=Math.min(...z),ee=Math.max(...z);v=N.x+B,L=N.y+K,b=q-B,T=ee-K}const D={left:v,right:v+b,top:L,bottom:L+T},j={left:w.x,right:w.x+w.width,top:w.y,bottom:w.y+w.height};D.left<j.right&&D.right>j.left&&D.top<j.bottom&&D.bottom>j.top&&C.push(N.id)}),C},[i,t]);return{selectedIds:o,selectedShapes:_(),select:a,selectMultiple:d,selectAll:P,clearSelection:f,toggleSelection:p,isSelected:m,getShapesInBounds:x,getAllShapeIds:k}}function f8(){const{setTool:i}=nu(),{deleteShapes:t,duplicateShapes:o,viewport:a,zoomTo:d,fitToScreen:u}=Vr(),{selectedIds:f,clearSelection:p,selectMultiple:m}=tu(),{undo:_,redo:k}=Wm(),{selectAll:P}=h8(),x=we.useCallback(w=>{if(w.target instanceof HTMLInputElement||w.target instanceof HTMLTextAreaElement)return;const C=w.ctrlKey||w.metaKey;if(!C&&!w.shiftKey)switch(w.key.toLowerCase()){case"v":i("select");break;case"h":i("pan");break;case"r":i("rectangle");break;case"o":i("circle");break;case"l":i("line");break;case"t":i("text");break;case"i":i("image");break;case"escape":p(),i("select");break;case"delete":case"backspace":f.length>0&&(t(f),p());break}if(C)switch(w.key.toLowerCase()){case"z":w.preventDefault(),w.shiftKey?k():_();break;case"y":w.preventDefault(),k();break;case"a":w.preventDefault(),P();break;case"d":if(w.preventDefault(),f.length>0){const N=o(f);m(N)}break;case"0":w.preventDefault(),d(1);break;case"1":w.preventDefault(),u(window.innerWidth-560,window.innerHeight-48);break;case"=":case"+":w.preventDefault(),d(a.scale*1.25);break;case"-":w.preventDefault(),d(a.scale/1.25);break}},[i,p,f,t,_,k,P,o,m,a,d,u]);we.useEffect(()=>(window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)),[x])}const Ir=()=>new Map,B0=i=>{const t=Ir();return i.forEach((o,a)=>{t.set(a,o)}),t},ts=(i,t,o)=>{let a=i.get(t);return a===void 0&&i.set(t,a=o()),a},p8=(i,t)=>{const o=[];for(const[a,d]of i)o.push(t(d,a));return o},g8=(i,t)=>{for(const[o,a]of i)if(t(a,o))return!0;return!1},Uo=()=>new Set,P0=i=>i[i.length-1],m8=(i,t)=>{for(let o=0;o<t.length;o++)i.push(t[o])},Us=Array.from,lp=(i,t)=>{for(let o=0;o<i.length;o++)if(!t(i[o],o,i))return!1;return!0},Ym=(i,t)=>{for(let o=0;o<i.length;o++)if(t(i[o],o,i))return!0;return!1},y8=(i,t)=>{const o=new Array(i);for(let a=0;a<i;a++)o[a]=t(a,o);return o},of=Array.isArray;class qm{constructor(){this._observers=Ir()}on(t,o){return ts(this._observers,t,Uo).add(o),o}once(t,o){const a=(...d)=>{this.off(t,a),o(...d)};this.on(t,a)}off(t,o){const a=this._observers.get(t);a!==void 0&&(a.delete(o),a.size===0&&this._observers.delete(t))}emit(t,o){return Us((this._observers.get(t)||Ir()).values()).forEach(a=>a(...o))}destroy(){this._observers=Ir()}}class v8{constructor(){this._observers=Ir()}on(t,o){ts(this._observers,t,Uo).add(o)}once(t,o){const a=(...d)=>{this.off(t,a),o(...d)};this.on(t,a)}off(t,o){const a=this._observers.get(t);a!==void 0&&(a.delete(o),a.size===0&&this._observers.delete(t))}emit(t,o){return Us((this._observers.get(t)||Ir()).values()).forEach(a=>a(...o))}destroy(){this._observers=Ir()}}const Ni=Math.floor,zh=Math.abs,ap=(i,t)=>i<t?i:t,Il=(i,t)=>i>t?i:t,_8=Math.pow,Xm=i=>i!==0?i<0:1/i<0,rm=1,im=2,N0=4,T0=8,$c=32,zs=64,Gr=128,lf=31,G0=63,Nl=127,S8=2147483647,Bh=Number.MAX_SAFE_INTEGER,sm=Number.MIN_SAFE_INTEGER,w8=Number.isInteger||(i=>typeof i=="number"&&isFinite(i)&&Ni(i)===i),Km=String.fromCharCode,k8=i=>i.toLowerCase(),x8=/^\s*/g,C8=i=>i.replace(x8,""),E8=/([A-Z])/g,om=(i,t)=>C8(i.replace(E8,o=>`${t}${k8(o)}`)),P8=i=>{const t=unescape(encodeURIComponent(i)),o=t.length,a=new Uint8Array(o);for(let d=0;d<o;d++)a[d]=t.codePointAt(d);return a},ed=typeof TextEncoder<"u"?new TextEncoder:null,N8=i=>ed.encode(i),T8=ed?N8:P8;let Qc=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Qc&&Qc.decode(new Uint8Array).length===1&&(Qc=null);const R8=(i,t)=>y8(t,()=>i).join("");class cd{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const rr=()=>new cd,up=i=>{let t=i.cpos;for(let o=0;o<i.bufs.length;o++)t+=i.bufs[o].length;return t},bt=i=>{const t=new Uint8Array(up(i));let o=0;for(let a=0;a<i.bufs.length;a++){const d=i.bufs[a];t.set(d,o),o+=d.length}return t.set(new Uint8Array(i.cbuf.buffer,0,i.cpos),o),t},L8=(i,t)=>{const o=i.cbuf.length;o-i.cpos<t&&(i.bufs.push(new Uint8Array(i.cbuf.buffer,0,i.cpos)),i.cbuf=new Uint8Array(Il(o,t)*2),i.cpos=0)},Dn=(i,t)=>{const o=i.cbuf.length;i.cpos===o&&(i.bufs.push(i.cbuf),i.cbuf=new Uint8Array(o*2),i.cpos=0),i.cbuf[i.cpos++]=t},V0=Dn,Ue=(i,t)=>{for(;t>Nl;)Dn(i,Gr|Nl&t),t=Ni(t/128);Dn(i,Nl&t)},cp=(i,t)=>{const o=Xm(t);for(o&&(t=-t),Dn(i,(t>G0?Gr:0)|(o?zs:0)|G0&t),t=Ni(t/64);t>0;)Dn(i,(t>Nl?Gr:0)|Nl&t),t=Ni(t/128)},H0=new Uint8Array(3e4),M8=H0.length/3,D8=(i,t)=>{if(t.length<M8){const o=ed.encodeInto(t,H0).written||0;Ue(i,o);for(let a=0;a<o;a++)Dn(i,H0[a])}else tn(i,T8(t))},I8=(i,t)=>{const o=unescape(encodeURIComponent(t)),a=o.length;Ue(i,a);for(let d=0;d<a;d++)Dn(i,o.codePointAt(d))},Tl=ed&&ed.encodeInto?D8:I8,af=(i,t)=>{const o=i.cbuf.length,a=i.cpos,d=ap(o-a,t.length),u=t.length-d;i.cbuf.set(t.subarray(0,d),a),i.cpos+=d,u>0&&(i.bufs.push(i.cbuf),i.cbuf=new Uint8Array(Il(o*2,u)),i.cbuf.set(t.subarray(d)),i.cpos=u)},tn=(i,t)=>{Ue(i,t.byteLength),af(i,t)},dp=(i,t)=>{L8(i,t);const o=new DataView(i.cbuf.buffer,i.cpos,t);return i.cpos+=t,o},A8=(i,t)=>dp(i,4).setFloat32(0,t,!1),F8=(i,t)=>dp(i,8).setFloat64(0,t,!1),O8=(i,t)=>dp(i,8).setBigInt64(0,t,!1),lm=new DataView(new ArrayBuffer(4)),z8=i=>(lm.setFloat32(0,i),lm.getFloat32(0)===i),td=(i,t)=>{switch(typeof t){case"string":Dn(i,119),Tl(i,t);break;case"number":w8(t)&&zh(t)<=S8?(Dn(i,125),cp(i,t)):z8(t)?(Dn(i,124),A8(i,t)):(Dn(i,123),F8(i,t));break;case"bigint":Dn(i,122),O8(i,t);break;case"object":if(t===null)Dn(i,126);else if(of(t)){Dn(i,117),Ue(i,t.length);for(let o=0;o<t.length;o++)td(i,t[o])}else if(t instanceof Uint8Array)Dn(i,116),tn(i,t);else{Dn(i,118);const o=Object.keys(t);Ue(i,o.length);for(let a=0;a<o.length;a++){const d=o[a];Tl(i,d),td(i,t[d])}}break;case"boolean":Dn(i,t?120:121);break;default:Dn(i,127)}};class am extends cd{constructor(t){super(),this.w=t,this.s=null,this.count=0}write(t){this.s===t?this.count++:(this.count>0&&Ue(this,this.count-1),this.count=1,this.w(this,t),this.s=t)}}const um=i=>{i.count>0&&(cp(i.encoder,i.count===1?i.s:-i.s),i.count>1&&Ue(i.encoder,i.count-2))};class Uh{constructor(){this.encoder=new cd,this.s=0,this.count=0}write(t){this.s===t?this.count++:(um(this),this.count=1,this.s=t)}toUint8Array(){return um(this),bt(this.encoder)}}const cm=i=>{if(i.count>0){const t=i.diff*2+(i.count===1?0:1);cp(i.encoder,t),i.count>1&&Ue(i.encoder,i.count-2)}};class R0{constructor(){this.encoder=new cd,this.s=0,this.count=0,this.diff=0}write(t){this.diff===t-this.s?(this.s=t,this.count++):(cm(this),this.count=1,this.diff=t-this.s,this.s=t)}toUint8Array(){return cm(this),bt(this.encoder)}}class U8{constructor(){this.sarr=[],this.s="",this.lensE=new Uh}write(t){this.s+=t,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(t.length)}toUint8Array(){const t=new cd;return this.sarr.push(this.s),this.s="",Tl(t,this.sarr.join("")),af(t,this.lensE.toUint8Array()),bt(t)}}const Zi=i=>new Error(i),Pi=()=>{throw Zi("Method unimplemented")},ai=()=>{throw Zi("Unexpected case")},Qm=Zi("Unexpected end of array"),Jm=Zi("Integer out of Range");class uf{constructor(t){this.arr=t,this.pos=0}}const Go=i=>new uf(i),b8=i=>i.pos!==i.arr.length,j8=(i,t)=>{const o=new Uint8Array(i.arr.buffer,i.pos+i.arr.byteOffset,t);return i.pos+=t,o},nr=i=>j8(i,qe(i)),Xa=i=>i.arr[i.pos++],qe=i=>{let t=0,o=1;const a=i.arr.length;for(;i.pos<a;){const d=i.arr[i.pos++];if(t=t+(d&Nl)*o,o*=128,d<Gr)return t;if(t>Bh)throw Jm}throw Qm},hp=i=>{let t=i.arr[i.pos++],o=t&G0,a=64;const d=(t&zs)>0?-1:1;if((t&Gr)===0)return d*o;const u=i.arr.length;for(;i.pos<u;){if(t=i.arr[i.pos++],o=o+(t&Nl)*a,a*=128,t<Gr)return d*o;if(o>Bh)throw Jm}throw Qm},B8=i=>{let t=qe(i);if(t===0)return"";{let o=String.fromCodePoint(Xa(i));if(--t<100)for(;t--;)o+=String.fromCodePoint(Xa(i));else for(;t>0;){const a=t<1e4?t:1e4,d=i.arr.subarray(i.pos,i.pos+a);i.pos+=a,o+=String.fromCodePoint.apply(null,d),t-=a}return decodeURIComponent(escape(o))}},G8=i=>Qc.decode(nr(i)),zo=Qc?G8:B8,fp=(i,t)=>{const o=new DataView(i.arr.buffer,i.arr.byteOffset+i.pos,t);return i.pos+=t,o},V8=i=>fp(i,4).getFloat32(0,!1),H8=i=>fp(i,8).getFloat64(0,!1),W8=i=>fp(i,8).getBigInt64(0,!1),Y8=[i=>{},i=>null,hp,V8,H8,W8,i=>!1,i=>!0,zo,i=>{const t=qe(i),o={};for(let a=0;a<t;a++){const d=zo(i);o[d]=nd(i)}return o},i=>{const t=qe(i),o=[];for(let a=0;a<t;a++)o.push(nd(i));return o},nr],nd=i=>Y8[127-Xa(i)](i);class dm extends uf{constructor(t,o){super(t),this.reader=o,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),b8(this)?this.count=qe(this)+1:this.count=-1),this.count--,this.s}}class bh extends uf{constructor(t){super(t),this.s=0,this.count=0}read(){if(this.count===0){this.s=hp(this);const t=Xm(this.s);this.count=1,t&&(this.s=-this.s,this.count=qe(this)+2)}return this.count--,this.s}}class L0 extends uf{constructor(t){super(t),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const t=hp(this),o=t&1;this.diff=Ni(t/2),this.count=1,o&&(this.count=qe(this)+2)}return this.s+=this.diff,this.count--,this.s}}class q8{constructor(t){this.decoder=new bh(t),this.str=zo(this.decoder),this.spos=0}read(){const t=this.spos+this.decoder.read(),o=this.str.slice(this.spos,t);return this.spos=t,o}}const X8=crypto.getRandomValues.bind(crypto),Zm=()=>X8(new Uint32Array(1))[0],K8="10000000-1000-4000-8000"+-1e11,Q8=()=>K8.replace(/[018]/g,i=>(i^Zm()&15>>i/4).toString(16)),Rl=Date.now,hm=i=>new Promise(i);Promise.all.bind(Promise);const fm=i=>i===void 0?null:i;class J8{constructor(){this.map=new Map}setItem(t,o){this.map.set(t,o)}getItem(t){return this.map.get(t)}}let $m=new J8,pp=!0;try{typeof localStorage<"u"&&localStorage&&($m=localStorage,pp=!1)}catch{}const e2=$m,Z8=i=>pp||addEventListener("storage",i),$8=i=>pp||removeEventListener("storage",i),rd=Symbol("Equality"),t2=(i,t)=>{var o;return i===t||!!((o=i==null?void 0:i[rd])!=null&&o.call(i,t))||!1},e6=i=>typeof i=="object",t6=Object.assign,n6=Object.keys,r6=(i,t)=>{for(const o in i)t(i[o],o)},i6=(i,t)=>{const o=[];for(const a in i)o.push(t(i[a],a));return o},Gh=i=>n6(i).length,s6=i=>{for(const t in i)return!1;return!0},dd=(i,t)=>{for(const o in i)if(!t(i[o],o))return!1;return!0},gp=(i,t)=>Object.prototype.hasOwnProperty.call(i,t),o6=(i,t)=>i===t||Gh(i)===Gh(t)&&dd(i,(o,a)=>(o!==void 0||gp(t,a))&&t2(t[a],o)),l6=Object.freeze,n2=i=>{for(const t in i){const o=i[t];(typeof o=="object"||typeof o=="function")&&n2(i[t])}return l6(i)},mp=(i,t,o=0)=>{try{for(;o<i.length;o++)i[o](...t)}finally{o<i.length&&mp(i,t,o+1)}},a6=i=>i,Va=(i,t)=>{if(i===t)return!0;if(i==null||t==null||i.constructor!==t.constructor&&(i.constructor||Object)!==(t.constructor||Object))return!1;if(i[rd]!=null)return i[rd](t);switch(i.constructor){case ArrayBuffer:i=new Uint8Array(i),t=new Uint8Array(t);case Uint8Array:{if(i.byteLength!==t.byteLength)return!1;for(let o=0;o<i.length;o++)if(i[o]!==t[o])return!1;break}case Set:{if(i.size!==t.size)return!1;for(const o of i)if(!t.has(o))return!1;break}case Map:{if(i.size!==t.size)return!1;for(const o of i.keys())if(!t.has(o)||!Va(i.get(o),t.get(o)))return!1;break}case void 0:case Object:if(Gh(i)!==Gh(t))return!1;for(const o in i)if(!gp(i,o)||!Va(i[o],t[o]))return!1;break;case Array:if(i.length!==t.length)return!1;for(let o=0;o<i.length;o++)if(!Va(i[o],t[o]))return!1;break;default:return!1}return!0},u6=(i,t)=>t.includes(i);var r2={};const bo=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",i2=typeof window<"u"&&typeof document<"u"&&!bo;let Ji;const c6=()=>{if(Ji===void 0)if(bo){Ji=Ir();const i=process.argv;let t=null;for(let o=0;o<i.length;o++){const a=i[o];a[0]==="-"?(t!==null&&Ji.set(t,""),t=a):t!==null&&(Ji.set(t,a),t=null)}t!==null&&Ji.set(t,"")}else typeof location=="object"?(Ji=Ir(),(location.search||"?").slice(1).split("&").forEach(i=>{if(i.length!==0){const[t,o]=i.split("=");Ji.set(`--${om(t,"-")}`,o),Ji.set(`-${om(t,"-")}`,o)}})):Ji=Ir();return Ji},W0=i=>c6().has(i),Vh=i=>fm(bo?r2[i.toUpperCase().replaceAll("-","_")]:e2.getItem(i)),s2=i=>W0("--"+i)||Vh(i)!==null,d6=s2("production"),h6=bo&&u6(r2.FORCE_COLOR,["true","1","2"]),f6=h6||!W0("--no-colors")&&!s2("no-color")&&(!bo||process.stdout.isTTY)&&(!bo||W0("--color")||Vh("COLORTERM")!==null||(Vh("TERM")||"").includes("color")),o2=i=>new Uint8Array(i),p6=(i,t,o)=>new Uint8Array(i,t,o),g6=i=>new Uint8Array(i),m6=i=>{let t="";for(let o=0;o<i.byteLength;o++)t+=Km(i[o]);return btoa(t)},y6=i=>Buffer.from(i.buffer,i.byteOffset,i.byteLength).toString("base64"),v6=i=>{const t=atob(i),o=o2(t.length);for(let a=0;a<t.length;a++)o[a]=t.charCodeAt(a);return o},_6=i=>{const t=Buffer.from(i,"base64");return p6(t.buffer,t.byteOffset,t.byteLength)},S6=i2?m6:y6,w6=i2?v6:_6,k6=i=>{const t=o2(i.byteLength);return t.set(i),t};class x6{constructor(t,o){this.left=t,this.right=o}}const Os=(i,t)=>new x6(i,t),pm=i=>i.next()>=.5,M0=(i,t,o)=>Ni(i.next()*(o+1-t)+t),l2=(i,t,o)=>Ni(i.next()*(o+1-t)+t),yp=(i,t,o)=>l2(i,t,o),C6=i=>Km(yp(i,97,122)),E6=(i,t=0,o=20)=>{const a=yp(i,t,o);let d="";for(let u=0;u<a;u++)d+=C6(i);return d},D0=(i,t)=>t[yp(i,0,t.length-1)],P6=Symbol("0schema");class N6{constructor(){this._rerrs=[]}extend(t,o,a,d=null){this._rerrs.push({path:t,expected:o,has:a,message:d})}toString(){const t=[];for(let o=this._rerrs.length-1;o>0;o--){const a=this._rerrs[o];t.push(R8(" ",(this._rerrs.length-o)*2)+`${a.path!=null?`[${a.path}] `:""}${a.has} doesn't match ${a.expected}. ${a.message}`)}return t.join(`
`)}}const Y0=(i,t)=>i===t?!0:i==null||t==null||i.constructor!==t.constructor?!1:i[rd]?t2(i,t):of(i)?lp(i,o=>Ym(t,a=>Y0(o,a))):e6(i)?dd(i,(o,a)=>Y0(o,t[a])):!1;class sr{extends(t){let[o,a]=[this.shape,t.shape];return this.constructor._dilutes&&([a,o]=[o,a]),Y0(o,a)}equals(t){return this.constructor===t.constructor&&Va(this.shape,t.shape)}[P6](){return!0}[rd](t){return this.equals(t)}validate(t){return this.check(t)}check(t,o){Pi()}get nullable(){return ru(this,pf)}get optional(){return new c2(this)}cast(t){return gm(t,this),t}expect(t){return gm(t,this),t}}Th(sr,"_dilutes",!1);class vp extends sr{constructor(t,o){super(),this.shape=t,this._c=o}check(t,o=void 0){const a=(t==null?void 0:t.constructor)===this.shape&&(this._c==null||this._c(t));return!a&&(o==null||o.extend(null,this.shape.name,t==null?void 0:t.constructor.name,(t==null?void 0:t.constructor)!==this.shape?"Constructor match failed":"Check failed")),a}}const cn=(i,t=null)=>new vp(i,t);cn(vp);class _p extends sr{constructor(t){super(),this.shape=t}check(t,o){const a=this.shape(t);return!a&&(o==null||o.extend(null,"custom prop",t==null?void 0:t.constructor.name,"failed to check custom prop")),a}}const Fn=i=>new _p(i);cn(_p);class cf extends sr{constructor(t){super(),this.shape=t}check(t,o){const a=this.shape.some(d=>d===t);return!a&&(o==null||o.extend(null,this.shape.join(" | "),t.toString())),a}}const df=(...i)=>new cf(i),a2=cn(cf),T6=RegExp.escape||(i=>i.replace(/[().|&,$^[\]]/g,t=>"\\"+t)),u2=i=>{if(Ka.check(i))return[T6(i)];if(a2.check(i))return i.shape.map(t=>t+"");if(_2.check(i))return["[+-]?\\d+.?\\d*"];if(S2.check(i))return[".*"];if(Wh.check(i))return i.shape.map(u2).flat(1);ai()};class R6 extends sr{constructor(t){super(),this.shape=t,this._r=new RegExp("^"+t.map(u2).map(o=>`(${o.join("|")})`).join("")+"$")}check(t,o){const a=this._r.exec(t)!=null;return!a&&(o==null||o.extend(null,this._r.toString(),t.toString(),"String doesn't match string template.")),a}}cn(R6);const L6=Symbol("optional");class c2 extends sr{constructor(t){super(),this.shape=t}check(t,o){const a=t===void 0||this.shape.check(t);return!a&&(o==null||o.extend(null,"undefined (optional)","()")),a}get[L6](){return!0}}const M6=cn(c2);class D6 extends sr{check(t,o){return o==null||o.extend(null,"never",typeof t),!1}}cn(D6);const tf=class tf extends sr{constructor(t,o=!1){super(),this.shape=t,this._isPartial=o}get partial(){return new tf(this.shape,!0)}check(t,o){return t==null?(o==null||o.extend(null,"object","null"),!1):dd(this.shape,(a,d)=>{const u=this._isPartial&&!gp(t,d)||a.check(t[d],o);return!u&&(o==null||o.extend(d.toString(),a.toString(),typeof t[d],"Object property does not match")),u})}};Th(tf,"_dilutes",!0);let Hh=tf;const I6=i=>new Hh(i),A6=cn(Hh),F6=Fn(i=>i!=null&&(i.constructor===Object||i.constructor==null));class d2 extends sr{constructor(t,o){super(),this.shape={keys:t,values:o}}check(t,o){return t!=null&&dd(t,(a,d)=>{const u=this.shape.keys.check(d,o);return!u&&(o==null||o.extend(d+"","Record",typeof t,u?"Key doesn't match schema":"Value doesn't match value")),u&&this.shape.values.check(a,o)})}}const h2=(i,t)=>new d2(i,t),O6=cn(d2);class f2 extends sr{constructor(t){super(),this.shape=t}check(t,o){return t!=null&&dd(this.shape,(a,d)=>{const u=a.check(t[d],o);return!u&&(o==null||o.extend(d.toString(),"Tuple",typeof a)),u})}}const z6=(...i)=>new f2(i);cn(f2);class p2 extends sr{constructor(t){super(),this.shape=t.length===1?t[0]:new hf(t)}check(t,o){const a=of(t)&&lp(t,d=>this.shape.check(d));return!a&&(o==null||o.extend(null,"Array","")),a}}const g2=(...i)=>new p2(i),U6=cn(p2),b6=Fn(i=>of(i));class m2 extends sr{constructor(t,o){super(),this.shape=t,this._c=o}check(t,o){const a=t instanceof this.shape&&(this._c==null||this._c(t));return!a&&(o==null||o.extend(null,this.shape.name,t==null?void 0:t.constructor.name)),a}}const j6=(i,t=null)=>new m2(i,t);cn(m2);const B6=j6(sr);class G6 extends sr{constructor(t){super(),this.len=t.length-1,this.args=z6(...t.slice(-1)),this.res=t[this.len]}check(t,o){const a=t.constructor===Function&&t.length<=this.len;return!a&&(o==null||o.extend(null,"function",typeof t)),a}}const V6=cn(G6),H6=Fn(i=>typeof i=="function");class W6 extends sr{constructor(t){super(),this.shape=t}check(t,o){const a=lp(this.shape,d=>d.check(t,o));return!a&&(o==null||o.extend(null,"Intersectinon",typeof t)),a}}cn(W6,i=>i.shape.length>0);class hf extends sr{constructor(t){super(),this.shape=t}check(t,o){const a=Ym(this.shape,d=>d.check(t,o));return o==null||o.extend(null,"Union",typeof t),a}}Th(hf,"_dilutes",!0);const ru=(...i)=>i.findIndex(t=>Wh.check(t))>=0?ru(...i.map(t=>id(t)).map(t=>Wh.check(t)?t.shape:[t]).flat(1)):i.length===1?i[0]:new hf(i),Wh=cn(hf),y2=()=>!0,Yh=Fn(y2),Y6=cn(_p,i=>i.shape===y2),Sp=Fn(i=>typeof i=="bigint"),q6=Fn(i=>i===Sp),v2=Fn(i=>typeof i=="symbol");Fn(i=>i===v2);const Ha=Fn(i=>typeof i=="number"),_2=Fn(i=>i===Ha),Ka=Fn(i=>typeof i=="string"),S2=Fn(i=>i===Ka),ff=Fn(i=>typeof i=="boolean"),X6=Fn(i=>i===ff),w2=df(void 0);cn(cf,i=>i.shape.length===1&&i.shape[0]===void 0);df(void 0);const pf=df(null),K6=cn(cf,i=>i.shape.length===1&&i.shape[0]===null);cn(Uint8Array);cn(vp,i=>i.shape===Uint8Array);const Q6=ru(Ha,Ka,pf,w2,Sp,ff,v2);(()=>{const i=g2(Yh),t=h2(Ka,Yh),o=ru(Ha,Ka,pf,ff,i,t);return i.shape=o,t.shape.values=o,o})();const id=i=>{if(B6.check(i))return i;if(F6.check(i)){const t={};for(const o in i)t[o]=id(i[o]);return I6(t)}else{if(b6.check(i))return ru(...i.map(id));if(Q6.check(i))return df(i);if(H6.check(i))return cn(i)}ai()},gm=d6?()=>{}:(i,t)=>{const o=new N6;if(!t.check(i,o))throw Zi(`Expected value to be of type ${t.constructor.name}.
${o.toString()}`)};class J6{constructor(t){this.patterns=[],this.$state=t}if(t,o){return this.patterns.push({if:id(t),h:o}),this}else(t){return this.if(Yh,t)}done(){return(t,o)=>{for(let a=0;a<this.patterns.length;a++){const d=this.patterns[a];if(d.if.check(t))return d.h(t,o)}throw Zi("Unhandled pattern")}}}const Z6=i=>new J6(i),k2=Z6(Yh).if(_2,(i,t)=>M0(t,sm,Bh)).if(S2,(i,t)=>E6(t)).if(X6,(i,t)=>pm(t)).if(q6,(i,t)=>BigInt(M0(t,sm,Bh))).if(Wh,(i,t)=>ba(t,D0(t,i.shape))).if(A6,(i,t)=>{const o={};for(const a in i.shape){let d=i.shape[a];if(M6.check(d)){if(pm(t))continue;d=d.shape}o[a]=k2(d,t)}return o}).if(U6,(i,t)=>{const o=[],a=l2(t,0,42);for(let d=0;d<a;d++)o.push(ba(t,i.shape));return o}).if(a2,(i,t)=>D0(t,i.shape)).if(K6,(i,t)=>null).if(V6,(i,t)=>{const o=ba(t,i.res);return()=>o}).if(Y6,(i,t)=>ba(t,D0(t,[Ha,Ka,pf,w2,Sp,ff,g2(Ha),h2(ru("a","b","c"),Ha)]))).if(O6,(i,t)=>{const o={},a=M0(t,0,3);for(let d=0;d<a;d++){const u=ba(t,i.shape.keys),f=ba(t,i.shape.values);o[u]=f}return o}).done(),ba=(i,t)=>k2(id(t),i),gf=typeof document<"u"?document:{};Fn(i=>i.nodeType===r_);typeof DOMParser<"u"&&new DOMParser;Fn(i=>i.nodeType===e_);Fn(i=>i.nodeType===t_);const $6=i=>p8(i,(t,o)=>`${o}:${t};`).join(""),e_=gf.ELEMENT_NODE,t_=gf.TEXT_NODE,n_=gf.DOCUMENT_NODE,r_=gf.DOCUMENT_FRAGMENT_NODE;Fn(i=>i.nodeType===n_);const bs=Symbol,x2=bs(),C2=bs(),i_=bs(),s_=bs(),o_=bs(),E2=bs(),l_=bs(),wp=bs(),a_=bs(),u_=i=>{var d;i.length===1&&((d=i[0])==null?void 0:d.constructor)===Function&&(i=i[0]());const t=[],o=[];let a=0;for(;a<i.length;a++){const u=i[a];if(u===void 0)break;if(u.constructor===String||u.constructor===Number)t.push(u);else if(u.constructor===Object)break}for(a>0&&o.push(t.join(""));a<i.length;a++){const u=i[a];u instanceof Symbol||o.push(u)}return o},c_={[x2]:Os("font-weight","bold"),[C2]:Os("font-weight","normal"),[i_]:Os("color","blue"),[o_]:Os("color","green"),[s_]:Os("color","grey"),[E2]:Os("color","red"),[l_]:Os("color","purple"),[wp]:Os("color","orange"),[a_]:Os("color","black")},d_=i=>{var f;i.length===1&&((f=i[0])==null?void 0:f.constructor)===Function&&(i=i[0]());const t=[],o=[],a=Ir();let d=[],u=0;for(;u<i.length;u++){const p=i[u],m=c_[p];if(m!==void 0)a.set(m.left,m.right);else{if(p===void 0)break;if(p.constructor===String||p.constructor===Number){const _=$6(a);u>0||_.length>0?(t.push("%c"+p),o.push(_)):t.push(p)}else break}}for(u>0&&(d=o,d.unshift(t.join("")));u<i.length;u++){const p=i[u];p instanceof Symbol||d.push(p)}return d},P2=f6?d_:u_,h_=(...i)=>{console.log(...P2(i)),N2.forEach(t=>t.print(i))},f_=(...i)=>{console.warn(...P2(i)),i.unshift(wp),N2.forEach(t=>t.print(i))},N2=Uo(),T2=i=>({[Symbol.iterator](){return this},next:i}),p_=(i,t)=>T2(()=>{let o;do o=i.next();while(!o.done&&!t(o.value));return o}),I0=(i,t)=>T2(()=>{const{done:o,value:a}=i.next();return{done:o,value:o?void 0:t(a)}});class kp{constructor(t,o){this.clock=t,this.len=o}}class hd{constructor(){this.clients=new Map}}const R2=(i,t,o)=>t.clients.forEach((a,d)=>{const u=i.doc.store.clients.get(d);if(u!=null){const f=u[u.length-1],p=f.id.clock+f.length;for(let m=0,_=a[m];m<a.length&&_.clock<p;_=a[++m])G2(i,u,_.clock,_.len,o)}}),g_=(i,t)=>{let o=0,a=i.length-1;for(;o<=a;){const d=Ni((o+a)/2),u=i[d],f=u.clock;if(f<=t){if(t<f+u.len)return d;o=d+1}else a=d-1}return null},L2=(i,t)=>{const o=i.clients.get(t.client);return o!==void 0&&g_(o,t.clock)!==null},xp=i=>{i.clients.forEach(t=>{t.sort((d,u)=>d.clock-u.clock);let o,a;for(o=1,a=1;o<t.length;o++){const d=t[a-1],u=t[o];d.clock+d.len>=u.clock?d.len=Il(d.len,u.clock+u.len-d.clock):(a<o&&(t[a]=u),a++)}t.length=a})},m_=i=>{const t=new hd;for(let o=0;o<i.length;o++)i[o].clients.forEach((a,d)=>{if(!t.clients.has(d)){const u=a.slice();for(let f=o+1;f<i.length;f++)m8(u,i[f].clients.get(d)||[]);t.clients.set(d,u)}});return xp(t),t},qh=(i,t,o,a)=>{ts(i.clients,t,()=>[]).push(new kp(o,a))},y_=()=>new hd,v_=i=>{const t=y_();return i.clients.forEach((o,a)=>{const d=[];for(let u=0;u<o.length;u++){const f=o[u];if(f.deleted){const p=f.id.clock;let m=f.length;if(u+1<o.length)for(let _=o[u+1];u+1<o.length&&_.deleted;_=o[++u+1])m+=_.length;d.push(new kp(p,m))}}d.length>0&&t.clients.set(a,d)}),t},iu=(i,t)=>{Ue(i.restEncoder,t.clients.size),Us(t.clients.entries()).sort((o,a)=>a[0]-o[0]).forEach(([o,a])=>{i.resetDsCurVal(),Ue(i.restEncoder,o);const d=a.length;Ue(i.restEncoder,d);for(let u=0;u<d;u++){const f=a[u];i.writeDsClock(f.clock),i.writeDsLen(f.len)}})},Cp=i=>{const t=new hd,o=qe(i.restDecoder);for(let a=0;a<o;a++){i.resetDsCurVal();const d=qe(i.restDecoder),u=qe(i.restDecoder);if(u>0){const f=ts(t.clients,d,()=>[]);for(let p=0;p<u;p++)f.push(new kp(i.readDsClock(),i.readDsLen()))}}return t},mm=(i,t,o)=>{const a=new hd,d=qe(i.restDecoder);for(let u=0;u<d;u++){i.resetDsCurVal();const f=qe(i.restDecoder),p=qe(i.restDecoder),m=o.clients.get(f)||[],_=In(o,f);for(let k=0;k<p;k++){const P=i.readDsClock(),x=P+i.readDsLen();if(P<_){_<x&&qh(a,f,_,x-_);let w=$i(m,P),C=m[w];for(!C.deleted&&C.id.clock<P&&(m.splice(w+1,0,ef(t,C,P-C.id.clock)),w++);w<m.length&&(C=m[w++],C.id.clock<x);)C.deleted||(x<C.id.clock+C.length&&m.splice(w,0,ef(t,C,x-C.id.clock)),C.delete(t))}else qh(a,f,P,x-P)}}if(a.clients.size>0){const u=new Ll;return Ue(u.restEncoder,0),iu(u,a),u.toUint8Array()}return null},M2=Zm;class su extends qm{constructor({guid:t=Q8(),collectionid:o=null,gc:a=!0,gcFilter:d=()=>!0,meta:u=null,autoLoad:f=!1,shouldLoad:p=!0}={}){super(),this.gc=a,this.gcFilter=d,this.clientID=M2(),this.guid=t,this.collectionid=o,this.share=new Map,this.store=new j2,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=p,this.autoLoad=f,this.meta=u,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=hm(_=>{this.on("load",()=>{this.isLoaded=!0,_(this)})});const m=()=>hm(_=>{const k=P=>{(P===void 0||P===!0)&&(this.off("sync",k),_())};this.on("sync",k)});this.on("sync",_=>{_===!1&&this.isSynced&&(this.whenSynced=m()),this.isSynced=_===void 0||_===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=m()}load(){const t=this._item;t!==null&&!this.shouldLoad&&Lt(t.parent.doc,o=>{o.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Us(this.subdocs).map(t=>t.guid))}transact(t,o=null){return Lt(this,t,o)}get(t,o=qn){const a=ts(this.share,t,()=>{const u=new o;return u._integrate(this,null),u}),d=a.constructor;if(o!==qn&&d!==o)if(d===qn){const u=new o;u._map=a._map,a._map.forEach(f=>{for(;f!==null;f=f.left)f.parent=u}),u._start=a._start;for(let f=u._start;f!==null;f=f.right)f.parent=u;return u._length=a._length,this.share.set(t,u),u._integrate(this,null),u}else throw new Error(`Type with the name ${t} has already been defined with a different constructor`);return a}getArray(t=""){return this.get(t,Ya)}getText(t=""){return this.get(t,Za)}getMap(t=""){return this.get(t,Ja)}getXmlElement(t=""){return this.get(t,$a)}getXmlFragment(t=""){return this.get(t,Ml)}toJSON(){const t={};return this.share.forEach((o,a)=>{t[a]=o.toJSON()}),t}destroy(){this.isDestroyed=!0,Us(this.subdocs).forEach(o=>o.destroy());const t=this._item;if(t!==null){this._item=null;const o=t.content;o.doc=new su({guid:this.guid,...o.opts,shouldLoad:!1}),o.doc._item=t,Lt(t.parent.doc,a=>{const d=o.doc;t.deleted||a.subdocsAdded.add(d),a.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class D2{constructor(t){this.restDecoder=t}resetDsCurVal(){}readDsClock(){return qe(this.restDecoder)}readDsLen(){return qe(this.restDecoder)}}class I2 extends D2{readLeftID(){return it(qe(this.restDecoder),qe(this.restDecoder))}readRightID(){return it(qe(this.restDecoder),qe(this.restDecoder))}readClient(){return qe(this.restDecoder)}readInfo(){return Xa(this.restDecoder)}readString(){return zo(this.restDecoder)}readParentInfo(){return qe(this.restDecoder)===1}readTypeRef(){return qe(this.restDecoder)}readLen(){return qe(this.restDecoder)}readAny(){return nd(this.restDecoder)}readBuf(){return k6(nr(this.restDecoder))}readJSON(){return JSON.parse(zo(this.restDecoder))}readKey(){return zo(this.restDecoder)}}class __{constructor(t){this.dsCurrVal=0,this.restDecoder=t}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=qe(this.restDecoder),this.dsCurrVal}readDsLen(){const t=qe(this.restDecoder)+1;return this.dsCurrVal+=t,t}}class Qa extends __{constructor(t){super(t),this.keys=[],qe(t),this.keyClockDecoder=new L0(nr(t)),this.clientDecoder=new bh(nr(t)),this.leftClockDecoder=new L0(nr(t)),this.rightClockDecoder=new L0(nr(t)),this.infoDecoder=new dm(nr(t),Xa),this.stringDecoder=new q8(nr(t)),this.parentInfoDecoder=new dm(nr(t),Xa),this.typeRefDecoder=new bh(nr(t)),this.lenDecoder=new bh(nr(t))}readLeftID(){return new Wa(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new Wa(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return nd(this.restDecoder)}readBuf(){return nr(this.restDecoder)}readJSON(){return nd(this.restDecoder)}readKey(){const t=this.keyClockDecoder.read();if(t<this.keys.length)return this.keys[t];{const o=this.stringDecoder.read();return this.keys.push(o),o}}}class A2{constructor(){this.restEncoder=rr()}toUint8Array(){return bt(this.restEncoder)}resetDsCurVal(){}writeDsClock(t){Ue(this.restEncoder,t)}writeDsLen(t){Ue(this.restEncoder,t)}}class fd extends A2{writeLeftID(t){Ue(this.restEncoder,t.client),Ue(this.restEncoder,t.clock)}writeRightID(t){Ue(this.restEncoder,t.client),Ue(this.restEncoder,t.clock)}writeClient(t){Ue(this.restEncoder,t)}writeInfo(t){V0(this.restEncoder,t)}writeString(t){Tl(this.restEncoder,t)}writeParentInfo(t){Ue(this.restEncoder,t?1:0)}writeTypeRef(t){Ue(this.restEncoder,t)}writeLen(t){Ue(this.restEncoder,t)}writeAny(t){td(this.restEncoder,t)}writeBuf(t){tn(this.restEncoder,t)}writeJSON(t){Tl(this.restEncoder,JSON.stringify(t))}writeKey(t){Tl(this.restEncoder,t)}}class F2{constructor(){this.restEncoder=rr(),this.dsCurrVal=0}toUint8Array(){return bt(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(t){const o=t-this.dsCurrVal;this.dsCurrVal=t,Ue(this.restEncoder,o)}writeDsLen(t){t===0&&ai(),Ue(this.restEncoder,t-1),this.dsCurrVal+=t}}class Ll extends F2{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new R0,this.clientEncoder=new Uh,this.leftClockEncoder=new R0,this.rightClockEncoder=new R0,this.infoEncoder=new am(V0),this.stringEncoder=new U8,this.parentInfoEncoder=new am(V0),this.typeRefEncoder=new Uh,this.lenEncoder=new Uh}toUint8Array(){const t=rr();return Ue(t,0),tn(t,this.keyClockEncoder.toUint8Array()),tn(t,this.clientEncoder.toUint8Array()),tn(t,this.leftClockEncoder.toUint8Array()),tn(t,this.rightClockEncoder.toUint8Array()),tn(t,bt(this.infoEncoder)),tn(t,this.stringEncoder.toUint8Array()),tn(t,bt(this.parentInfoEncoder)),tn(t,this.typeRefEncoder.toUint8Array()),tn(t,this.lenEncoder.toUint8Array()),af(t,bt(this.restEncoder)),bt(t)}writeLeftID(t){this.clientEncoder.write(t.client),this.leftClockEncoder.write(t.clock)}writeRightID(t){this.clientEncoder.write(t.client),this.rightClockEncoder.write(t.clock)}writeClient(t){this.clientEncoder.write(t)}writeInfo(t){this.infoEncoder.write(t)}writeString(t){this.stringEncoder.write(t)}writeParentInfo(t){this.parentInfoEncoder.write(t?1:0)}writeTypeRef(t){this.typeRefEncoder.write(t)}writeLen(t){this.lenEncoder.write(t)}writeAny(t){td(this.restEncoder,t)}writeBuf(t){tn(this.restEncoder,t)}writeJSON(t){td(this.restEncoder,t)}writeKey(t){const o=this.keyMap.get(t);o===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(t)):this.keyClockEncoder.write(o)}}const S_=(i,t,o,a)=>{a=Il(a,t[0].id.clock);const d=$i(t,a);Ue(i.restEncoder,t.length-d),i.writeClient(o),Ue(i.restEncoder,a);const u=t[d];u.write(i,a-u.id.clock);for(let f=d+1;f<t.length;f++)t[f].write(i,0)},Ep=(i,t,o)=>{const a=new Map;o.forEach((d,u)=>{In(t,u)>d&&a.set(u,d)}),mf(t).forEach((d,u)=>{o.has(u)||a.set(u,0)}),Ue(i.restEncoder,a.size),Us(a.entries()).sort((d,u)=>u[0]-d[0]).forEach(([d,u])=>{S_(i,t.clients.get(d),d,u)})},w_=(i,t)=>{const o=Ir(),a=qe(i.restDecoder);for(let d=0;d<a;d++){const u=qe(i.restDecoder),f=new Array(u),p=i.readClient();let m=qe(i.restDecoder);o.set(p,{i:0,refs:f});for(let _=0;_<u;_++){const k=i.readInfo();switch(lf&k){case 0:{const P=i.readLen();f[_]=new oi(it(p,m),P),m+=P;break}case 10:{const P=qe(i.restDecoder);f[_]=new li(it(p,m),P),m+=P;break}default:{const P=(k&(zs|Gr))===0,x=new Sn(it(p,m),null,(k&Gr)===Gr?i.readLeftID():null,null,(k&zs)===zs?i.readRightID():null,P?i.readParentInfo()?t.get(i.readString()):i.readLeftID():null,P&&(k&$c)===$c?i.readString():null,ly(i,k));f[_]=x,m+=x.length}}}}return o},k_=(i,t,o)=>{const a=[];let d=Us(o.keys()).sort((w,C)=>w-C);if(d.length===0)return null;const u=()=>{if(d.length===0)return null;let w=o.get(d[d.length-1]);for(;w.refs.length===w.i;)if(d.pop(),d.length>0)w=o.get(d[d.length-1]);else return null;return w};let f=u();if(f===null)return null;const p=new j2,m=new Map,_=(w,C)=>{const N=m.get(w);(N==null||N>C)&&m.set(w,C)};let k=f.refs[f.i++];const P=new Map,x=()=>{for(const w of a){const C=w.id.client,N=o.get(C);N?(N.i--,p.clients.set(C,N.refs.slice(N.i)),o.delete(C),N.i=0,N.refs=[]):p.clients.set(C,[w]),d=d.filter(M=>M!==C)}a.length=0};for(;;){if(k.constructor!==li){const C=ts(P,k.id.client,()=>In(t,k.id.client))-k.id.clock;if(C<0)a.push(k),_(k.id.client,k.id.clock-1),x();else{const N=k.getMissing(i,t);if(N!==null){a.push(k);const M=o.get(N)||{refs:[],i:0};if(M.refs.length===M.i)_(N,In(t,N)),x();else{k=M.refs[M.i++];continue}}else(C===0||C<k.length)&&(k.integrate(i,C),P.set(k.id.client,k.id.clock+k.length))}}if(a.length>0)k=a.pop();else if(f!==null&&f.i<f.refs.length)k=f.refs[f.i++];else{if(f=u(),f===null)break;k=f.refs[f.i++]}}if(p.clients.size>0){const w=new Ll;return Ep(w,p,new Map),Ue(w.restEncoder,0),{missing:m,update:w.toUint8Array()}}return null},x_=(i,t)=>Ep(i,t.doc.store,t.beforeState),C_=(i,t,o,a=new Qa(i))=>Lt(t,d=>{d.local=!1;let u=!1;const f=d.doc,p=f.store,m=w_(a,f),_=k_(d,p,m),k=p.pendingStructs;if(k){for(const[x,w]of k.missing)if(w<In(p,x)){u=!0;break}if(_){for(const[x,w]of _.missing){const C=k.missing.get(x);(C==null||C>w)&&k.missing.set(x,w)}k.update=Xh([k.update,_.update])}}else p.pendingStructs=_;const P=mm(a,d,p);if(p.pendingDs){const x=new Qa(Go(p.pendingDs));qe(x.restDecoder);const w=mm(x,d,p);P&&w?p.pendingDs=Xh([P,w]):p.pendingDs=P||w}else p.pendingDs=P;if(u){const x=p.pendingStructs.update;p.pendingStructs=null,O2(d.doc,x)}},o,!1),O2=(i,t,o,a=Qa)=>{const d=Go(t);C_(d,i,o,new a(d))},E_=(i,t,o)=>O2(i,t,o,I2),P_=(i,t,o=new Map)=>{Ep(i,t.store,o),iu(i,v_(t.store))},N_=(i,t=new Uint8Array([0]),o=new Ll)=>{const a=z2(t);P_(o,i,a);const d=[o.toUint8Array()];if(i.store.pendingDs&&d.push(i.store.pendingDs),i.store.pendingStructs&&d.push(V_(i.store.pendingStructs.update,t)),d.length>1){if(o.constructor===fd)return B_(d.map((u,f)=>f===0?u:W_(u)));if(o.constructor===Ll)return Xh(d)}return d[0]},T_=(i,t)=>N_(i,t,new fd),R_=i=>{const t=new Map,o=qe(i.restDecoder);for(let a=0;a<o;a++){const d=qe(i.restDecoder),u=qe(i.restDecoder);t.set(d,u)}return t},z2=i=>R_(new D2(Go(i))),U2=(i,t)=>(Ue(i.restEncoder,t.size),Us(t.entries()).sort((o,a)=>a[0]-o[0]).forEach(([o,a])=>{Ue(i.restEncoder,o),Ue(i.restEncoder,a)}),i),L_=(i,t)=>U2(i,mf(t.store)),M_=(i,t=new F2)=>(i instanceof Map?U2(t,i):L_(t,i),t.toUint8Array()),D_=i=>M_(i,new A2);class I_{constructor(){this.l=[]}}const ym=()=>new I_,vm=(i,t)=>i.l.push(t),_m=(i,t)=>{const o=i.l,a=o.length;i.l=o.filter(d=>t!==d),a===i.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},b2=(i,t,o)=>mp(i.l,[t,o]);class Wa{constructor(t,o){this.client=t,this.clock=o}}const Mh=(i,t)=>i===t||i!==null&&t!==null&&i.client===t.client&&i.clock===t.clock,it=(i,t)=>new Wa(i,t),A_=i=>{for(const[t,o]of i.doc.share.entries())if(o===i)return t;throw ai()},Ba=(i,t)=>t===void 0?!i.deleted:t.sv.has(i.id.client)&&(t.sv.get(i.id.client)||0)>i.id.clock&&!L2(t.ds,i.id),q0=(i,t)=>{const o=ts(i.meta,q0,Uo),a=i.doc.store;o.has(t)||(t.sv.forEach((d,u)=>{d<In(a,u)&&jo(i,it(u,d))}),R2(i,t.ds,d=>{}),o.add(t))};class j2{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const mf=i=>{const t=new Map;return i.clients.forEach((o,a)=>{const d=o[o.length-1];t.set(a,d.id.clock+d.length)}),t},In=(i,t)=>{const o=i.clients.get(t);if(o===void 0)return 0;const a=o[o.length-1];return a.id.clock+a.length},B2=(i,t)=>{let o=i.clients.get(t.id.client);if(o===void 0)o=[],i.clients.set(t.id.client,o);else{const a=o[o.length-1];if(a.id.clock+a.length!==t.id.clock)throw ai()}o.push(t)},$i=(i,t)=>{let o=0,a=i.length-1,d=i[a],u=d.id.clock;if(u===t)return a;let f=Ni(t/(u+d.length-1)*a);for(;o<=a;){if(d=i[f],u=d.id.clock,u<=t){if(t<u+d.length)return f;o=f+1}else a=f-1;f=Ni((o+a)/2)}throw ai()},F_=(i,t)=>{const o=i.clients.get(t.client);return o[$i(o,t.clock)]},A0=F_,X0=(i,t,o)=>{const a=$i(t,o),d=t[a];return d.id.clock<o&&d instanceof Sn?(t.splice(a+1,0,ef(i,d,o-d.id.clock)),a+1):a},jo=(i,t)=>{const o=i.doc.store.clients.get(t.client);return o[X0(i,o,t.clock)]},Sm=(i,t,o)=>{const a=t.clients.get(o.client),d=$i(a,o.clock),u=a[d];return o.clock!==u.id.clock+u.length-1&&u.constructor!==oi&&a.splice(d+1,0,ef(i,u,o.clock-u.id.clock+1)),u},O_=(i,t,o)=>{const a=i.clients.get(t.id.client);a[$i(a,t.id.clock)]=o},G2=(i,t,o,a,d)=>{if(a===0)return;const u=o+a;let f=X0(i,t,o),p;do p=t[f++],u<p.id.clock+p.length&&X0(i,t,u),d(p);while(f<t.length&&t[f].id.clock<u)};class z_{constructor(t,o,a){this.doc=t,this.deleteSet=new hd,this.beforeState=mf(t.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=o,this.meta=new Map,this.local=a,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const wm=(i,t)=>t.deleteSet.clients.size===0&&!g8(t.afterState,(o,a)=>t.beforeState.get(a)!==o)?!1:(xp(t.deleteSet),x_(i,t),iu(i,t.deleteSet),!0),km=(i,t,o)=>{const a=t._item;(a===null||a.id.clock<(i.beforeState.get(a.id.client)||0)&&!a.deleted)&&ts(i.changed,t,Uo).add(o)},jh=(i,t)=>{let o=i[t],a=i[t-1],d=t;for(;d>0;o=a,a=i[--d-1]){if(a.deleted===o.deleted&&a.constructor===o.constructor&&a.mergeWith(o)){o instanceof Sn&&o.parentSub!==null&&o.parent._map.get(o.parentSub)===o&&o.parent._map.set(o.parentSub,a);continue}break}const u=t-d;return u&&i.splice(t+1-u,u),u},U_=(i,t,o)=>{for(const[a,d]of i.clients.entries()){const u=t.clients.get(a);for(let f=d.length-1;f>=0;f--){const p=d[f],m=p.clock+p.len;for(let _=$i(u,p.clock),k=u[_];_<u.length&&k.id.clock<m;k=u[++_]){const P=u[_];if(p.clock+p.len<=P.id.clock)break;P instanceof Sn&&P.deleted&&!P.keep&&o(P)&&P.gc(t,!1)}}}},b_=(i,t)=>{i.clients.forEach((o,a)=>{const d=t.clients.get(a);for(let u=o.length-1;u>=0;u--){const f=o[u],p=ap(d.length-1,1+$i(d,f.clock+f.len-1));for(let m=p,_=d[m];m>0&&_.id.clock>=f.clock;_=d[m])m-=1+jh(d,m)}})},V2=(i,t)=>{if(t<i.length){const o=i[t],a=o.doc,d=a.store,u=o.deleteSet,f=o._mergeStructs;try{xp(u),o.afterState=mf(o.doc.store),a.emit("beforeObserverCalls",[o,a]);const p=[];o.changed.forEach((m,_)=>p.push(()=>{(_._item===null||!_._item.deleted)&&_._callObserver(o,m)})),p.push(()=>{o.changedParentTypes.forEach((m,_)=>{_._dEH.l.length>0&&(_._item===null||!_._item.deleted)&&(m=m.filter(k=>k.target._item===null||!k.target._item.deleted),m.forEach(k=>{k.currentTarget=_,k._path=null}),m.sort((k,P)=>k.path.length-P.path.length),p.push(()=>{b2(_._dEH,m,o)}))}),p.push(()=>a.emit("afterTransaction",[o,a])),p.push(()=>{o._needFormattingCleanup&&sS(o)})}),mp(p,[])}finally{a.gc&&U_(u,d,a.gcFilter),b_(u,d),o.afterState.forEach((k,P)=>{const x=o.beforeState.get(P)||0;if(x!==k){const w=d.clients.get(P),C=Il($i(w,x),1);for(let N=w.length-1;N>=C;)N-=1+jh(w,N)}});for(let k=f.length-1;k>=0;k--){const{client:P,clock:x}=f[k].id,w=d.clients.get(P),C=$i(w,x);C+1<w.length&&jh(w,C+1)>1||C>0&&jh(w,C)}if(!o.local&&o.afterState.get(a.clientID)!==o.beforeState.get(a.clientID)&&(h_(wp,x2,"[yjs] ",C2,E2,"Changed the client-id because another client seems to be using it."),a.clientID=M2()),a.emit("afterTransactionCleanup",[o,a]),a._observers.has("update")){const k=new fd;wm(k,o)&&a.emit("update",[k.toUint8Array(),o.origin,a,o])}if(a._observers.has("updateV2")){const k=new Ll;wm(k,o)&&a.emit("updateV2",[k.toUint8Array(),o.origin,a,o])}const{subdocsAdded:p,subdocsLoaded:m,subdocsRemoved:_}=o;(p.size>0||_.size>0||m.size>0)&&(p.forEach(k=>{k.clientID=a.clientID,k.collectionid==null&&(k.collectionid=a.collectionid),a.subdocs.add(k)}),_.forEach(k=>a.subdocs.delete(k)),a.emit("subdocs",[{loaded:m,added:p,removed:_},a,o]),_.forEach(k=>k.destroy())),i.length<=t+1?(a._transactionCleanups=[],a.emit("afterAllTransactions",[a,i])):V2(i,t+1)}}},Lt=(i,t,o=null,a=!0)=>{const d=i._transactionCleanups;let u=!1,f=null;i._transaction===null&&(u=!0,i._transaction=new z_(i,o,a),d.push(i._transaction),d.length===1&&i.emit("beforeAllTransactions",[i]),i.emit("beforeTransaction",[i._transaction,i]));try{f=t(i._transaction)}finally{if(u){const p=i._transaction===d[0];i._transaction=null,p&&V2(d,0)}}return f};function*j_(i){const t=qe(i.restDecoder);for(let o=0;o<t;o++){const a=qe(i.restDecoder),d=i.readClient();let u=qe(i.restDecoder);for(let f=0;f<a;f++){const p=i.readInfo();if(p===10){const m=qe(i.restDecoder);yield new li(it(d,u),m),u+=m}else if((lf&p)!==0){const m=(p&(zs|Gr))===0,_=new Sn(it(d,u),null,(p&Gr)===Gr?i.readLeftID():null,null,(p&zs)===zs?i.readRightID():null,m?i.readParentInfo()?i.readString():i.readLeftID():null,m&&(p&$c)===$c?i.readString():null,ly(i,p));yield _,u+=_.length}else{const m=i.readLen();yield new oi(it(d,u),m),u+=m}}}}class Pp{constructor(t,o){this.gen=j_(t),this.curr=null,this.done=!1,this.filterSkips=o,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===li);return this.curr}}class Np{constructor(t){this.currClient=0,this.startClock=0,this.written=0,this.encoder=t,this.clientStructs=[]}}const B_=i=>Xh(i,I2,fd),G_=(i,t)=>{if(i.constructor===oi){const{client:o,clock:a}=i.id;return new oi(it(o,a+t),i.length-t)}else if(i.constructor===li){const{client:o,clock:a}=i.id;return new li(it(o,a+t),i.length-t)}else{const o=i,{client:a,clock:d}=o.id;return new Sn(it(a,d+t),null,it(a,d+t-1),null,o.rightOrigin,o.parent,o.parentSub,o.content.splice(t))}},Xh=(i,t=Qa,o=Ll)=>{if(i.length===1)return i[0];const a=i.map(k=>new t(Go(k)));let d=a.map(k=>new Pp(k,!0)),u=null;const f=new o,p=new Np(f);for(;d=d.filter(x=>x.curr!==null),d.sort((x,w)=>{if(x.curr.id.client===w.curr.id.client){const C=x.curr.id.clock-w.curr.id.clock;return C===0?x.curr.constructor===w.curr.constructor?0:x.curr.constructor===li?1:-1:C}else return w.curr.id.client-x.curr.id.client}),d.length!==0;){const k=d[0],P=k.curr.id.client;if(u!==null){let x=k.curr,w=!1;for(;x!==null&&x.id.clock+x.length<=u.struct.id.clock+u.struct.length&&x.id.client>=u.struct.id.client;)x=k.next(),w=!0;if(x===null||x.id.client!==P||w&&x.id.clock>u.struct.id.clock+u.struct.length)continue;if(P!==u.struct.id.client)Fo(p,u.struct,u.offset),u={struct:x,offset:0},k.next();else if(u.struct.id.clock+u.struct.length<x.id.clock)if(u.struct.constructor===li)u.struct.length=x.id.clock+x.length-u.struct.id.clock;else{Fo(p,u.struct,u.offset);const C=x.id.clock-u.struct.id.clock-u.struct.length;u={struct:new li(it(P,u.struct.id.clock+u.struct.length),C),offset:0}}else{const C=u.struct.id.clock+u.struct.length-x.id.clock;C>0&&(u.struct.constructor===li?u.struct.length-=C:x=G_(x,C)),u.struct.mergeWith(x)||(Fo(p,u.struct,u.offset),u={struct:x,offset:0},k.next())}}else u={struct:k.curr,offset:0},k.next();for(let x=k.curr;x!==null&&x.id.client===P&&x.id.clock===u.struct.id.clock+u.struct.length&&x.constructor!==li;x=k.next())Fo(p,u.struct,u.offset),u={struct:x,offset:0}}u!==null&&(Fo(p,u.struct,u.offset),u=null),Tp(p);const m=a.map(k=>Cp(k)),_=m_(m);return iu(f,_),f.toUint8Array()},V_=(i,t,o=Qa,a=Ll)=>{const d=z2(t),u=new a,f=new Np(u),p=new o(Go(i)),m=new Pp(p,!1);for(;m.curr;){const k=m.curr,P=k.id.client,x=d.get(P)||0;if(m.curr.constructor===li){m.next();continue}if(k.id.clock+k.length>x)for(Fo(f,k,Il(x-k.id.clock,0)),m.next();m.curr&&m.curr.id.client===P;)Fo(f,m.curr,0),m.next();else for(;m.curr&&m.curr.id.client===P&&m.curr.id.clock+m.curr.length<=x;)m.next()}Tp(f);const _=Cp(p);return iu(u,_),u.toUint8Array()},H2=i=>{i.written>0&&(i.clientStructs.push({written:i.written,restEncoder:bt(i.encoder.restEncoder)}),i.encoder.restEncoder=rr(),i.written=0)},Fo=(i,t,o)=>{i.written>0&&i.currClient!==t.id.client&&H2(i),i.written===0&&(i.currClient=t.id.client,i.encoder.writeClient(t.id.client),Ue(i.encoder.restEncoder,t.id.clock+o)),t.write(i.encoder,o),i.written++},Tp=i=>{H2(i);const t=i.encoder.restEncoder;Ue(t,i.clientStructs.length);for(let o=0;o<i.clientStructs.length;o++){const a=i.clientStructs[o];Ue(t,a.written),af(t,a.restEncoder)}},H_=(i,t,o,a)=>{const d=new o(Go(i)),u=new Pp(d,!1),f=new a,p=new Np(f);for(let _=u.curr;_!==null;_=u.next())Fo(p,t(_),0);Tp(p);const m=Cp(d);return iu(f,m),f.toUint8Array()},W_=i=>H_(i,a6,Qa,fd),xm="You must not compute changes after the event-handler fired.";class yf{constructor(t,o){this.target=t,this.currentTarget=t,this.transaction=o,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=Y_(this.currentTarget,this.target))}deletes(t){return L2(this.transaction.deleteSet,t.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw Zi(xm);const t=new Map,o=this.target;this.transaction.changed.get(o).forEach(d=>{if(d!==null){const u=o._map.get(d);let f,p;if(this.adds(u)){let m=u.left;for(;m!==null&&this.adds(m);)m=m.left;if(this.deletes(u))if(m!==null&&this.deletes(m))f="delete",p=P0(m.content.getContent());else return;else m!==null&&this.deletes(m)?(f="update",p=P0(m.content.getContent())):(f="add",p=void 0)}else if(this.deletes(u))f="delete",p=P0(u.content.getContent());else return;t.set(d,{action:f,oldValue:p})}}),this._keys=t}return this._keys}get delta(){return this.changes.delta}adds(t){return t.id.clock>=(this.transaction.beforeState.get(t.id.client)||0)}get changes(){let t=this._changes;if(t===null){if(this.transaction.doc._transactionCleanups.length===0)throw Zi(xm);const o=this.target,a=Uo(),d=Uo(),u=[];if(t={added:a,deleted:d,delta:u,keys:this.keys},this.transaction.changed.get(o).has(null)){let p=null;const m=()=>{p&&u.push(p)};for(let _=o._start;_!==null;_=_.right)_.deleted?this.deletes(_)&&!this.adds(_)&&((p===null||p.delete===void 0)&&(m(),p={delete:0}),p.delete+=_.length,d.add(_)):this.adds(_)?((p===null||p.insert===void 0)&&(m(),p={insert:[]}),p.insert=p.insert.concat(_.content.getContent()),a.add(_)):((p===null||p.retain===void 0)&&(m(),p={retain:0}),p.retain+=_.length);p!==null&&p.retain===void 0&&m()}this._changes=t}return t}}const Y_=(i,t)=>{const o=[];for(;t._item!==null&&t!==i;){if(t._item.parentSub!==null)o.unshift(t._item.parentSub);else{let a=0,d=t._item.parent._start;for(;d!==t._item&&d!==null;)!d.deleted&&d.countable&&(a+=d.length),d=d.right;o.unshift(a)}t=t._item.parent}return o},ir=()=>{f_("Invalid access: Add Yjs type to a document before reading data.")},W2=80;let Rp=0;class q_{constructor(t,o){t.marker=!0,this.p=t,this.index=o,this.timestamp=Rp++}}const X_=i=>{i.timestamp=Rp++},Y2=(i,t,o)=>{i.p.marker=!1,i.p=t,t.marker=!0,i.index=o,i.timestamp=Rp++},K_=(i,t,o)=>{if(i.length>=W2){const a=i.reduce((d,u)=>d.timestamp<u.timestamp?d:u);return Y2(a,t,o),a}else{const a=new q_(t,o);return i.push(a),a}},vf=(i,t)=>{if(i._start===null||t===0||i._searchMarker===null)return null;const o=i._searchMarker.length===0?null:i._searchMarker.reduce((u,f)=>zh(t-u.index)<zh(t-f.index)?u:f);let a=i._start,d=0;for(o!==null&&(a=o.p,d=o.index,X_(o));a.right!==null&&d<t;){if(!a.deleted&&a.countable){if(t<d+a.length)break;d+=a.length}a=a.right}for(;a.left!==null&&d>t;)a=a.left,!a.deleted&&a.countable&&(d-=a.length);for(;a.left!==null&&a.left.id.client===a.id.client&&a.left.id.clock+a.left.length===a.id.clock;)a=a.left,!a.deleted&&a.countable&&(d-=a.length);return o!==null&&zh(o.index-d)<a.parent.length/W2?(Y2(o,a,d),o):K_(i._searchMarker,a,d)},sd=(i,t,o)=>{for(let a=i.length-1;a>=0;a--){const d=i[a];if(o>0){let u=d.p;for(u.marker=!1;u&&(u.deleted||!u.countable);)u=u.left,u&&!u.deleted&&u.countable&&(d.index-=u.length);if(u===null||u.marker===!0){i.splice(a,1);continue}d.p=u,u.marker=!0}(t<d.index||o>0&&t===d.index)&&(d.index=Il(t,d.index+o))}},_f=(i,t,o)=>{const a=i,d=t.changedParentTypes;for(;ts(d,i,()=>[]).push(o),i._item!==null;)i=i._item.parent;b2(a._eH,o,t)};class qn{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=ym(),this._dEH=ym(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(t,o){this.doc=t,this._item=o}_copy(){throw Pi()}clone(){throw Pi()}_write(t){}get _first(){let t=this._start;for(;t!==null&&t.deleted;)t=t.right;return t}_callObserver(t,o){!t.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(t){vm(this._eH,t)}observeDeep(t){vm(this._dEH,t)}unobserve(t){_m(this._eH,t)}unobserveDeep(t){_m(this._dEH,t)}toJSON(){}}const q2=(i,t,o)=>{i.doc??ir(),t<0&&(t=i._length+t),o<0&&(o=i._length+o);let a=o-t;const d=[];let u=i._start;for(;u!==null&&a>0;){if(u.countable&&!u.deleted){const f=u.content.getContent();if(f.length<=t)t-=f.length;else{for(let p=t;p<f.length&&a>0;p++)d.push(f[p]),a--;t=0}}u=u.right}return d},X2=i=>{i.doc??ir();const t=[];let o=i._start;for(;o!==null;){if(o.countable&&!o.deleted){const a=o.content.getContent();for(let d=0;d<a.length;d++)t.push(a[d])}o=o.right}return t},od=(i,t)=>{let o=0,a=i._start;for(i.doc??ir();a!==null;){if(a.countable&&!a.deleted){const d=a.content.getContent();for(let u=0;u<d.length;u++)t(d[u],o++,i)}a=a.right}},K2=(i,t)=>{const o=[];return od(i,(a,d)=>{o.push(t(a,d,i))}),o},Q_=i=>{let t=i._start,o=null,a=0;return{[Symbol.iterator](){return this},next:()=>{if(o===null){for(;t!==null&&t.deleted;)t=t.right;if(t===null)return{done:!0,value:void 0};o=t.content.getContent(),a=0,t=t.right}const d=o[a++];return o.length<=a&&(o=null),{done:!1,value:d}}}},Q2=(i,t)=>{i.doc??ir();const o=vf(i,t);let a=i._start;for(o!==null&&(a=o.p,t-=o.index);a!==null;a=a.right)if(!a.deleted&&a.countable){if(t<a.length)return a.content.getContent()[t];t-=a.length}},Kh=(i,t,o,a)=>{let d=o;const u=i.doc,f=u.clientID,p=u.store,m=o===null?t._start:o.right;let _=[];const k=()=>{_.length>0&&(d=new Sn(it(f,In(p,f)),d,d&&d.lastId,m,m&&m.id,t,null,new Dl(_)),d.integrate(i,0),_=[])};a.forEach(P=>{if(P===null)_.push(P);else switch(P.constructor){case Number:case Object:case Boolean:case Array:case String:_.push(P);break;default:switch(k(),P.constructor){case Uint8Array:case ArrayBuffer:d=new Sn(it(f,In(p,f)),d,d&&d.lastId,m,m&&m.id,t,null,new pd(new Uint8Array(P))),d.integrate(i,0);break;case su:d=new Sn(it(f,In(p,f)),d,d&&d.lastId,m,m&&m.id,t,null,new gd(P)),d.integrate(i,0);break;default:if(P instanceof qn)d=new Sn(it(f,In(p,f)),d,d&&d.lastId,m,m&&m.id,t,null,new js(P)),d.integrate(i,0);else throw new Error("Unexpected content type in insert operation")}}}),k()},J2=()=>Zi("Length exceeded!"),Z2=(i,t,o,a)=>{if(o>t._length)throw J2();if(o===0)return t._searchMarker&&sd(t._searchMarker,o,a.length),Kh(i,t,null,a);const d=o,u=vf(t,o);let f=t._start;for(u!==null&&(f=u.p,o-=u.index,o===0&&(f=f.prev,o+=f&&f.countable&&!f.deleted?f.length:0));f!==null;f=f.right)if(!f.deleted&&f.countable){if(o<=f.length){o<f.length&&jo(i,it(f.id.client,f.id.clock+o));break}o-=f.length}return t._searchMarker&&sd(t._searchMarker,d,a.length),Kh(i,t,f,a)},J_=(i,t,o)=>{let d=(t._searchMarker||[]).reduce((u,f)=>f.index>u.index?f:u,{index:0,p:t._start}).p;if(d)for(;d.right;)d=d.right;return Kh(i,t,d,o)},$2=(i,t,o,a)=>{if(a===0)return;const d=o,u=a,f=vf(t,o);let p=t._start;for(f!==null&&(p=f.p,o-=f.index);p!==null&&o>0;p=p.right)!p.deleted&&p.countable&&(o<p.length&&jo(i,it(p.id.client,p.id.clock+o)),o-=p.length);for(;a>0&&p!==null;)p.deleted||(a<p.length&&jo(i,it(p.id.client,p.id.clock+a)),p.delete(i),a-=p.length),p=p.right;if(a>0)throw J2();t._searchMarker&&sd(t._searchMarker,d,-u+a)},Qh=(i,t,o)=>{const a=t._map.get(o);a!==void 0&&a.delete(i)},Lp=(i,t,o,a)=>{const d=t._map.get(o)||null,u=i.doc,f=u.clientID;let p;if(a==null)p=new Dl([a]);else switch(a.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:p=new Dl([a]);break;case Uint8Array:p=new pd(a);break;case su:p=new gd(a);break;default:if(a instanceof qn)p=new js(a);else throw new Error("Unexpected content type")}new Sn(it(f,In(u.store,f)),d,d&&d.lastId,null,null,t,o,p).integrate(i,0)},Mp=(i,t)=>{i.doc??ir();const o=i._map.get(t);return o!==void 0&&!o.deleted?o.content.getContent()[o.length-1]:void 0},ey=i=>{const t={};return i.doc??ir(),i._map.forEach((o,a)=>{o.deleted||(t[a]=o.content.getContent()[o.length-1])}),t},ty=(i,t)=>{i.doc??ir();const o=i._map.get(t);return o!==void 0&&!o.deleted},Z_=(i,t)=>{const o={};return i._map.forEach((a,d)=>{let u=a;for(;u!==null&&(!t.sv.has(u.id.client)||u.id.clock>=(t.sv.get(u.id.client)||0));)u=u.left;u!==null&&Ba(u,t)&&(o[d]=u.content.getContent()[u.length-1])}),o},Dh=i=>(i.doc??ir(),p_(i._map.entries(),t=>!t[1].deleted));class $_ extends yf{}class Ya extends qn{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(t){const o=new Ya;return o.push(t),o}_integrate(t,o){super._integrate(t,o),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Ya}clone(){const t=new Ya;return t.insert(0,this.toArray().map(o=>o instanceof qn?o.clone():o)),t}get length(){return this.doc??ir(),this._length}_callObserver(t,o){super._callObserver(t,o),_f(this,t,new $_(this,t))}insert(t,o){this.doc!==null?Lt(this.doc,a=>{Z2(a,this,t,o)}):this._prelimContent.splice(t,0,...o)}push(t){this.doc!==null?Lt(this.doc,o=>{J_(o,this,t)}):this._prelimContent.push(...t)}unshift(t){this.insert(0,t)}delete(t,o=1){this.doc!==null?Lt(this.doc,a=>{$2(a,this,t,o)}):this._prelimContent.splice(t,o)}get(t){return Q2(this,t)}toArray(){return X2(this)}slice(t=0,o=this.length){return q2(this,t,o)}toJSON(){return this.map(t=>t instanceof qn?t.toJSON():t)}map(t){return K2(this,t)}forEach(t){od(this,t)}[Symbol.iterator](){return Q_(this)}_write(t){t.writeTypeRef(CS)}}const eS=i=>new Ya;class tS extends yf{constructor(t,o,a){super(t,o),this.keysChanged=a}}class Ja extends qn{constructor(t){super(),this._prelimContent=null,t===void 0?this._prelimContent=new Map:this._prelimContent=new Map(t)}_integrate(t,o){super._integrate(t,o),this._prelimContent.forEach((a,d)=>{this.set(d,a)}),this._prelimContent=null}_copy(){return new Ja}clone(){const t=new Ja;return this.forEach((o,a)=>{t.set(a,o instanceof qn?o.clone():o)}),t}_callObserver(t,o){_f(this,t,new tS(this,t,o))}toJSON(){this.doc??ir();const t={};return this._map.forEach((o,a)=>{if(!o.deleted){const d=o.content.getContent()[o.length-1];t[a]=d instanceof qn?d.toJSON():d}}),t}get size(){return[...Dh(this)].length}keys(){return I0(Dh(this),t=>t[0])}values(){return I0(Dh(this),t=>t[1].content.getContent()[t[1].length-1])}entries(){return I0(Dh(this),t=>[t[0],t[1].content.getContent()[t[1].length-1]])}forEach(t){this.doc??ir(),this._map.forEach((o,a)=>{o.deleted||t(o.content.getContent()[o.length-1],a,this)})}[Symbol.iterator](){return this.entries()}delete(t){this.doc!==null?Lt(this.doc,o=>{Qh(o,this,t)}):this._prelimContent.delete(t)}set(t,o){return this.doc!==null?Lt(this.doc,a=>{Lp(a,this,t,o)}):this._prelimContent.set(t,o),o}get(t){return Mp(this,t)}has(t){return ty(this,t)}clear(){this.doc!==null?Lt(this.doc,t=>{this.forEach(function(o,a,d){Qh(t,d,a)})}):this._prelimContent.clear()}_write(t){t.writeTypeRef(ES)}}const nS=i=>new Ja,Oo=(i,t)=>i===t||typeof i=="object"&&typeof t=="object"&&i&&t&&o6(i,t);class K0{constructor(t,o,a,d){this.left=t,this.right=o,this.index=a,this.currentAttributes=d}forward(){switch(this.right===null&&ai(),this.right.content.constructor){case wn:this.right.deleted||ou(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const Cm=(i,t,o)=>{for(;t.right!==null&&o>0;){switch(t.right.content.constructor){case wn:t.right.deleted||ou(t.currentAttributes,t.right.content);break;default:t.right.deleted||(o<t.right.length&&jo(i,it(t.right.id.client,t.right.id.clock+o)),t.index+=t.right.length,o-=t.right.length);break}t.left=t.right,t.right=t.right.right}return t},Ih=(i,t,o,a)=>{const d=new Map,u=a?vf(t,o):null;if(u){const f=new K0(u.p.left,u.p,u.index,d);return Cm(i,f,o-u.index)}else{const f=new K0(null,t._start,0,d);return Cm(i,f,o)}},ny=(i,t,o,a)=>{for(;o.right!==null&&(o.right.deleted===!0||o.right.content.constructor===wn&&Oo(a.get(o.right.content.key),o.right.content.value));)o.right.deleted||a.delete(o.right.content.key),o.forward();const d=i.doc,u=d.clientID;a.forEach((f,p)=>{const m=o.left,_=o.right,k=new Sn(it(u,In(d.store,u)),m,m&&m.lastId,_,_&&_.id,t,null,new wn(p,f));k.integrate(i,0),o.right=k,o.forward()})},ou=(i,t)=>{const{key:o,value:a}=t;a===null?i.delete(o):i.set(o,a)},ry=(i,t)=>{for(;i.right!==null;){if(!(i.right.deleted||i.right.content.constructor===wn&&Oo(t[i.right.content.key]??null,i.right.content.value)))break;i.forward()}},iy=(i,t,o,a)=>{const d=i.doc,u=d.clientID,f=new Map;for(const p in a){const m=a[p],_=o.currentAttributes.get(p)??null;if(!Oo(_,m)){f.set(p,_);const{left:k,right:P}=o;o.right=new Sn(it(u,In(d.store,u)),k,k&&k.lastId,P,P&&P.id,t,null,new wn(p,m)),o.right.integrate(i,0),o.forward()}}return f},F0=(i,t,o,a,d)=>{o.currentAttributes.forEach((x,w)=>{d[w]===void 0&&(d[w]=null)});const u=i.doc,f=u.clientID;ry(o,d);const p=iy(i,t,o,d),m=a.constructor===String?new es(a):a instanceof qn?new js(a):new Al(a);let{left:_,right:k,index:P}=o;t._searchMarker&&sd(t._searchMarker,o.index,m.getLength()),k=new Sn(it(f,In(u.store,f)),_,_&&_.lastId,k,k&&k.id,t,null,m),k.integrate(i,0),o.right=k,o.index=P,o.forward(),ny(i,t,o,p)},Em=(i,t,o,a,d)=>{const u=i.doc,f=u.clientID;ry(o,d);const p=iy(i,t,o,d);e:for(;o.right!==null&&(a>0||p.size>0&&(o.right.deleted||o.right.content.constructor===wn));){if(!o.right.deleted)switch(o.right.content.constructor){case wn:{const{key:m,value:_}=o.right.content,k=d[m];if(k!==void 0){if(Oo(k,_))p.delete(m);else{if(a===0)break e;p.set(m,_)}o.right.delete(i)}else o.currentAttributes.set(m,_);break}default:a<o.right.length&&jo(i,it(o.right.id.client,o.right.id.clock+a)),a-=o.right.length;break}o.forward()}if(a>0){let m="";for(;a>0;a--)m+=`
`;o.right=new Sn(it(f,In(u.store,f)),o.left,o.left&&o.left.lastId,o.right,o.right&&o.right.id,t,null,new es(m)),o.right.integrate(i,0),o.forward()}ny(i,t,o,p)},sy=(i,t,o,a,d)=>{let u=t;const f=Ir();for(;u&&(!u.countable||u.deleted);){if(!u.deleted&&u.content.constructor===wn){const _=u.content;f.set(_.key,_)}u=u.right}let p=0,m=!1;for(;t!==u;){if(o===t&&(m=!0),!t.deleted){const _=t.content;switch(_.constructor){case wn:{const{key:k,value:P}=_,x=a.get(k)??null;(f.get(k)!==_||x===P)&&(t.delete(i),p++,!m&&(d.get(k)??null)===P&&x!==P&&(x===null?d.delete(k):d.set(k,x))),!m&&!t.deleted&&ou(d,_);break}}}t=t.right}return p},rS=(i,t)=>{for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;const o=new Set;for(;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===wn){const a=t.content.key;o.has(a)?t.delete(i):o.add(a)}t=t.left}},iS=i=>{let t=0;return Lt(i.doc,o=>{let a=i._start,d=i._start,u=Ir();const f=B0(u);for(;d;){if(d.deleted===!1)switch(d.content.constructor){case wn:ou(f,d.content);break;default:t+=sy(o,a,d,u,f),u=B0(f),a=d;break}d=d.right}}),t},sS=i=>{const t=new Set,o=i.doc;for(const[a,d]of i.afterState.entries()){const u=i.beforeState.get(a)||0;d!==u&&G2(i,o.store.clients.get(a),u,d,f=>{!f.deleted&&f.content.constructor===wn&&f.constructor!==oi&&t.add(f.parent)})}Lt(o,a=>{R2(i,i.deleteSet,d=>{if(d instanceof oi||!d.parent._hasFormatting||t.has(d.parent))return;const u=d.parent;d.content.constructor===wn?t.add(u):rS(a,d)});for(const d of t)iS(d)})},Pm=(i,t,o)=>{const a=o,d=B0(t.currentAttributes),u=t.right;for(;o>0&&t.right!==null;){if(t.right.deleted===!1)switch(t.right.content.constructor){case js:case Al:case es:o<t.right.length&&jo(i,it(t.right.id.client,t.right.id.clock+o)),o-=t.right.length,t.right.delete(i);break}t.forward()}u&&sy(i,u,t.right,d,t.currentAttributes);const f=(t.left||t.right).parent;return f._searchMarker&&sd(f._searchMarker,t.index,-a+o),t};class oS extends yf{constructor(t,o,a){super(t,o),this.childListChanged=!1,this.keysChanged=new Set,a.forEach(d=>{d===null?this.childListChanged=!0:this.keysChanged.add(d)})}get changes(){if(this._changes===null){const t={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=t}return this._changes}get delta(){if(this._delta===null){const t=this.target.doc,o=[];Lt(t,a=>{const d=new Map,u=new Map;let f=this.target._start,p=null;const m={};let _="",k=0,P=0;const x=()=>{if(p!==null){let w=null;switch(p){case"delete":P>0&&(w={delete:P}),P=0;break;case"insert":(typeof _=="object"||_.length>0)&&(w={insert:_},d.size>0&&(w.attributes={},d.forEach((C,N)=>{C!==null&&(w.attributes[N]=C)}))),_="";break;case"retain":k>0&&(w={retain:k},s6(m)||(w.attributes=t6({},m))),k=0;break}w&&o.push(w),p=null}};for(;f!==null;){switch(f.content.constructor){case js:case Al:this.adds(f)?this.deletes(f)||(x(),p="insert",_=f.content.getContent()[0],x()):this.deletes(f)?(p!=="delete"&&(x(),p="delete"),P+=1):f.deleted||(p!=="retain"&&(x(),p="retain"),k+=1);break;case es:this.adds(f)?this.deletes(f)||(p!=="insert"&&(x(),p="insert"),_+=f.content.str):this.deletes(f)?(p!=="delete"&&(x(),p="delete"),P+=f.length):f.deleted||(p!=="retain"&&(x(),p="retain"),k+=f.length);break;case wn:{const{key:w,value:C}=f.content;if(this.adds(f)){if(!this.deletes(f)){const N=d.get(w)??null;Oo(N,C)?C!==null&&f.delete(a):(p==="retain"&&x(),Oo(C,u.get(w)??null)?delete m[w]:m[w]=C)}}else if(this.deletes(f)){u.set(w,C);const N=d.get(w)??null;Oo(N,C)||(p==="retain"&&x(),m[w]=N)}else if(!f.deleted){u.set(w,C);const N=m[w];N!==void 0&&(Oo(N,C)?N!==null&&f.delete(a):(p==="retain"&&x(),C===null?delete m[w]:m[w]=C))}f.deleted||(p==="insert"&&x(),ou(d,f.content));break}}f=f.right}for(x();o.length>0;){const w=o[o.length-1];if(w.retain!==void 0&&w.attributes===void 0)o.pop();else break}}),this._delta=o}return this._delta}}class Za extends qn{constructor(t){super(),this._pending=t!==void 0?[()=>this.insert(0,t)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??ir(),this._length}_integrate(t,o){super._integrate(t,o);try{this._pending.forEach(a=>a())}catch(a){console.error(a)}this._pending=null}_copy(){return new Za}clone(){const t=new Za;return t.applyDelta(this.toDelta()),t}_callObserver(t,o){super._callObserver(t,o);const a=new oS(this,t,o);_f(this,t,a),!t.local&&this._hasFormatting&&(t._needFormattingCleanup=!0)}toString(){this.doc??ir();let t="",o=this._start;for(;o!==null;)!o.deleted&&o.countable&&o.content.constructor===es&&(t+=o.content.str),o=o.right;return t}toJSON(){return this.toString()}applyDelta(t,{sanitize:o=!0}={}){this.doc!==null?Lt(this.doc,a=>{const d=new K0(null,this._start,0,new Map);for(let u=0;u<t.length;u++){const f=t[u];if(f.insert!==void 0){const p=!o&&typeof f.insert=="string"&&u===t.length-1&&d.right===null&&f.insert.slice(-1)===`
`?f.insert.slice(0,-1):f.insert;(typeof p!="string"||p.length>0)&&F0(a,this,d,p,f.attributes||{})}else f.retain!==void 0?Em(a,this,d,f.retain,f.attributes||{}):f.delete!==void 0&&Pm(a,d,f.delete)}}):this._pending.push(()=>this.applyDelta(t))}toDelta(t,o,a){this.doc??ir();const d=[],u=new Map,f=this.doc;let p="",m=this._start;function _(){if(p.length>0){const P={};let x=!1;u.forEach((C,N)=>{x=!0,P[N]=C});const w={insert:p};x&&(w.attributes=P),d.push(w),p=""}}const k=()=>{for(;m!==null;){if(Ba(m,t)||o!==void 0&&Ba(m,o))switch(m.content.constructor){case es:{const P=u.get("ychange");t!==void 0&&!Ba(m,t)?(P===void 0||P.user!==m.id.client||P.type!=="removed")&&(_(),u.set("ychange",a?a("removed",m.id):{type:"removed"})):o!==void 0&&!Ba(m,o)?(P===void 0||P.user!==m.id.client||P.type!=="added")&&(_(),u.set("ychange",a?a("added",m.id):{type:"added"})):P!==void 0&&(_(),u.delete("ychange")),p+=m.content.str;break}case js:case Al:{_();const P={insert:m.content.getContent()[0]};if(u.size>0){const x={};P.attributes=x,u.forEach((w,C)=>{x[C]=w})}d.push(P);break}case wn:Ba(m,t)&&(_(),ou(u,m.content));break}m=m.right}_()};return t||o?Lt(f,P=>{t&&q0(P,t),o&&q0(P,o),k()},"cleanup"):k(),d}insert(t,o,a){if(o.length<=0)return;const d=this.doc;d!==null?Lt(d,u=>{const f=Ih(u,this,t,!a);a||(a={},f.currentAttributes.forEach((p,m)=>{a[m]=p})),F0(u,this,f,o,a)}):this._pending.push(()=>this.insert(t,o,a))}insertEmbed(t,o,a){const d=this.doc;d!==null?Lt(d,u=>{const f=Ih(u,this,t,!a);F0(u,this,f,o,a||{})}):this._pending.push(()=>this.insertEmbed(t,o,a||{}))}delete(t,o){if(o===0)return;const a=this.doc;a!==null?Lt(a,d=>{Pm(d,Ih(d,this,t,!0),o)}):this._pending.push(()=>this.delete(t,o))}format(t,o,a){if(o===0)return;const d=this.doc;d!==null?Lt(d,u=>{const f=Ih(u,this,t,!1);f.right!==null&&Em(u,this,f,o,a)}):this._pending.push(()=>this.format(t,o,a))}removeAttribute(t){this.doc!==null?Lt(this.doc,o=>{Qh(o,this,t)}):this._pending.push(()=>this.removeAttribute(t))}setAttribute(t,o){this.doc!==null?Lt(this.doc,a=>{Lp(a,this,t,o)}):this._pending.push(()=>this.setAttribute(t,o))}getAttribute(t){return Mp(this,t)}getAttributes(){return ey(this)}_write(t){t.writeTypeRef(PS)}}const lS=i=>new Za;class O0{constructor(t,o=()=>!0){this._filter=o,this._root=t,this._currentNode=t._start,this._firstCall=!0,t.doc??ir()}[Symbol.iterator](){return this}next(){let t=this._currentNode,o=t&&t.content&&t.content.type;if(t!==null&&(!this._firstCall||t.deleted||!this._filter(o)))do if(o=t.content.type,!t.deleted&&(o.constructor===$a||o.constructor===Ml)&&o._start!==null)t=o._start;else for(;t!==null;){const a=t.next;if(a!==null){t=a;break}else t.parent===this._root?t=null:t=t.parent._item}while(t!==null&&(t.deleted||!this._filter(t.content.type)));return this._firstCall=!1,t===null?{value:void 0,done:!0}:(this._currentNode=t,{value:t.content.type,done:!1})}}class Ml extends qn{constructor(){super(),this._prelimContent=[]}get firstChild(){const t=this._first;return t?t.content.getContent()[0]:null}_integrate(t,o){super._integrate(t,o),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Ml}clone(){const t=new Ml;return t.insert(0,this.toArray().map(o=>o instanceof qn?o.clone():o)),t}get length(){return this.doc??ir(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(t){return new O0(this,t)}querySelector(t){t=t.toUpperCase();const a=new O0(this,d=>d.nodeName&&d.nodeName.toUpperCase()===t).next();return a.done?null:a.value}querySelectorAll(t){return t=t.toUpperCase(),Us(new O0(this,o=>o.nodeName&&o.nodeName.toUpperCase()===t))}_callObserver(t,o){_f(this,t,new cS(this,o,t))}toString(){return K2(this,t=>t.toString()).join("")}toJSON(){return this.toString()}toDOM(t=document,o={},a){const d=t.createDocumentFragment();return a!==void 0&&a._createAssociation(d,this),od(this,u=>{d.insertBefore(u.toDOM(t,o,a),null)}),d}insert(t,o){this.doc!==null?Lt(this.doc,a=>{Z2(a,this,t,o)}):this._prelimContent.splice(t,0,...o)}insertAfter(t,o){if(this.doc!==null)Lt(this.doc,a=>{const d=t&&t instanceof qn?t._item:t;Kh(a,this,d,o)});else{const a=this._prelimContent,d=t===null?0:a.findIndex(u=>u===t)+1;if(d===0&&t!==null)throw Zi("Reference item not found");a.splice(d,0,...o)}}delete(t,o=1){this.doc!==null?Lt(this.doc,a=>{$2(a,this,t,o)}):this._prelimContent.splice(t,o)}toArray(){return X2(this)}push(t){this.insert(this.length,t)}unshift(t){this.insert(0,t)}get(t){return Q2(this,t)}slice(t=0,o=this.length){return q2(this,t,o)}forEach(t){od(this,t)}_write(t){t.writeTypeRef(TS)}}const aS=i=>new Ml;class $a extends Ml{constructor(t="UNDEFINED"){super(),this.nodeName=t,this._prelimAttrs=new Map}get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_integrate(t,o){super._integrate(t,o),this._prelimAttrs.forEach((a,d)=>{this.setAttribute(d,a)}),this._prelimAttrs=null}_copy(){return new $a(this.nodeName)}clone(){const t=new $a(this.nodeName),o=this.getAttributes();return r6(o,(a,d)=>{t.setAttribute(d,a)}),t.insert(0,this.toArray().map(a=>a instanceof qn?a.clone():a)),t}toString(){const t=this.getAttributes(),o=[],a=[];for(const p in t)a.push(p);a.sort();const d=a.length;for(let p=0;p<d;p++){const m=a[p];o.push(m+'="'+t[m]+'"')}const u=this.nodeName.toLocaleLowerCase(),f=o.length>0?" "+o.join(" "):"";return`<${u}${f}>${super.toString()}</${u}>`}removeAttribute(t){this.doc!==null?Lt(this.doc,o=>{Qh(o,this,t)}):this._prelimAttrs.delete(t)}setAttribute(t,o){this.doc!==null?Lt(this.doc,a=>{Lp(a,this,t,o)}):this._prelimAttrs.set(t,o)}getAttribute(t){return Mp(this,t)}hasAttribute(t){return ty(this,t)}getAttributes(t){return t?Z_(this,t):ey(this)}toDOM(t=document,o={},a){const d=t.createElement(this.nodeName),u=this.getAttributes();for(const f in u){const p=u[f];typeof p=="string"&&d.setAttribute(f,p)}return od(this,f=>{d.appendChild(f.toDOM(t,o,a))}),a!==void 0&&a._createAssociation(d,this),d}_write(t){t.writeTypeRef(NS),t.writeKey(this.nodeName)}}const uS=i=>new $a(i.readKey());class cS extends yf{constructor(t,o,a){super(t,a),this.childListChanged=!1,this.attributesChanged=new Set,o.forEach(d=>{d===null?this.childListChanged=!0:this.attributesChanged.add(d)})}}class Jh extends Ja{constructor(t){super(),this.hookName=t}_copy(){return new Jh(this.hookName)}clone(){const t=new Jh(this.hookName);return this.forEach((o,a)=>{t.set(a,o)}),t}toDOM(t=document,o={},a){const d=o[this.hookName];let u;return d!==void 0?u=d.createDom(this):u=document.createElement(this.hookName),u.setAttribute("data-yjs-hook",this.hookName),a!==void 0&&a._createAssociation(u,this),u}_write(t){t.writeTypeRef(RS),t.writeKey(this.hookName)}}const dS=i=>new Jh(i.readKey());class Zh extends Za{get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_copy(){return new Zh}clone(){const t=new Zh;return t.applyDelta(this.toDelta()),t}toDOM(t=document,o,a){const d=t.createTextNode(this.toString());return a!==void 0&&a._createAssociation(d,this),d}toString(){return this.toDelta().map(t=>{const o=[];for(const d in t.attributes){const u=[];for(const f in t.attributes[d])u.push({key:f,value:t.attributes[d][f]});u.sort((f,p)=>f.key<p.key?-1:1),o.push({nodeName:d,attrs:u})}o.sort((d,u)=>d.nodeName<u.nodeName?-1:1);let a="";for(let d=0;d<o.length;d++){const u=o[d];a+=`<${u.nodeName}`;for(let f=0;f<u.attrs.length;f++){const p=u.attrs[f];a+=` ${p.key}="${p.value}"`}a+=">"}a+=t.insert;for(let d=o.length-1;d>=0;d--)a+=`</${o[d].nodeName}>`;return a}).join("")}toJSON(){return this.toString()}_write(t){t.writeTypeRef(LS)}}const hS=i=>new Zh;class Dp{constructor(t,o){this.id=t,this.length=o}get deleted(){throw Pi()}mergeWith(t){return!1}write(t,o,a){throw Pi()}integrate(t,o){throw Pi()}}const fS=0;class oi extends Dp{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,o){o>0&&(this.id.clock+=o,this.length-=o),B2(t.doc.store,this)}write(t,o){t.writeInfo(fS),t.writeLen(this.length-o)}getMissing(t,o){return null}}class pd{constructor(t){this.content=t}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new pd(this.content)}splice(t){throw Pi()}mergeWith(t){return!1}integrate(t,o){}delete(t){}gc(t){}write(t,o){t.writeBuf(this.content)}getRef(){return 3}}const pS=i=>new pd(i.readBuf());class ld{constructor(t){this.len=t}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new ld(this.len)}splice(t){const o=new ld(this.len-t);return this.len=t,o}mergeWith(t){return this.len+=t.len,!0}integrate(t,o){qh(t.deleteSet,o.id.client,o.id.clock,this.len),o.markDeleted()}delete(t){}gc(t){}write(t,o){t.writeLen(this.len-o)}getRef(){return 1}}const gS=i=>new ld(i.readLen()),oy=(i,t)=>new su({guid:i,...t,shouldLoad:t.shouldLoad||t.autoLoad||!1});class gd{constructor(t){t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;const o={};this.opts=o,t.gc||(o.gc=!1),t.autoLoad&&(o.autoLoad=!0),t.meta!==null&&(o.meta=t.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new gd(oy(this.doc.guid,this.opts))}splice(t){throw Pi()}mergeWith(t){return!1}integrate(t,o){this.doc._item=o,t.subdocsAdded.add(this.doc),this.doc.shouldLoad&&t.subdocsLoaded.add(this.doc)}delete(t){t.subdocsAdded.has(this.doc)?t.subdocsAdded.delete(this.doc):t.subdocsRemoved.add(this.doc)}gc(t){}write(t,o){t.writeString(this.doc.guid),t.writeAny(this.opts)}getRef(){return 9}}const mS=i=>new gd(oy(i.readString(),i.readAny()));class Al{constructor(t){this.embed=t}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new Al(this.embed)}splice(t){throw Pi()}mergeWith(t){return!1}integrate(t,o){}delete(t){}gc(t){}write(t,o){t.writeJSON(this.embed)}getRef(){return 5}}const yS=i=>new Al(i.readJSON());class wn{constructor(t,o){this.key=t,this.value=o}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new wn(this.key,this.value)}splice(t){throw Pi()}mergeWith(t){return!1}integrate(t,o){const a=o.parent;a._searchMarker=null,a._hasFormatting=!0}delete(t){}gc(t){}write(t,o){t.writeKey(this.key),t.writeJSON(this.value)}getRef(){return 6}}const vS=i=>new wn(i.readKey(),i.readJSON());class $h{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new $h(this.arr)}splice(t){const o=new $h(this.arr.slice(t));return this.arr=this.arr.slice(0,t),o}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,o){}delete(t){}gc(t){}write(t,o){const a=this.arr.length;t.writeLen(a-o);for(let d=o;d<a;d++){const u=this.arr[d];t.writeString(u===void 0?"undefined":JSON.stringify(u))}}getRef(){return 2}}const _S=i=>{const t=i.readLen(),o=[];for(let a=0;a<t;a++){const d=i.readString();d==="undefined"?o.push(void 0):o.push(JSON.parse(d))}return new $h(o)},SS=Vh("node_env")==="development";class Dl{constructor(t){this.arr=t,SS&&n2(t)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Dl(this.arr)}splice(t){const o=new Dl(this.arr.slice(t));return this.arr=this.arr.slice(0,t),o}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,o){}delete(t){}gc(t){}write(t,o){const a=this.arr.length;t.writeLen(a-o);for(let d=o;d<a;d++){const u=this.arr[d];t.writeAny(u)}}getRef(){return 8}}const wS=i=>{const t=i.readLen(),o=[];for(let a=0;a<t;a++)o.push(i.readAny());return new Dl(o)};class es{constructor(t){this.str=t}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new es(this.str)}splice(t){const o=new es(this.str.slice(t));this.str=this.str.slice(0,t);const a=this.str.charCodeAt(t-1);return a>=55296&&a<=56319&&(this.str=this.str.slice(0,t-1)+"",o.str=""+o.str.slice(1)),o}mergeWith(t){return this.str+=t.str,!0}integrate(t,o){}delete(t){}gc(t){}write(t,o){t.writeString(o===0?this.str:this.str.slice(o))}getRef(){return 4}}const kS=i=>new es(i.readString()),xS=[eS,nS,lS,uS,aS,dS,hS],CS=0,ES=1,PS=2,NS=3,TS=4,RS=5,LS=6;class js{constructor(t){this.type=t}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new js(this.type._copy())}splice(t){throw Pi()}mergeWith(t){return!1}integrate(t,o){this.type._integrate(t.doc,o)}delete(t){let o=this.type._start;for(;o!==null;)o.deleted?o.id.clock<(t.beforeState.get(o.id.client)||0)&&t._mergeStructs.push(o):o.delete(t),o=o.right;this.type._map.forEach(a=>{a.deleted?a.id.clock<(t.beforeState.get(a.id.client)||0)&&t._mergeStructs.push(a):a.delete(t)}),t.changed.delete(this.type)}gc(t){let o=this.type._start;for(;o!==null;)o.gc(t,!0),o=o.right;this.type._start=null,this.type._map.forEach(a=>{for(;a!==null;)a.gc(t,!0),a=a.left}),this.type._map=new Map}write(t,o){this.type._write(t)}getRef(){return 7}}const MS=i=>new js(xS[i.readTypeRef()](i)),ef=(i,t,o)=>{const{client:a,clock:d}=t.id,u=new Sn(it(a,d+o),t,it(a,d+o-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(o));return t.deleted&&u.markDeleted(),t.keep&&(u.keep=!0),t.redone!==null&&(u.redone=it(t.redone.client,t.redone.clock+o)),t.right=u,u.right!==null&&(u.right.left=u),i._mergeStructs.push(u),u.parentSub!==null&&u.right===null&&u.parent._map.set(u.parentSub,u),t.length=o,u};class Sn extends Dp{constructor(t,o,a,d,u,f,p,m){super(t,m.getLength()),this.origin=a,this.left=o,this.right=d,this.rightOrigin=u,this.parent=f,this.parentSub=p,this.redone=null,this.content=m,this.info=this.content.isCountable()?im:0}set marker(t){(this.info&T0)>0!==t&&(this.info^=T0)}get marker(){return(this.info&T0)>0}get keep(){return(this.info&rm)>0}set keep(t){this.keep!==t&&(this.info^=rm)}get countable(){return(this.info&im)>0}get deleted(){return(this.info&N0)>0}set deleted(t){this.deleted!==t&&(this.info^=N0)}markDeleted(){this.info|=N0}getMissing(t,o){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=In(o,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=In(o,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Wa&&this.id.client!==this.parent.client&&this.parent.clock>=In(o,this.parent.client))return this.parent.client;if(this.origin&&(this.left=Sm(t,o,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=jo(t,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===oi||this.right&&this.right.constructor===oi)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===Sn?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===Sn&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===Wa){const a=A0(o,this.parent);a.constructor===oi?this.parent=null:this.parent=a.content.type}return null}integrate(t,o){if(o>0&&(this.id.clock+=o,this.left=Sm(t,t.doc.store,it(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(o),this.length-=o),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let a=this.left,d;if(a!==null)d=a.right;else if(this.parentSub!==null)for(d=this.parent._map.get(this.parentSub)||null;d!==null&&d.left!==null;)d=d.left;else d=this.parent._start;const u=new Set,f=new Set;for(;d!==null&&d!==this.right;){if(f.add(d),u.add(d),Mh(this.origin,d.origin)){if(d.id.client<this.id.client)a=d,u.clear();else if(Mh(this.rightOrigin,d.rightOrigin))break}else if(d.origin!==null&&f.has(A0(t.doc.store,d.origin)))u.has(A0(t.doc.store,d.origin))||(a=d,u.clear());else break;d=d.right}this.left=a}if(this.left!==null){const a=this.left.right;this.right=a,this.left.right=this}else{let a;if(this.parentSub!==null)for(a=this.parent._map.get(this.parentSub)||null;a!==null&&a.left!==null;)a=a.left;else a=this.parent._start,this.parent._start=this;this.right=a}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(t)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),B2(t.doc.store,this),this.content.integrate(t,this),km(t,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(t)}else new oi(this.id,this.length).integrate(t,0)}get next(){let t=this.right;for(;t!==null&&t.deleted;)t=t.right;return t}get prev(){let t=this.left;for(;t!==null&&t.deleted;)t=t.left;return t}get lastId(){return this.length===1?this.id:it(this.id.client,this.id.clock+this.length-1)}mergeWith(t){if(this.constructor===t.constructor&&Mh(t.origin,this.lastId)&&this.right===t&&Mh(this.rightOrigin,t.rightOrigin)&&this.id.client===t.id.client&&this.id.clock+this.length===t.id.clock&&this.deleted===t.deleted&&this.redone===null&&t.redone===null&&this.content.constructor===t.content.constructor&&this.content.mergeWith(t.content)){const o=this.parent._searchMarker;return o&&o.forEach(a=>{a.p===t&&(a.p=this,!this.deleted&&this.countable&&(a.index-=this.length))}),t.keep&&(this.keep=!0),this.right=t.right,this.right!==null&&(this.right.left=this),this.length+=t.length,!0}return!1}delete(t){if(!this.deleted){const o=this.parent;this.countable&&this.parentSub===null&&(o._length-=this.length),this.markDeleted(),qh(t.deleteSet,this.id.client,this.id.clock,this.length),km(t,o,this.parentSub),this.content.delete(t)}}gc(t,o){if(!this.deleted)throw ai();this.content.gc(t),o?O_(t,this,new oi(this.id,this.length)):this.content=new ld(this.length)}write(t,o){const a=o>0?it(this.id.client,this.id.clock+o-1):this.origin,d=this.rightOrigin,u=this.parentSub,f=this.content.getRef()&lf|(a===null?0:Gr)|(d===null?0:zs)|(u===null?0:$c);if(t.writeInfo(f),a!==null&&t.writeLeftID(a),d!==null&&t.writeRightID(d),a===null&&d===null){const p=this.parent;if(p._item!==void 0){const m=p._item;if(m===null){const _=A_(p);t.writeParentInfo(!0),t.writeString(_)}else t.writeParentInfo(!1),t.writeLeftID(m.id)}else p.constructor===String?(t.writeParentInfo(!0),t.writeString(p)):p.constructor===Wa?(t.writeParentInfo(!1),t.writeLeftID(p)):ai();u!==null&&t.writeString(u)}this.content.write(t,o)}}const ly=(i,t)=>DS[t&lf](i),DS=[()=>{ai()},gS,_S,pS,kS,yS,vS,MS,wS,mS,()=>{ai()}],IS=10;class li extends Dp{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,o){ai()}write(t,o){t.writeInfo(IS),Ue(t.restEncoder,this.length-o)}getMissing(t,o){return null}}const ay=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},uy="__ $YJS$ __";ay[uy]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");ay[uy]=!0;const cy=new Map;class AS{constructor(t){this.room=t,this.onmessage=null,this._onChange=o=>o.key===t&&this.onmessage!==null&&this.onmessage({data:w6(o.newValue||"")}),Z8(this._onChange)}postMessage(t){e2.setItem(this.room,S6(g6(t)))}close(){$8(this._onChange)}}const FS=typeof BroadcastChannel>"u"?AS:BroadcastChannel,Ip=i=>ts(cy,i,()=>{const t=Uo(),o=new FS(i);return o.onmessage=a=>t.forEach(d=>d(a.data,"broadcastchannel")),{bc:o,subs:t}}),OS=(i,t)=>(Ip(i).subs.add(t),t),zS=(i,t)=>{const o=Ip(i),a=o.subs.delete(t);return a&&o.subs.size===0&&(o.bc.close(),cy.delete(i)),a},Ga=(i,t,o=null)=>{const a=Ip(i);a.bc.postMessage(t),a.subs.forEach(d=>d(t,o))},dy=0,Ap=1,hy=2,Q0=(i,t)=>{Ue(i,dy);const o=D_(t);tn(i,o)},fy=(i,t,o)=>{Ue(i,Ap),tn(i,T_(t,o))},US=(i,t,o)=>fy(t,o,nr(i)),py=(i,t,o,a)=>{try{E_(t,nr(i),o)}catch(d){a!=null&&a(d),console.error("Caught error while handling a Yjs update",d)}},bS=(i,t)=>{Ue(i,hy),tn(i,t)},jS=py,BS=(i,t,o,a,d)=>{const u=qe(i);switch(u){case dy:US(i,t,o);break;case Ap:py(i,o,a,d);break;case hy:jS(i,o,a,d);break;default:throw new Error("Unknown message type")}return u},GS=0,VS=(i,t,o)=>{switch(qe(i)){case GS:o(t,zo(i))}},z0=3e4;class HS extends v8{constructor(t){super(),this.doc=t,this.clientID=t.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const o=Rl();this.getLocalState()!==null&&z0/2<=o-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const a=[];this.meta.forEach((d,u)=>{u!==this.clientID&&z0<=o-d.lastUpdated&&this.states.has(u)&&a.push(u)}),a.length>0&&Fp(this,a,"timeout")},Ni(z0/10)),t.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(t){const o=this.clientID,a=this.meta.get(o),d=a===void 0?0:a.clock+1,u=this.states.get(o);t===null?this.states.delete(o):this.states.set(o,t),this.meta.set(o,{clock:d,lastUpdated:Rl()});const f=[],p=[],m=[],_=[];t===null?_.push(o):u==null?t!=null&&f.push(o):(p.push(o),Va(u,t)||m.push(o)),(f.length>0||m.length>0||_.length>0)&&this.emit("change",[{added:f,updated:m,removed:_},"local"]),this.emit("update",[{added:f,updated:p,removed:_},"local"])}setLocalStateField(t,o){const a=this.getLocalState();a!==null&&this.setLocalState({...a,[t]:o})}getStates(){return this.states}}const Fp=(i,t,o)=>{const a=[];for(let d=0;d<t.length;d++){const u=t[d];if(i.states.has(u)){if(i.states.delete(u),u===i.clientID){const f=i.meta.get(u);i.meta.set(u,{clock:f.clock+1,lastUpdated:Rl()})}a.push(u)}}a.length>0&&(i.emit("change",[{added:[],updated:[],removed:a},o]),i.emit("update",[{added:[],updated:[],removed:a},o]))},Jc=(i,t,o=i.states)=>{const a=t.length,d=rr();Ue(d,a);for(let u=0;u<a;u++){const f=t[u],p=o.get(f)||null,m=i.meta.get(f).clock;Ue(d,f),Ue(d,m),Tl(d,JSON.stringify(p))}return bt(d)},WS=(i,t,o)=>{const a=Go(t),d=Rl(),u=[],f=[],p=[],m=[],_=qe(a);for(let k=0;k<_;k++){const P=qe(a);let x=qe(a);const w=JSON.parse(zo(a)),C=i.meta.get(P),N=i.states.get(P),M=C===void 0?0:C.clock;(M<x||M===x&&w===null&&i.states.has(P))&&(w===null?P===i.clientID&&i.getLocalState()!=null?x++:i.states.delete(P):i.states.set(P,w),i.meta.set(P,{clock:x,lastUpdated:d}),C===void 0&&w!==null?u.push(P):C!==void 0&&w===null?m.push(P):w!==null&&(Va(w,N)||p.push(P),f.push(P)))}(u.length>0||p.length>0||m.length>0)&&i.emit("change",[{added:u,updated:p,removed:m},o]),(u.length>0||f.length>0||m.length>0)&&i.emit("update",[{added:u,updated:f,removed:m},o])},YS=i=>i6(i,(t,o)=>`${encodeURIComponent(o)}=${encodeURIComponent(t)}`).join("&"),Pl=0,gy=3,qa=1,qS=2,md=[];md[Pl]=(i,t,o,a,d)=>{Ue(i,Pl);const u=BS(t,i,o.doc,o);a&&u===Ap&&!o.synced&&(o.synced=!0)};md[gy]=(i,t,o,a,d)=>{Ue(i,qa),tn(i,Jc(o.awareness,Array.from(o.awareness.getStates().keys())))};md[qa]=(i,t,o,a,d)=>{WS(o.awareness,nr(t),o)};md[qS]=(i,t,o,a,d)=>{VS(t,o.doc,(u,f)=>XS(o,f))};const Nm=3e4,XS=(i,t)=>console.warn(`Permission denied to access ${i.url}.
${t}`),my=(i,t,o)=>{const a=Go(t),d=rr(),u=qe(a),f=i.messageHandlers[u];return f?f(d,a,i,o,u):console.error("Unable to compute message"),d},J0=(i,t,o)=>{t===i.ws&&(i.emit("connection-close",[o,i]),i.ws=null,t.close(),i.wsconnecting=!1,i.wsconnected?(i.wsconnected=!1,i.synced=!1,Fp(i.awareness,Array.from(i.awareness.getStates().keys()).filter(a=>a!==i.doc.clientID),i),i.emit("status",[{status:"disconnected"}])):i.wsUnsuccessfulReconnects++,setTimeout(yy,ap(_8(2,i.wsUnsuccessfulReconnects)*100,i.maxBackoffTime),i))},yy=i=>{if(i.shouldConnect&&i.ws===null){const t=new i._WS(i.url,i.protocols);t.binaryType="arraybuffer",i.ws=t,i.wsconnecting=!0,i.wsconnected=!1,i.synced=!1,t.onmessage=o=>{i.wsLastMessageReceived=Rl();const a=my(i,new Uint8Array(o.data),!0);up(a)>1&&t.send(bt(a))},t.onerror=o=>{i.emit("connection-error",[o,i])},t.onclose=o=>{J0(i,t,o)},t.onopen=()=>{i.wsLastMessageReceived=Rl(),i.wsconnecting=!1,i.wsconnected=!0,i.wsUnsuccessfulReconnects=0,i.emit("status",[{status:"connected"}]);const o=rr();if(Ue(o,Pl),Q0(o,i.doc),t.send(bt(o)),i.awareness.getLocalState()!==null){const a=rr();Ue(a,qa),tn(a,Jc(i.awareness,[i.doc.clientID])),t.send(bt(a))}},i.emit("status",[{status:"connecting"}])}},U0=(i,t)=>{const o=i.ws;i.wsconnected&&o&&o.readyState===o.OPEN&&o.send(t),i.bcconnected&&Ga(i.bcChannel,t,i)};class KS extends qm{constructor(t,o,a,{connect:d=!0,awareness:u=new HS(a),params:f={},protocols:p=[],WebSocketPolyfill:m=WebSocket,resyncInterval:_=-1,maxBackoffTime:k=2500,disableBc:P=!1}={}){for(super();t[t.length-1]==="/";)t=t.slice(0,t.length-1);this.serverUrl=t,this.bcChannel=t+"/"+o,this.maxBackoffTime=k,this.params=f,this.protocols=p,this.roomname=o,this.doc=a,this._WS=m,this.awareness=u,this.wsconnected=!1,this.wsconnecting=!1,this.bcconnected=!1,this.disableBc=P,this.wsUnsuccessfulReconnects=0,this.messageHandlers=md.slice(),this._synced=!1,this.ws=null,this.wsLastMessageReceived=0,this.shouldConnect=d,this._resyncInterval=0,_>0&&(this._resyncInterval=setInterval(()=>{if(this.ws&&this.ws.readyState===WebSocket.OPEN){const x=rr();Ue(x,Pl),Q0(x,a),this.ws.send(bt(x))}},_)),this._bcSubscriber=(x,w)=>{if(w!==this){const C=my(this,new Uint8Array(x),!1);up(C)>1&&Ga(this.bcChannel,bt(C),this)}},this._updateHandler=(x,w)=>{if(w!==this){const C=rr();Ue(C,Pl),bS(C,x),U0(this,bt(C))}},this.doc.on("update",this._updateHandler),this._awarenessUpdateHandler=({added:x,updated:w,removed:C},N)=>{const M=x.concat(w).concat(C),b=rr();Ue(b,qa),tn(b,Jc(u,M)),U0(this,bt(b))},this._exitHandler=()=>{Fp(this.awareness,[a.clientID],"app closed")},bo&&typeof process<"u"&&process.on("exit",this._exitHandler),u.on("update",this._awarenessUpdateHandler),this._checkInterval=setInterval(()=>{this.wsconnected&&Nm<Rl()-this.wsLastMessageReceived&&J0(this,this.ws,null)},Nm/10),d&&this.connect()}get url(){const t=YS(this.params);return this.serverUrl+"/"+this.roomname+(t.length===0?"":"?"+t)}get synced(){return this._synced}set synced(t){this._synced!==t&&(this._synced=t,this.emit("synced",[t]),this.emit("sync",[t]))}destroy(){this._resyncInterval!==0&&clearInterval(this._resyncInterval),clearInterval(this._checkInterval),this.disconnect(),bo&&typeof process<"u"&&process.off("exit",this._exitHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),super.destroy()}connectBc(){if(this.disableBc)return;this.bcconnected||(OS(this.bcChannel,this._bcSubscriber),this.bcconnected=!0);const t=rr();Ue(t,Pl),Q0(t,this.doc),Ga(this.bcChannel,bt(t),this);const o=rr();Ue(o,Pl),fy(o,this.doc),Ga(this.bcChannel,bt(o),this);const a=rr();Ue(a,gy),Ga(this.bcChannel,bt(a),this);const d=rr();Ue(d,qa),tn(d,Jc(this.awareness,[this.doc.clientID])),Ga(this.bcChannel,bt(d),this)}disconnectBc(){const t=rr();Ue(t,qa),tn(t,Jc(this.awareness,[this.doc.clientID],new Map)),U0(this,bt(t)),this.bcconnected&&(zS(this.bcChannel,this._bcSubscriber),this.bcconnected=!1)}disconnect(){this.shouldConnect=!1,this.disconnectBc(),this.ws!==null&&J0(this,this.ws,null)}connect(){this.shouldConnect=!0,!this.wsconnected&&this.ws===null&&(yy(this),this.connectBc())}}const Tm="ws://localhost:1234",QS="http://localhost:1234";async function JS(i){try{const t=await fetch(`${QS}/api/rooms/${encodeURIComponent(i)}/exists`);return t.ok?(await t.json()).exists===!0:!1}catch{return!1}}function ZS({roomId:i,isCreating:t=!1}){var j;const{shapes:o,layers:a,setState:d}=Vr(),{setConnected:u,setRoom:f,setUser:p,userName:m,userColor:_,updateCursor:k,clearCursors:P}=op(),[x,w]=we.useState(null),[C,N]=we.useState(!1),M=we.useRef(null),b=we.useRef(null),T=we.useRef(!1),v=we.useRef(Oh());we.useEffect(()=>{if(!i){u(!1),w(null);return}let H=!1;return(async()=>{if(N(!0),w(null),!t){const pe=await JS(i);if(H)return;if(!pe){w("Room not found. Please check the ID and try again."),N(!1),u(!1);return}}const z=t?`${Tm}`:Tm,B=new su;M.current=B;const q=t?`${i}?create=true`:i,K=new KS(z,q,B);b.current=K;const ee=B.getMap("shapes"),ne=B.getArray("layers"),$=K.awareness;if(p(v.current,m,_),f(i),K.on("status",pe=>{if(H)return;const A=pe.status==="connected";u(A),N(!1),!A&&pe.status}),K.on("connection-close",pe=>{H||pe&&pe.code===4004&&(w("Room not found. Please check the ID and try again."),u(!1))}),$.setLocalStateField("user",{id:v.current,name:m,color:_}),$.on("change",()=>{if(H)return;$.getStates().forEach((A,U)=>{if(U===B.clientID)return;const W=A.user,G=A.cursor;W&&G&&k({id:W.id,name:W.name,color:W.color,x:G.x,y:G.y})})}),ee.observe(()=>{if(T.current||H)return;T.current=!0;const pe={};ee.forEach((A,U)=>{pe[U]=A}),d({shapes:pe}),T.current=!1}),ne.observe(()=>{if(T.current||H)return;T.current=!0;const pe=ne.toArray();d({layers:pe}),T.current=!1}),ee.size>0||ne.length>0){const pe={};ee.forEach((A,U)=>{pe[U]=A}),d({shapes:pe,layers:ne.toArray()})}})(),()=>{H=!0,b.current&&(b.current.destroy(),b.current=null),M.current&&(M.current.destroy(),M.current=null),P(),u(!1)}},[i,t,m,_,d,u,f,p,k,P]),we.useEffect(()=>{if(!M.current||!b.current||T.current)return;const H=M.current,I=H.getMap("shapes"),z=H.getArray("layers");H.transact(()=>{const B=new Set(Object.keys(o)),q=new Set;I.forEach((K,ee)=>q.add(ee)),Object.entries(o).forEach(([K,ee])=>{const ne=I.get(K);(!ne||JSON.stringify(ne)!==JSON.stringify(ee))&&I.set(K,ee)}),q.forEach(K=>{B.has(K)||I.delete(K)}),(z.length!==a.length||JSON.stringify(z.toArray())!==JSON.stringify(a))&&(z.delete(0,z.length),a.forEach(K=>z.push([K])))})},[o,a]);const L=we.useCallback((H,I)=>{b.current&&b.current.awareness.setLocalStateField("cursor",{x:H,y:I})},[]),D=we.useCallback(()=>{b.current&&(b.current.destroy(),b.current=null),M.current&&(M.current.destroy(),M.current=null),P(),u(!1),f(null),w(null)},[P,u,f]);return{updateCursorPosition:L,disconnect:D,isConnected:((j=b.current)==null?void 0:j.wsconnected)??!1,error:x,isLoading:C}}const $S="_app_mzjdb_1",e9="_main_mzjdb_9",t9="_leftPanel_mzjdb_15",n9="_rightPanel_mzjdb_23",Ah={app:$S,main:e9,leftPanel:t9,rightPanel:n9};function r9(){const[i,t]=we.useState(null),[o,a]=we.useState(!1);we.useEffect(()=>{const w=new URLSearchParams(window.location.search).get("room");w&&(a(!1),t(w))},[]),f8();const{updateCursorPosition:d,disconnect:u,error:f,isLoading:p}=ZS({roomId:i,isCreating:o}),m=we.useCallback((x,w)=>{i&&d(x,w)},[i,d]),_=we.useCallback(x=>{a(!1),t(x);const w=new URL(window.location.href);w.searchParams.set("room",x),window.history.pushState({},"",w.toString())},[]),k=we.useCallback(x=>{a(!0),t(x);const w=new URL(window.location.href);w.searchParams.set("room",x),window.history.pushState({},"",w.toString())},[]),P=we.useCallback(()=>{u(),t(null),a(!1);const x=new URL(window.location.href);x.searchParams.delete("room"),window.history.pushState({},"",x.toString())},[u]);return J.jsxs("div",{className:Ah.app,children:[J.jsx(v5,{}),J.jsxs("div",{className:Ah.main,children:[J.jsx("div",{className:Ah.leftPanel,children:J.jsx(b5,{})}),J.jsx(C3,{onCursorMove:m}),J.jsxs("div",{className:Ah.rightPanel,children:[J.jsx(d8,{roomId:i,onJoinRoom:_,onCreateRoom:k,onLeaveRoom:P,error:f,isLoading:p}),J.jsx(U5,{})]})]})]})}Qy.createRoot(document.getElementById("root")).render(J.jsx(Yn.StrictMode,{children:J.jsx(r9,{})}));
